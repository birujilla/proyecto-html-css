/*! luxury-estate-site-v3 */

webpackJsonp([1],{0:function(t,e){t.exports=jQuery},1:function(t,e){t.exports=window},100:function(t,e){function i(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var o=Function.prototype,n=o.toString;t.exports=i},101:function(t,e){function i(t,e){return null==t?void 0:t[e]}t.exports=i},102:function(t,e,i){function o(t,e,i,o){var r=!i;i||(i={});for(var a=-1,l=e.length;++a<l;){var p=e[a],c=o?o(i[p],t[p],p,i,t):void 0;void 0===c&&(c=t[p]),r?s(i,p,c):n(i,p,c)}return i}var n=i(53),s=i(54);t.exports=o},103:function(t,e,i){function o(t){return n(function(e,i){var o=-1,n=i.length,r=n>1?i[n-1]:void 0,a=n>2?i[2]:void 0;for(r=t.length>3&&"function"==typeof r?(n--,r):void 0,a&&s(i[0],i[1],a)&&(r=n<3?void 0:r,n=1),e=Object(e);++o<n;){var l=i[o];l&&t(e,l,o,r)}return e})}var n=i(104),s=i(111);t.exports=o},104:function(t,e,i){function o(t,e){return r(s(t,e,n),t+"")}var n=i(58),s=i(105),r=i(107);t.exports=o},105:function(t,e,i){function o(t,e,i){return e=s(void 0===e?t.length-1:e,0),function(){for(var o=arguments,r=-1,a=s(o.length-e,0),l=Array(a);++r<a;)l[r]=o[e+r];r=-1;for(var p=Array(e+1);++r<e;)p[r]=o[r];return p[e]=i(l),n(t,this,p)}}var n=i(106),s=Math.max;t.exports=o},106:function(t,e){function i(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}t.exports=i},107:function(t,e,i){var o=i(108),n=i(110),s=n(o);t.exports=s},108:function(t,e,i){var o=i(109),n=i(55),s=i(58),r=n?function(t,e){return n(t,"toString",{configurable:!0,enumerable:!1,value:o(e),writable:!0})}:s;t.exports=r},109:function(t,e){function i(t){return function(){return t}}t.exports=i},110:function(t,e){function i(t){var e=0,i=0;return function(){var r=s(),a=n-(r-i);if(i=r,a>0){if(++e>=o)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var o=800,n=16,s=Date.now;t.exports=i},111:function(t,e,i){function o(t,e,i){if(!a(i))return!1;var o=typeof e;return!!("number"==o?s(i)&&r(e,i.length):"string"==o&&e in i)&&n(i[e],t)}var n=i(57),s=i(35),r=i(60),a=i(34);t.exports=o},112:function(t,e,i){function o(t){return r(t)?n(t):s(t)}var n=i(113),s=i(123),r=i(35);t.exports=o},113:function(t,e,i){function o(t,e){var i=r(t),o=!i&&s(t),c=!i&&!o&&a(t),d=!i&&!o&&!c&&p(t),h=i||o||c||d,m=h?n(t.length,String):[],f=m.length;for(var y in t)!e&&!u.call(t,y)||h&&("length"==y||c&&("offset"==y||"parent"==y)||d&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||l(y,f))||m.push(y);return m}var n=i(114),s=i(115),r=i(144),a=i(117),l=i(60),p=i(119),c=Object.prototype,u=c.hasOwnProperty;t.exports=o},114:function(t,e){function i(t,e){for(var i=-1,o=Array(t);++i<t;)o[i]=e(i);return o}t.exports=i},115:function(t,e,i){var o=i(116),n=i(38),s=Object.prototype,r=s.hasOwnProperty,a=s.propertyIsEnumerable,l=o(function(){return arguments}())?o:function(t){return n(t)&&r.call(t,"callee")&&!a.call(t,"callee")};t.exports=l},116:function(t,e,i){function o(t){return s(t)&&n(t)==r}var n=i(37),s=i(38),r="[object Arguments]";t.exports=o},117:function(t,e,i){(function(t){var o=i(66),n=i(118),s="object"==typeof e&&e&&!e.nodeType&&e,r=s&&"object"==typeof t&&t&&!t.nodeType&&t,a=r&&r.exports===s,l=a?o.Buffer:void 0,p=l?l.isBuffer:void 0,c=p||n;t.exports=c}).call(e,i(41)(t))},118:function(t,e){function i(){return!1}t.exports=i},119:function(t,e,i){var o=i(120),n=i(121),s=i(122),r=s&&s.isTypedArray,a=r?n(r):o;t.exports=a},120:function(t,e,i){function o(t){return r(t)&&s(t.length)&&!!a[n(t)]}var n=i(37),s=i(59),r=i(38),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=o},121:function(t,e){function i(t){return function(e){return t(e)}}t.exports=i},122:function(t,e,i){(function(t){var o=i(143),n="object"==typeof e&&e&&!e.nodeType&&e,s=n&&"object"==typeof t&&t&&!t.nodeType&&t,r=s&&s.exports===n,a=r&&o.process,l=function(){try{return a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=l}).call(e,i(41)(t))},123:function(t,e,i){function o(t){if(!n(t))return s(t);var e=[];for(var i in Object(t))a.call(t,i)&&"constructor"!=i&&e.push(i);return e}var n=i(61),s=i(124),r=Object.prototype,a=r.hasOwnProperty;t.exports=o},124:function(t,e,i){var o=i(125),n=o(Object.keys,Object);t.exports=n},125:function(t,e){function i(t,e){return function(i){return t(e(i))}}t.exports=i},126:function(t,e,i){var o=i(4).twig,n=o({id:"/tmp/current/site-v3/src/LuxuryEstate/AppBundle/Resources/views/Properties/snippets/listing-box-blacklisted.html.twig",data:[{type:"raw",value:'<div class="alert alert-custom">\n    <span data-role="box-blacklists-label">\n        <span class="hidden-xs">\n            '},{type:"output",stack:[{type:"Twig.expression.type.string",value:"propertiesList-boxBlacklisted"},{type:"Twig.expression.type.filter",value:"transchoice",match:["| transchoice","transchoice"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.variable",value:"totBlacklisted",match:["totBlacklisted"]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]},{type:"Twig.expression.type.filter",value:"format",match:["| format","format"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type._function",fn:"path",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:"user_profile-blacklisted-properties"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!0,params:[{type:"Twig.expression.type.variable",value:"totBlacklisted",match:["totBlacklisted"]},{type:"Twig.expression.type.filter",value:"number_format",match:["| number_format","number_format"]}]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]},{type:"Twig.expression.type.filter",value:"raw",match:["| raw","raw"]}]},{type:"raw",value:'\n        </span>\n        <span class="visible-xs">\n            '},{type:"output",stack:[{type:"Twig.expression.type.string",value:"propertiesListMaps-boxBlacklisted"},{type:"Twig.expression.type.filter",value:"transchoice",match:["| transchoice","transchoice"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.variable",value:"totBlacklisted",match:["totBlacklisted"]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]},{type:"Twig.expression.type.filter",value:"format",match:["| format","format"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type._function",fn:"path",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:"user_profile-blacklisted-properties"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!0,params:[{type:"Twig.expression.type.variable",value:"totBlacklisted",match:["totBlacklisted"]},{type:"Twig.expression.type.filter",value:"number_format",match:["| number_format","number_format"]}]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]},{type:"Twig.expression.type.filter",value:"raw",match:["| raw","raw"]}]},{type:"raw",value:'\n        </span>\n    </span>\n    <a href="'},{type:"output",stack:[{type:"Twig.expression.type._function",fn:"path",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:"user_profile-blacklisted-properties"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:'" class="pull-right">\n        <span class="condensed-bold text-uppercase">\n            '},{type:"output",stack:[{type:"Twig.expression.type.string",value:"propertiesList-boxBlacklistedShowAll"},{type:"Twig.expression.type.filter",value:"trans",match:["| trans","trans"]}]},{type:"raw",value:"\n        </span>\n    </a>\n</div>\n"}],allowInlineIncludes:!0,rethrow:!0});t.exports=function(t){return n.render(t)}},127:function(t,e,i){var o=i(4).twig,n=o({id:"/tmp/current/site-v3/src/LuxuryEstate/AppBundle/Resources/views/Properties/snippets/detail-box-image-counters.html.twig",data:[{type:"raw",value:'<div class="box-image_info amount_like hidden-xs'},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"propertyCounters",match:["propertyCounters"]},{type:"Twig.expression.type.key.period",key:"unfavourite"},{type:"Twig.expression.type.number",value:0,match:["0",null]},{type:"Twig.expression.type.operator.binary",value:"==",precidence:9,associativity:"leftToRight",operator:"=="},{type:"Twig.expression.type.variable",value:"propertyCounters",match:["propertyCounters"]},{type:"Twig.expression.type.key.period",key:"favourite"},{type:"Twig.expression.type.number",value:0,match:["0",null]},{type:"Twig.expression.type.operator.binary",value:"==",precidence:9,associativity:"leftToRight",operator:"=="},{type:"Twig.expression.type.operator.binary",value:"and",precidence:13,associativity:"leftToRight",operator:"and"}],output:[{type:"raw",value:" hidden"}]}},{type:"raw",value:'">\n    <span'},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"propertyCounters",match:["propertyCounters"]},{type:"Twig.expression.type.key.period",key:"unfavourite"},{type:"Twig.expression.type.number",value:0,match:["0",null]},{type:"Twig.expression.type.operator.binary",value:"==",precidence:9,associativity:"leftToRight",operator:"=="}],output:[{type:"raw",value:' class="hidden"'}]}},{type:"raw",value:'>\n        <span data-role="blacklisted">'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"propertyCounters",match:["propertyCounters"]},{type:"Twig.expression.type.key.period",key:"unfavourite"},{type:"Twig.expression.type.filter",value:"number_format",match:["| number_format","number_format"]}]},{type:"raw",value:'</span>\n        <i class="icon-icona-croce icon-v-align"></i>\n    </span>\n        <span'},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"propertyCounters",match:["propertyCounters"]},{type:"Twig.expression.type.key.period",key:"favourite"},{type:"Twig.expression.type.number",value:0,match:["0",null]},{type:"Twig.expression.type.operator.binary",value:"==",precidence:9,associativity:"leftToRight",operator:"=="}],output:[{type:"raw",value:' class="hidden"'}]}},{type:"raw",value:'>\n        <span data-role="liked">'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"propertyCounters",match:["propertyCounters"]},{type:"Twig.expression.type.key.period",key:"favourite"},{type:"Twig.expression.type.filter",value:"number_format",match:["| number_format","number_format"]}]},{type:"raw",value:'</span>\n        <i class="icon-icona-cuorevuoto icon-v-align"></i>\n    </span>\n</div>\n'}],allowInlineIncludes:!0,rethrow:!0});t.exports=function(t){return n.render(t)}},128:function(t,e,i){var o=i(4).twig,n=o({id:"/tmp/current/site-v3/src/LuxuryEstate/AppBundle/Resources/views/Properties/snippets/listing-no-results.html.twig",data:[{type:"raw",value:'<div class="cover no-results">\n    <div class="result_text">\n        <h2 class="result_title">'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"propertiesList-NoResult"},{type:"Twig.expression.type.filter",value:"trans",match:["| trans","trans"]}]},{type:"raw",value:"</h2>\n        <p>"},{type:"output",stack:[{type:"Twig.expression.type.string",value:"propertiesList-NoResultSubtitle"},{type:"Twig.expression.type.filter",value:"trans",match:["| trans","trans"]}]},{type:"raw",value:"</p>\n    </div>\n</div>\n"}],allowInlineIncludes:!0,rethrow:!0});t.exports=function(t){return n.render(t)}},158:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},159:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}},160:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}},161:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(51),n=function(t){return t&&t.__esModule?t:{default:t}}(o);e.default=n.default.marker},172:function(t,e,i){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t},s=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),r=i(0),a=i(7),l=i(33),p=i(17),c={descriptionContainer:r('[data-role="description-text-container"]'),descriptionContent:r('[data-role="description-text-content"]'),expandDescription:r('[data-role="description-expand"]'),showOriginal:r('[data-role="description-show-original-container"]'),boxDescriptionTranslate:r('[data-role="description-automatic-translation"]'),translationDisclaimer:r('[data-role="description-translation-disclaimer"]'),translationFail:r('[data-role="description-translation-fail"]'),buttonShowOriginalDescription:r('[data-role="description-show-original"]'),buttonAutomaticTranslation:r('[data-role="description-show-translate"]'),spinner:!0,spinnerStartDelay:400,spinnerClass:"loader_spinner"},u=function(){function t(e){o(this,t),this.options=n({},c,e),this.descriptionUrl=a.generate(e.route),this.translationIsBlocked=!1,this.descriptionIsFullOpen=!1,1===this.options.descriptionContainer.data("autoload-original-description")?this._loadOriginalDescription():this._toogleDescriptionShort(),this._addListeners()}return s(t,[{key:"_addListeners",value:function(){var t=this;this.options.expandDescription.on("click",function(e){e.preventDefault(),t.descriptionIsFullOpen=!0,t.options.descriptionContainer.removeClass("short"),t.options.expandDescription.addClass("hidden")}),this.options.buttonShowOriginalDescription.on("click",function(e){e.preventDefault(),t._loadOriginalDescription()}),this.options.buttonAutomaticTranslation.on("click",function(e){e.preventDefault(),t._loadTranslatedDescription()})}},{key:"_toogleDescriptionShort",value:function(){this.options.descriptionContent.outerHeight(!0)<this.options.descriptionContainer.css("max-height").replace(/[^-\d\.]/g,"")?(this.descriptionIsFullOpen=!0,this.options.descriptionContainer.removeClass("short"),this.options.expandDescription.addClass("hidden")):(this.options.descriptionContainer.addClass("short"),this.options.expandDescription.removeClass("hidden"))}},{key:"_activeSpinner",value:function(t){this.options.spinner&&t.find("."+this.options.spinnerClass).removeClass("hidden")}},{key:"_disableSpinner",value:function(t,e){this.options.spinner&&(clearTimeout(t),e.find("."+this.options.spinnerClass).addClass("hidden"))}},{key:"_loadOriginalDescription",value:function(){if(!this.translationIsBlocked){this.translationIsBlocked=!0;var t=this,e=void 0;r.ajax(this.descriptionUrl,{data:{id:t.options.descriptionContainer.data("id")},beforeSend:function(){e=setTimeout(function(){t._activeSpinner(t.options.showOriginal)},t.options.spinnerStartDelay)},success:function(i){t.translationIsBlocked=!1,t._disableSpinner(e,t.options.showOriginal),i&&i.status&&"error"!==i.status&&p(i.description)&&(t.options.descriptionContent.html(l(i.description,!0)),r('div[data-role="hide-if-description-is-empty"]').slideDown("slow",function(){r(this).addClass("shown")}),t.options.showOriginal.hide(),t.options.boxDescriptionTranslate.show(),t.options.translationDisclaimer.hide(),t.descriptionIsFullOpen||t._toogleDescriptionShort())}})}}},{key:"_loadTranslatedDescription",value:function(){if(!this.translationIsBlocked){this.translationIsBlocked=!0;var t=this,e=void 0;r.ajax(this.descriptionUrl,{data:{id:t.options.descriptionContainer.data("id"),translate:!0},beforeSend:function(){e=setTimeout(function(){t._activeSpinner(t.options.buttonAutomaticTranslation)},t.options.spinnerStartDelay)},success:function(i){t.translationIsBlocked=!1,t._disableSpinner(e,t.options.buttonAutomaticTranslation),t.options.showOriginal.show(),t.options.boxDescriptionTranslate.hide(),i&&i.status&&"error"!==i.status&&p(i.description)?(t.options.descriptionContent.html(l(i.description,!0)),t.options.translationDisclaimer.show(),t.options.translationFail.addClass("hidden")):(t.options.descriptionContent.html(""),t.options.translationFail.removeClass("hidden")),t.descriptionIsFullOpen||t._toogleDescriptionShort()}})}}}]),t}();e.default=function(t){return new u(t)}},175:function(t,e,i){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function n(t){(0,f.removeClass)(t,"readonly"),t.focus()}function s(t){(0,f.addClass)(t,"readonly")}function r(t,e){e.textContent=T-t.value.length}function a(t){T-t.value.length<0&&(t.value=t.value.slice(0,T))}function l(t,e){return t.slice(0,e).join("\n")+t.slice(e).join(" ")}function p(t){var e=t.value.split("\n");e.length>k&&(t.value=l(e,k))}function c(){var t=new Date;return Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function u(t,e){var i=(0,b.getBackup)(b.NOTE_STORAGE_KEY);if(i){if((0,b.deleteBackup)(b.NOTE_STORAGE_KEY),i.propertyId===t){if(!e)return i.note;var o=e.split(/[- :]/),n=Date.UTC(o[0],o[1]-1,o[2],o[3],o[4],o[5]);if(i.timestamp>n)return i.note}return!1}}function d(t,e){function i(){p(o),a(o),(0,m.default)(o,75),r(o,g)}var o=t.querySelector("textarea"),l=t.querySelector('[data-action="reset"]'),d=t.querySelector('[data-action="delete"]'),h=t.querySelector('[data-action="save"]'),g=t.querySelector('[data-role="chars-countdown"]'),v=e||C,_=t.getAttribute("data-property-id"),w={lastSaved:o.value},T={toggleVisibility:function(e){v===C&&(0,f.toggleClass)(t,"hidden-note",!o.value&&!e),e?(n(o),(0,m.default)(o,75)):s(o),r(o,g)},reset:function(){o.value=w.lastSaved,T.toggleVisibility(!1),i()},delete:function(){var t=o.value;o.value="",T.save().catch(function(){o.value=t})},save:function(){if(T.toggleVisibility(!1),o.value===w.lastSaved)return Promise.resolve();if(!L&&v===P)return(0,b.storeBackup)(b.NOTE_STORAGE_KEY,{propertyId:_,note:o.value,timestamp:c()}),(0,x.querySelector)(document,".bookmark_container .like_element").apply(function(t){t.click()}),Promise.resolve();var t=o.value?y.saveNote:y.deleteNote;return(0,f.toggleClass)(d,"hidden",""===o.value),t(_,o.value).then(function(t){t.status&&(v===P&&!w.lastSaved&&o.value&&L&&(0,x.querySelector)(document,".bookmark_container .like_element").join((0,x.querySelector)(document,".bookmark_container .blacklist")).apply(function(t,e){(0,f.hasClass)(e,"active")||(0,f.hasClass)(t,"active")||t.click()}),w.lastSaved=o.value)}).catch(function(){T.toggleVisibility(!0)})}};if(L&&v===P){var k=t.getAttribute("data-note-date")||!1,S=u(_,k);S&&(o.value=S,T.save())}return(0,f.toggleClass)(d,"hidden",""===o.value),o.addEventListener("input",i),o.addEventListener("mouseup",function(){T.toggleVisibility(!0)}),l.addEventListener("mousedown",T.reset),d.addEventListener("mousedown",T.delete),h.addEventListener("mousedown",T.save),T}Object.defineProperty(e,"__esModule",{value:!0}),e.SECTION_PREFERRED_PROPERTY=e.SECTION_PROPERTY_DETAIL=void 0,e.initNoteComponent=d;var h=i(176),m=o(h),f=i(8),y=i(177),g=i(17),v=o(g),_=i(13),w=o(_),x=i(3),b=i(29),T=500,k=10,P=e.SECTION_PROPERTY_DETAIL="propertyDetail",C=e.SECTION_PREFERRED_PROPERTY="preferredProperties",L=(0,v.default)((0,w.default)("IS_LOGGED"))},176:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){t.style.height="auto",t.style.height=Math.max(t.scrollHeight,e||0)+"px"}},177:function(t,e,i){"use strict";function o(t,e){var i={propertyId:t,text:e};return(0,a.apiPost)(l.saveNote,(0,a.serialize)(i),{"Content-Type":"application/x-www-form-urlencoded"})}function n(t){var e={propertyId:t};return(0,a.apiPost)(l.deleteNote,(0,a.serialize)(e),{"Content-Type":"application/x-www-form-urlencoded"})}Object.defineProperty(e,"__esModule",{value:!0}),e.saveNote=o,e.deleteNote=n;var s=i(7),r=function(t){return t&&t.__esModule?t:{default:t}}(s),a=i(39),l={saveNote:r.default.generate("save-note-property"),deleteNote:r.default.generate("delete-note-property")}},178:function(t,e,i){"use strict";function o(t){(0,s.addClass)(t,"active")}function n(t){(0,s.removeClass)(t,"active")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var i=!1,s=e.toggleVisibility;e.toggleVisibility=function(e){s(e),e?o(t):n(t),i=e},t.addEventListener("click",function(){e.toggleVisibility(!i)})};var s=i(8)},179:function(t,e,i){var o=i(4).twig,n=o({id:"/tmp/current/site-v3/src/LuxuryEstate/AppBundle/Resources/views/common/modals/modal-success.html.twig",data:[{type:"raw",value:'<div class="row response">\n    <img src="'},{type:"output",stack:[{type:"Twig.expression.type._function",fn:"asset",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:"https://cle.a-cdn.net/bundles/app/images/icons/success~1b6c726a.svg"},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.string",value:"cnt"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:'" alt="" height="30" width="30"/>\n    <span class="modal-success-title success">'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"NONE-Your inquiry has been sent successfully."},{type:"Twig.expression.type.filter",value:"trans",match:["| trans","trans"]}]},{type:"raw",value:"</span>\n    <p>"},{type:"output",stack:[{type:"Twig.expression.type.string",value:"NONE-This box will close in a few seconds."},{type:"Twig.expression.type.filter",value:"trans",match:["| trans","trans"]}]},{type:"raw",value:"</p>\n</div>"}],allowInlineIncludes:!0,rethrow:!0});t.exports=function(t){return n.render(t)}},182:function(t,e,i){"use strict";var o=i(1),n=i(23);t.exports=function(t,e,i){o.addEventListener("scroll",function s(){n.trackEvent(t,e,i),o.removeEventListener("scroll",s)})}},20:function(t,e,i){"use strict";function o(t){var e=new Image,i=(0,r.isRetina)()?"2x":"1x";e.src=t.getAttribute("data-src-"+i),e.onload=function(){t.style.backgroundImage="url("+e.src+")",t.classList?t.classList.add("loaded"):t.className+=" loaded"}}function n(t){var e=new Image;e.src=t.getAttribute("data-src"),e.onload=function(){t.src=e.src,t.classList?t.classList.add("loaded"):t.className+=" loaded"}}function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,i=[].slice.call(document.querySelectorAll(t));if(window.IntersectionObserver){var n=function(t,i){t.forEach(function(t){(t.isIntersecting||t.intersectionRatio>0)&&(i.unobserve(t.target),e(t.target))})},s=new IntersectionObserver(n,{rootMargin:"150px 0px"});i.forEach(function(t){s.observe(t)})}else i.forEach(function(t){e(t)})}Object.defineProperty(e,"__esModule",{value:!0}),e.replaceImage=n,e.default=s;var r=i(2)},206:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return new o.Map(t,e)};var o=i(207);i(209)},207:function(t,e,i){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Map=void 0;var n=i(158),s=o(n),r=i(159),a=o(r),l=i(160),p=o(l),c=i(51),u=o(c),d=i(208);e.Map=function(t){function e(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,s.default)(this,e),o=u.default.Util.extend({fadeAnimation:!1,scrollWheelZoom:!1},o);var n=(0,a.default)(this,t.call(this,i,o));n.attributionControl.setPrefix("");var r=o.language||d.LANGUAGE;return n._tileLayer=new u.default.TileLayer((0,d.getTilesUrl)(r,u.default.Browser.retina?2:1),{attribution:d.ATTRIBUTION,subdomains:d.SUBDOMAINS}),n._tileLayer.addTo(n),o.zoomControl&&o.zoomControlPosition&&n.zoomControl.setPosition(o.zoomControlPosition),window._m=n,n}return(0,p.default)(e,t),e.prototype.remove=function(){t.prototype.remove.call(this),window._m=null},e.prototype.getTileLayer=function(){return this._tileLayer},e}(u.default.Map)},208:function(t,e,i){"use strict";function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=[];for(var n in t){var s=t[n];if(void 0!=s)if(n=e?e+"["+encodeURIComponent(n)+"]":encodeURIComponent(n),"object"==typeof s){var r=o(s,n);r&&i.push(r)}else i.push(n+"="+encodeURIComponent(s))}return i.join("&")}function n(t,e){var i=t.indexOf("?"),o=t.indexOf("#"),n="";return-1!==o&&(n=t.substring(o),t=t.substring(0,o)),-1===i?t+="?":i<t.length-1&&(t+="&"),t+e+n}Object.defineProperty(e,"__esModule",{value:!0});var s={tilesUrlTemplate:"//maps{s}.a-cdn.net/tiles/luxuryestate/{z}/{x}/{y}.png",geocoderUrlTemplate:"//geocoder.ekbl.net/v1/geocoder/{service}",attribution:"LuxuryEstate",consumerKey:"luxuryestate",env:"prod"},r="&copy; "+(s.attribution||"Immobiliare.it")+', <a href="http://osm.org/copyright" target="_blank" rel="noopener" >OpenStreetMap</a> contributors',a=s.language||function(){return document.documentElement&&document.documentElement.lang?document.documentElement.lang:"it-IT"}(),l=s.tilesUrlTemplate||"",p=s.geocoderUrlTemplate||"",c=(p.replace("{service}","geocode"),p.replace("{service}","reverse"),p.replace("{service}","autocomplete"),s.tilesSubdomains||["01","02","03","04","05"]),u=function(t){return t.substring(0,2).toLowerCase()},d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"it",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return n(l,o({language:u(t),scale:e}))};e.ATTRIBUTION=r,e.LANGUAGE=a,e.SUBDOMAINS=c,e.getTilesUrl=d},209:function(t,e,i){"use strict";function o(t,e){if("undefined"==typeof document)return e;t=t||"";var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");return o.type="text/css",i.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t)),e}o('.leaflet-image-layer,.leaflet-layer,.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-pane,.leaflet-pane>canvas,.leaflet-pane>svg,.leaflet-tile,.leaflet-tile-container,.leaflet-zoom-box{position:absolute;left:0;top:0}.leaflet-container{overflow:hidden}.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-tile{-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-user-drag:none}.leaflet-safari .leaflet-tile{image-rendering:-webkit-optimize-contrast}.leaflet-safari .leaflet-tile-container{width:1600px;height:1600px;-webkit-transform-origin:0 0}.leaflet-marker-icon,.leaflet-marker-shadow{display:block}.leaflet-container .leaflet-marker-pane img,.leaflet-container .leaflet-overlay-pane svg,.leaflet-container .leaflet-shadow-pane img,.leaflet-container .leaflet-tile-pane img,.leaflet-container img.leaflet-image-layer{max-width:none!important}.leaflet-container.leaflet-touch-zoom{-ms-touch-action:pan-x pan-y;touch-action:pan-x pan-y}.leaflet-container.leaflet-touch-drag{-ms-touch-action:pinch-zoom}.leaflet-container.leaflet-touch-drag.leaflet-touch-zoom{-ms-touch-action:none;touch-action:none}.leaflet-tile{filter:inherit;visibility:hidden}.leaflet-tile-loaded{visibility:inherit}.leaflet-zoom-box{width:0;height:0;-moz-box-sizing:border-box;box-sizing:border-box;z-index:800}.leaflet-overlay-pane svg{-moz-user-select:none}.leaflet-pane{z-index:400}.leaflet-tile-pane{z-index:200}.leaflet-overlay-pane{z-index:400}.leaflet-shadow-pane{z-index:500}.leaflet-marker-pane{z-index:600}.leaflet-tooltip-pane{z-index:650}.leaflet-popup-pane{z-index:700}.leaflet-map-pane canvas{z-index:100}.leaflet-map-pane svg{z-index:200}.leaflet-vml-shape{width:1px;height:1px}.lvml{behavior:url(#default#VML);display:inline-block;position:absolute}.leaflet-control{position:relative;z-index:800;pointer-events:visiblePainted;pointer-events:auto}.leaflet-bottom,.leaflet-top{position:absolute;z-index:1000;pointer-events:none}.leaflet-top{top:0}.leaflet-right{right:0}.leaflet-bottom{bottom:0}.leaflet-left{left:0}.leaflet-control{float:left;clear:both}.leaflet-right .leaflet-control{float:right}.leaflet-top .leaflet-control{margin-top:10px}.leaflet-bottom .leaflet-control{margin-bottom:10px}.leaflet-left .leaflet-control{margin-left:10px}.leaflet-right .leaflet-control{margin-right:10px}.leaflet-fade-anim .leaflet-tile{will-change:opacity}.leaflet-fade-anim .leaflet-popup{opacity:0;-webkit-transition:opacity .2s linear;-moz-transition:opacity .2s linear;-o-transition:opacity .2s linear;transition:opacity .2s linear}.leaflet-fade-anim .leaflet-map-pane .leaflet-popup{opacity:1}.leaflet-zoom-animated{-webkit-transform-origin:0 0;-ms-transform-origin:0 0;transform-origin:0 0}.leaflet-zoom-anim .leaflet-zoom-animated{will-change:transform;-webkit-transition:-webkit-transform .25s cubic-bezier(0,0,.25,1);-moz-transition:-moz-transform .25s cubic-bezier(0,0,.25,1);-o-transition:-o-transform .25s cubic-bezier(0,0,.25,1);transition:transform .25s cubic-bezier(0,0,.25,1)}.leaflet-pan-anim .leaflet-tile,.leaflet-zoom-anim .leaflet-tile{-webkit-transition:none;-moz-transition:none;-o-transition:none;transition:none}.leaflet-zoom-anim .leaflet-zoom-hide{visibility:hidden}.leaflet-interactive{cursor:pointer}.leaflet-grab{cursor:-webkit-grab;cursor:-moz-grab}.leaflet-crosshair,.leaflet-crosshair .leaflet-interactive{cursor:crosshair}.leaflet-control,.leaflet-popup-pane{cursor:auto}.leaflet-dragging .leaflet-grab,.leaflet-dragging .leaflet-grab .leaflet-interactive,.leaflet-dragging .leaflet-marker-draggable{cursor:move;cursor:-webkit-grabbing;cursor:-moz-grabbing}.leaflet-image-layer,.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-pane>svg path,.leaflet-tile-container{pointer-events:none}.leaflet-image-layer.leaflet-interactive,.leaflet-marker-icon.leaflet-interactive,.leaflet-pane>svg path.leaflet-interactive{pointer-events:visiblePainted;pointer-events:auto}.leaflet-container{background:#ddd;outline:0}.leaflet-container a{color:#0078a8}.leaflet-container a.leaflet-active{outline:2px solid orange}.leaflet-zoom-box{border:2px dotted #38f;background:hsla(0,0%,100%,.5)}.leaflet-container{font:12px/1.5 Helvetica Neue,Arial,Helvetica,sans-serif}.leaflet-bar{box-shadow:0 1px 5px rgba(0,0,0,.65);border-radius:4px}.leaflet-bar a,.leaflet-bar a:hover{background-color:#fff;border-bottom:1px solid #ccc;width:26px;height:26px;line-height:26px;display:block;text-align:center;text-decoration:none;color:#000}.leaflet-bar a,.leaflet-control-layers-toggle{background-position:50% 50%;background-repeat:no-repeat;display:block}.leaflet-bar a:hover{background-color:#f4f4f4}.leaflet-bar a:first-child{border-top-left-radius:4px;border-top-right-radius:4px}.leaflet-bar a:last-child{border-bottom-left-radius:4px;border-bottom-right-radius:4px;border-bottom:none}.leaflet-bar a.leaflet-disabled{cursor:default;background-color:#f4f4f4;color:#bbb}.leaflet-touch .leaflet-bar a{width:30px;height:30px;line-height:30px}.leaflet-control-zoom-in,.leaflet-control-zoom-out{font:700 18px Lucida Console,Monaco,monospace;text-indent:1px}.leaflet-control-zoom-out{font-size:20px}.leaflet-touch .leaflet-control-zoom-in{font-size:22px}.leaflet-touch .leaflet-control-zoom-out{font-size:24px}.leaflet-control-layers{box-shadow:0 1px 5px rgba(0,0,0,.4);background:#fff;border-radius:5px}.leaflet-control-layers-toggle{background-image:url(images/layers.png);width:36px;height:36px}.leaflet-retina .leaflet-control-layers-toggle{background-image:url(images/layers-2x.png);background-size:26px 26px}.leaflet-touch .leaflet-control-layers-toggle{width:44px;height:44px}.leaflet-control-layers-expanded .leaflet-control-layers-toggle,.leaflet-control-layers .leaflet-control-layers-list{display:none}.leaflet-control-layers-expanded .leaflet-control-layers-list{display:block;position:relative}.leaflet-control-layers-expanded{padding:6px 10px 6px 6px;color:#333;background:#fff}.leaflet-control-layers-scrollbar{overflow-y:scroll;padding-right:5px}.leaflet-control-layers-selector{margin-top:2px;position:relative;top:1px}.leaflet-control-layers label{display:block}.leaflet-control-layers-separator{height:0;border-top:1px solid #ddd;margin:5px -10px 5px -6px}.leaflet-default-icon-path{background-image:url(images/marker-icon.png)}.leaflet-container .leaflet-control-attribution{background:#fff;background:hsla(0,0%,100%,.7);margin:0}.leaflet-control-attribution,.leaflet-control-scale-line{padding:0 5px;color:#333}.leaflet-control-attribution a{text-decoration:none}.leaflet-control-attribution a:hover{text-decoration:underline}.leaflet-container .leaflet-control-attribution,.leaflet-container .leaflet-control-scale{font-size:11px}.leaflet-left .leaflet-control-scale{margin-left:5px}.leaflet-bottom .leaflet-control-scale{margin-bottom:5px}.leaflet-control-scale-line{border:2px solid #777;border-top:none;line-height:1.1;padding:2px 5px 1px;font-size:11px;white-space:nowrap;overflow:hidden;-moz-box-sizing:border-box;box-sizing:border-box;background:#fff;background:hsla(0,0%,100%,.5)}.leaflet-control-scale-line:not(:first-child){border-top:2px solid #777;border-bottom:none;margin-top:-2px}.leaflet-control-scale-line:not(:first-child):not(:last-child){border-bottom:2px solid #777}.leaflet-touch .leaflet-bar,.leaflet-touch .leaflet-control-attribution,.leaflet-touch .leaflet-control-layers{box-shadow:none}.leaflet-touch .leaflet-bar,.leaflet-touch .leaflet-control-layers{border:2px solid rgba(0,0,0,.2);background-clip:padding-box}.leaflet-popup{position:absolute;text-align:center;margin-bottom:20px}.leaflet-popup-content-wrapper{padding:1px;text-align:left;border-radius:12px}.leaflet-popup-content{margin:13px 19px;line-height:1.4}.leaflet-popup-content p{margin:18px 0}.leaflet-popup-tip-container{width:40px;height:20px;position:absolute;left:50%;margin-left:-20px;overflow:hidden;pointer-events:none}.leaflet-popup-tip{width:17px;height:17px;padding:1px;margin:-10px auto 0;-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);-o-transform:rotate(45deg);transform:rotate(45deg)}.leaflet-popup-content-wrapper,.leaflet-popup-tip{background:#fff;color:#333;box-shadow:0 3px 14px rgba(0,0,0,.4)}.leaflet-container a.leaflet-popup-close-button{position:absolute;top:0;right:0;padding:4px 4px 0 0;border:none;text-align:center;width:18px;height:14px;font:16px/14px Tahoma,Verdana,sans-serif;color:#c3c3c3;text-decoration:none;font-weight:700;background:transparent}.leaflet-container a.leaflet-popup-close-button:hover{color:#999}.leaflet-popup-scrolled{overflow:auto;border-bottom:1px solid #ddd;border-top:1px solid #ddd}.leaflet-oldie .leaflet-popup-content-wrapper{zoom:1}.leaflet-oldie .leaflet-popup-tip{width:24px;margin:0 auto;-ms-filter:"progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678)";filter:progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678,M12=0.70710678,M21=-0.70710678,M22=0.70710678)}.leaflet-oldie .leaflet-popup-tip-container{margin-top:-1px}.leaflet-oldie .leaflet-control-layers,.leaflet-oldie .leaflet-control-zoom,.leaflet-oldie .leaflet-popup-content-wrapper,.leaflet-oldie .leaflet-popup-tip{border:1px solid #999}.leaflet-div-icon{background:#fff;border:1px solid #666}.leaflet-tooltip{position:absolute;padding:6px;background-color:#fff;border:1px solid #fff;border-radius:3px;color:#222;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;box-shadow:0 1px 3px rgba(0,0,0,.4)}.leaflet-tooltip.leaflet-clickable{cursor:pointer;pointer-events:auto}.leaflet-tooltip-bottom:before,.leaflet-tooltip-left:before,.leaflet-tooltip-right:before,.leaflet-tooltip-top:before{position:absolute;pointer-events:none;border:6px solid transparent;background:transparent;content:""}.leaflet-tooltip-bottom{margin-top:6px}.leaflet-tooltip-top{margin-top:-6px}.leaflet-tooltip-bottom:before,.leaflet-tooltip-top:before{left:50%;margin-left:-6px}.leaflet-tooltip-top:before{bottom:0;margin-bottom:-12px;border-top-color:#fff}.leaflet-tooltip-bottom:before{top:0;margin-top:-12px;margin-left:-6px;border-bottom-color:#fff}.leaflet-tooltip-left{margin-left:-6px}.leaflet-tooltip-right{margin-left:6px}.leaflet-tooltip-left:before,.leaflet-tooltip-right:before{top:50%;margin-top:-6px}.leaflet-tooltip-left:before{right:0;margin-right:-12px;border-left-color:#fff}.leaflet-tooltip-right:before{left:0;margin-left:-12px;border-right-color:#fff}',void 0),o('.leaflet-control-container>div{width:100%}.leaflet-container{z-index:0}.leaflet-map-pane canvas{z-index:inherit}.leaflet-touch .leaflet-bar a{line-height:inherit}.maps__edit-icon{opacity:1;border:1px solid #0e4e73;background-color:#fff}.maps__edit-icon--move{border-radius:50%}.maps__edit-icon--add{opacity:.6}.maps__edit-icon--close{border-color:#730e0e;background-color:red}.leaflet-left .leaflet-control{margin-left:15px}.leaflet-top .leaflet-control{margin-top:15px}.leaflet-control-zoom-in,.leaflet-control-zoom-out{text-indent:0;color:transparent!important;position:relative}.leaflet-control-zoom.leaflet-bar a,.leaflet-control-zoom.leaflet-bar a:hover{width:31px;height:32px}.leaflet-bar{box-shadow:0 1px 3px 1px rgba(0,0,0,.3)}.leaflet-bar a:first-child{border-top-left-radius:2px;border-top-right-radius:2px}.leaflet-control-zoom-in:before{content:"";top:9px;bottom:9px;border:1px solid #666;width:3px;left:14px;position:absolute;background-color:#666;box-sizing:border-box}.leaflet-control-zoom-in:after,.leaflet-control-zoom-out:after{content:"";left:10px;right:10px;border:1px solid #666;height:3px;top:14px;position:absolute;background-color:#666;box-sizing:border-box}.leaflet-control-zoom-in:after{left:9px;right:9px}.leaflet-bar a.leaflet-disabled.leaflet-control-zoom-in,.leaflet-bar a.leaflet-disabled.leaflet-control-zoom-out{background-color:#fff}',void 0)},211:function(t,e,i){"use strict";var o=i(212),n=o.estats,s=o.sendMetricRequest,r=i(13),a=i(213);"dev_reference"===r("APP_ENV")&&(a.environment="dev");var l=n(a),p=function(t){return r("APP_POP").toLowerCase()+"."+t},c=function(t,e){return l(p(t),e)},u=function(t,e){return s(c(t,e))};t.exports={send:u,generateUrl:c}},212:function(t,e,i){"use strict";(function(t){function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=[];for(var n in t){var s=t[n];if(void 0!=s)if(n=e?e+"["+encodeURIComponent(n)+"]":encodeURIComponent(n),"object"==typeof s){var r=i(s,n);r&&o.push(r)}else o.push(n+"="+encodeURIComponent(s))}return o.join("&")}function o(t,e){var i=t.indexOf("?"),o=t.indexOf("#"),n="";return-1!==o&&(n=t.substring(o),t=t.substring(0,o)),-1===i?t+="?":i<t.length-1&&(t+="&"),t+e+n}function n(t){var e=document.createElement("img");return e.src=o(t,"c="+(new Date).getTime()),e}Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){return function(e,n){var s=t.metrics[e];return o(t.url,i({m:t.namespace+"."+e,h:s&&s.hash,t:s&&s.type,v:n}))}};e.estats=s,e.sendMetricRequest=n}).call(e,i(91))},213:function(t,e){t.exports={url:"https://s.ekbl.net/s.gif?",metrics:{"it1.map.js.properties_detail":{type:"_",hash:"11affb"},"us1.map.js.properties_detail":{type:"_",hash:"0561f6"},"us2.map.js.properties_detail":{type:"_",hash:"fad133"},"it1.map.js.properties_maps":{type:"_",hash:"d36e53"},"us1.map.js.properties_maps":{type:"_",hash:"985eef"},"us2.map.js.properties_maps":{type:"_",hash:"19abea"},"it1.map.js.agencies_detail":{type:"_",hash:"323924"},"us1.map.js.agencies_detail":{type:"_",hash:"58ea1c"},"us2.map.js.agencies_detail":{type:"_",hash:"57f71b"},"it1.map.js.agent_settings":{type:"_",hash:"f87f8b"},"us1.map.js.agent_settings":{type:"_",hash:"890645"},"us2.map.js.agent_settings":{type:"_",hash:"8b281b"},"it1.map.js.agent_ad_publish":{type:"_",hash:"b550f4"},"us1.map.js.agent_ad_publish":{type:"_",hash:"8a60b1"},"us2.map.js.agent_ad_publish":{type:"_",hash:"2cff7a"},"it1.map.js.agent_ad_preview_modal":{type:"_",hash:"4f80f7"},"us1.map.js.agent_ad_preview_modal":{type:"_",hash:"5a457e"},"us2.map.js.agent_ad_preview_modal":{type:"_",hash:"adc177"},"it1.map.js.agent_ad_map_modal":{type:"_",hash:"8eeae3"},"us1.map.js.agent_ad_map_modal":{type:"_",hash:"da071a"},"us2.map.js.agent_ad_map_modal":{type:"_",hash:"07bd89"},"it1.map.js.geocode_stored":{type:"_",hash:"e1a3f0"},"us1.map.js.geocode_stored":{type:"_",hash:"cbb8bd"},"us2.map.js.geocode_stored":{type:"_",hash:"e47f20"}},namespace:"prod.sites.luxuryestate"}},24:function(t,e,i){"use strict";var o,n,s,r,a=i(0),l=i(7),p=i(33),c=i(17);t.exports=function(){function t(){e(a('ul[data-role="search-list-container"] li'))}function e(t){t=a(t),s=0,o=t.find('p[data-role="set-ajax-description"]'),(n=o.size())>0&&i()}function i(){var t=o[s];a.ajax(l.generate("property-description"),{data:{id:a(t).closest("li").attr("data-id"),translate:!1,truncate:!0}}).then(function(e){e&&e.status&&"error"!==e.status&&c(e.description)&&a(t).html(p(e.description,!0)),s<n-1&&(s++,i())})}return r={initialize:t,setDescriptionItem:e}}()},283:function(t,e,i){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){return e=r.default.Util.extend({clickable:!1,editable:!1,radius:300,zIndex:0},e),new l.default(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var s=i(51),r=o(s),a=i(614),l=o(a)},29:function(t,e,i){"use strict";function o(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l;try{i.set(t,e)}catch(t){return!1}}function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l;try{e.removeItem(t)}catch(t){return!1}}function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l;try{return e.get(t)}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.NOTE_STORAGE_KEY=e.HOT_OR_NOT_STORAGE_KEY=void 0,e.storeBackup=o,e.deleteBackup=n,e.getBackup=s;var r=i(45),a=function(t){return t&&t.__esModule?t:{default:t}}(r),l=(e.HOT_OR_NOT_STORAGE_KEY="backup-hotOrNot",e.NOTE_STORAGE_KEY="backup-note",a.default.session)},33:function(t,e,i){"use strict";t.exports=function(t,e){var i=e?"<br />":"<br>";return String(t).replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1"+i+"$2")}},34:function(t,e){function i(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=i},35:function(t,e,i){function o(t){return null!=t&&s(t.length)&&!n(t)}var n=i(56),s=i(59);t.exports=o},44:function(t,e,i){"use strict";var o=i(1),n=i(2),s=i(19),r=function(t){return t&&t.__esModule?t:{default:t}}(s),a=i(0),l=a(".header-wrap"),p=l.offset().top;t.exports=function(){a(o.window).on("scroll",(0,r.default)(function(){if((0,n.isMobileDevice)()){o.window.scrollY>p?l.addClass("header--sticky"):l.removeClass("header--sticky")}}))}},45:function(t,e,i){"use strict";function o(t){this.supported="undefined"!=typeof Storage,this.supported?this.storage="session"===t?r:s:this.storage=a}var n=i(1),s=n.localStorage,r=n.sessionStorage,a={getItem:function(){return null},setItem:function(){return null},removeItem:function(){return null},clear:function(){return null},set:function(){return null},get:function(){return null}};o.prototype.getItem=function(t){return this.storage.getItem(t)},o.prototype.setItem=function(t,e){this.storage.setItem(t,e)},o.prototype.removeItem=function(t){this.storage.removeItem(t)},o.prototype.clear=function(){this.storage.clear()},o.prototype.set=function(t,e){this.setItem(t,JSON.stringify(e))},o.prototype.get=function(t){var e=this.getItem(t);return e&&(e=JSON.parse(e)),e},t.exports={local:new o("local"),session:new o("session")}},46:function(t,e,i){var o=i(4).twig,n=o({id:"/tmp/current/site-v3/src/LuxuryEstate/AppBundle/Resources/views/Properties/snippets/listing-results-item-new.html.twig",data:[{type:"logic",token:{type:"Twig.logic.type.set",key:"bundle",expression:[{type:"Twig.expression.type.string",value:""}]}},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"bundles"},{type:"Twig.expression.type.key.period",key:"elite"}],output:[{type:"raw",value:"    "},{type:"logic",token:{type:"Twig.logic.type.set",key:"bundle",expression:[{type:"Twig.expression.type.string",value:"elite"}]}}]}},{type:"logic",token:{type:"Twig.logic.type.elseif",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"bundles"},{type:"Twig.expression.type.key.period",key:"prestige"}],output:[{type:"raw",value:"    "},{type:"logic",token:{type:"Twig.logic.type.set",key:"bundle",expression:[{type:"Twig.expression.type.string",value:"prestige"}]}}]}},{type:"logic",token:{type:"Twig.logic.type.elseif",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"bundles"},{type:"Twig.expression.type.key.period",key:"premium"}],output:[{type:"raw",value:"    "},{type:"logic",token:{type:"Twig.logic.type.set",key:"bundle",expression:[{type:"Twig.expression.type.string",value:"premium"}]}}]}},{type:"logic",token:{type:"Twig.logic.type.elseif",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"bundles"},{type:"Twig.expression.type.key.period",key:"collection"}],output:[{type:"raw",value:"    "},{type:"logic",token:{type:"Twig.logic.type.set",key:"bundle",expression:[{type:"Twig.expression.type.string",value:"collection"}]}}]}},{type:"raw",value:"\n"},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"pictures"},{type:"Twig.expression.type.test",filter:"defined"},{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"pictures"},{type:"Twig.expression.type.key.period",key:"urls"},{type:"Twig.expression.type.test",filter:"defined"},{type:"Twig.expression.type.operator.binary",value:"and",precidence:13,associativity:"leftToRight",operator:"and"},{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"pictures"},{type:"Twig.expression.type.key.period",key:"urls"},{type:"Twig.expression.type.test",filter:"empty",modifier:"not"},{type:"Twig.expression.type.operator.binary",value:"and",precidence:13,associativity:"leftToRight",operator:"and"}],output:[{type:"raw",value:"    "},{type:"logic",token:{type:"Twig.logic.type.set",key:"imageUrl",expression:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"pictures"},{type:"Twig.expression.type.key.period",key:"urls"},{type:"Twig.expression.type.key.brackets",stack:[{type:"Twig.expression.type.number",value:0,match:["0",null]}]},{type:"Twig.expression.type.filter",value:"replace",match:["| replace","replace"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.object.start",value:"{",match:["{"]},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"{format}"},{type:"Twig.expression.type.string",value:"520x390"},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"{extension}"},{type:"Twig.expression.type.string",value:"jpg"},{type:"Twig.expression.type.object.end",value:"}",match:["}"]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"    "},{type:"logic",token:{type:"Twig.logic.type.set",key:"picturesCount",expression:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"pictures"},{type:"Twig.expression.type.key.period",key:"urls"},{type:"Twig.expression.type.filter",value:"length",match:["|length","length"]}]}}]}},{type:"logic",token:{type:"Twig.logic.type.else",match:["else"],output:[{type:"raw",value:"    "},{type:"logic",token:{type:"Twig.logic.type.set",key:"imageUrl",expression:[{type:"Twig.expression.type._function",fn:"asset",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:"https://cle.a-cdn.net/bundles/app/images/property-detail/default-property~62fb7d33.png"},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.string",value:"cnt"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"    "},{type:"logic",token:{type:"Twig.logic.type.set",key:"picturesCount",expression:[{type:"Twig.expression.type.number",value:0,match:["0",null]}]}}]}},{type:"raw",value:'<li class="clearfix search-list__item'},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"bundle",match:["bundle"]},{type:"Twig.expression.type.test",filter:"empty",modifier:"not"}],output:[{type:"raw",value:" "},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"bundle",match:["bundle"]}]}]}},{type:"raw",value:'" data-id="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"id"}]},{type:"raw",value:'" data-role="go-to-detail" itemscope itemtype="http://schema.org/House">\n    <meta itemprop="description" content="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"description"}]},{type:"raw",value:'" />\n    <meta itemprop="name" content="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"title"}]},{type:"raw",value:'" />\n    <div class="foto">\n        <img itemprop="image" '},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"lazyloaded",match:["lazyloaded"]}],output:[{type:"raw",value:'src="'},{type:"output",stack:[{type:"Twig.expression.type._function",fn:"asset",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:"https://cle.a-cdn.net/bundles/app/images/transparent~ef1955ae.gif"},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.string",value:"cnt"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:'" data-src="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"imageUrl",match:["imageUrl"]}]},{type:"raw",value:'"'}]}},{type:"logic",token:{type:"Twig.logic.type.else",match:["else"],output:[{type:"raw",value:'src="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"imageUrl",match:["imageUrl"]}]},{type:"raw",value:'" class="loaded"'}]}},{type:"raw",value:' alt="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"title"}]},{type:"raw",value:'">\n        '},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"picturesCount",match:["picturesCount"]},{type:"Twig.expression.type.number",value:0,match:["0",null]},{type:"Twig.expression.type.operator.binary",value:">",precidence:8,associativity:"leftToRight",operator:">"}],output:[{type:"raw",value:'            <span class="image-count hidden-xs"><span class="icon-icona-foto"></span> '},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"picturesCount",match:["picturesCount"]}]},{type:"raw",value:"</span>\n        "}]}},{type:"raw",value:'    </div>\n    <div class="details">\n        <h2 class="details_title"><a class="js_clickable" data-role="self-link-if-is-mobile" href="'},{type:"output",stack:[{type:"Twig.expression.type._function",fn:"absolute_url",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"url"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:'" target="_blank" itemprop="url">'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"title"}]},{type:"raw",value:"</a></h2>\n        "},{type:"raw",value:"\n        "},{type:"raw",value:"\n        "},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!0,params:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"price"},{type:"Twig.expression.type.test",filter:"empty",modifier:"not"}]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!0,params:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"price"},{type:"Twig.expression.type.key.period",key:"amount"},{type:"Twig.expression.type.number",value:0,match:["0",null]},{type:"Twig.expression.type.operator.binary",value:">",precidence:8,associativity:"leftToRight",operator:">"},{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"price"},{type:"Twig.expression.type.key.period",key:"amount"},{type:"Twig.expression.type.string",value:"0"},{type:"Twig.expression.type.operator.binary",value:"!=",precidence:9,associativity:"leftToRight",operator:"!="},{type:"Twig.expression.type.operator.binary",value:"or",precidence:14,associativity:"leftToRight",operator:"or"},{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"price"},{type:"Twig.expression.type.key.period",key:"amount"},{type:"Twig.expression.type.filter",value:"length",match:["|length","length"]},{type:"Twig.expression.type.number",value:1,match:["1",null]},{type:"Twig.expression.type.operator.binary",value:">",precidence:8,associativity:"leftToRight",operator:">"},{type:"Twig.expression.type.operator.binary",value:"or",precidence:14,associativity:"leftToRight",operator:"or"}]},{type:"Twig.expression.type.operator.binary",value:"and",precidence:13,associativity:"leftToRight",operator:"and"}],output:[{type:"raw",value:'            <div class="price serif-base" itemprop="potentialAction" itemscope itemtype="http://schema.org/'},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"transactionData"},{type:"Twig.expression.type.key.period",key:"id"},{type:"Twig.expression.type.number",value:1,match:["1",null]},{type:"Twig.expression.type.operator.binary",value:"==",precidence:9,associativity:"leftToRight",operator:"=="}],output:[{type:"raw",value:"Sell"}]}},{type:"logic",token:{type:"Twig.logic.type.else",match:["else"],output:[{type:"raw",value:"Rent"}]}},{type:"raw",value:'Action">\n                '},{type:"logic",token:{type:"Twig.logic.type.spaceless",match:["spaceless"],output:[{type:"raw",value:"                <span>\n                        "},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"price"},{type:"Twig.expression.type.key.period",key:"currencySymbol"}]},{type:"raw",value:" "},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"price"},{type:"Twig.expression.type.key.period",key:"amount"}]},{type:"raw",value:"\n                        "},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"transactionTranslationKey"}],output:[{type:"raw",value:'                            <span class="price-transaction">'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"transactionTranslationKey"},{type:"Twig.expression.type.filter",value:"trans",match:["|trans","trans"]}]},{type:"raw",value:"</span>\n                        "}]}},{type:"raw",value:"                </span>\n                "}]}},{type:"raw",value:"            </div>\n        "}]}},{type:"logic",token:{type:"Twig.logic.type.else",match:["else"],output:[{type:"raw",value:'            <div class="price serif-base"><span>'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"AdPublish-priceUponRequest"},{type:"Twig.expression.type.filter",value:"trans",match:["| trans","trans"]}]},{type:"raw",value:"</span></div>\n        "}]}},{type:"raw",value:'        <div class="specs clearfix">\n            '},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"surface"},{type:"Twig.expression.type.key.period",key:"amount"},{type:"Twig.expression.type.test",filter:"empty",modifier:"not"}],output:[{type:"raw",value:'                <span itemprop="floorSize" itemscope itemtype="http://schema.org/QuantitativeValue">\n                    <meta itemprop="value" content="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"surface"},{type:"Twig.expression.type.key.period",key:"amount"}]},{type:"raw",value:'" />\n                    '},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"areaMeasure",match:["areaMeasure"]},{type:"Twig.expression.type.string",value:"FEET"},{type:"Twig.expression.type.operator.binary",value:"==",precidence:9,associativity:"leftToRight",operator:"=="}],output:[{type:"raw",value:'                        <meta itemprop="unitCode" content="FTK" />\n                    '}]}},{type:"logic",token:{type:"Twig.logic.type.else",match:["else"],output:[{type:"raw",value:'                        <meta itemprop="unitCode" content="MTK" />\n                    '}]}},{type:"raw",value:'                    <span class="sr-only">'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"AdPublish-internalSurface"},{type:"Twig.expression.type.filter",value:"trans",match:["|trans","trans"]}]},{type:"raw",value:'</span>\n                    <i class="icon-icona-dimensioni" dir="'},{type:"output",stack:[{type:"Twig.expression.type._function",fn:"leConstant",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:"LOCALE_TEXT_DIRECTION"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:'"></i> '},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"surface"},{type:"Twig.expression.type.key.period",key:"amount"}]},{type:"raw",value:"\n                </span>\n            "}]}},{type:"raw",value:"            "},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"bathrooms"},{type:"Twig.expression.type.test",filter:"empty",modifier:"not"}],output:[{type:"raw",value:'                <span itemprop="numberOfRooms" itemscope itemtype="http://schema.org/QuantitativeValue">\n                    <meta itemprop="value" content="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"bathrooms"}]},{type:"raw",value:'" />\n                    <meta itemprop="unitCode" content="ROM" />\n                    <span class="sr-only" itemprop="unitText">'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"propertyDetail-bathrooms"},{type:"Twig.expression.type.filter",value:"trans",match:["|trans","trans"]}]},{type:"raw",value:'</span>\n                    <i class="icon-icona-bagni" dir="'},{type:"output",stack:[{type:"Twig.expression.type._function",fn:"leConstant",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:"LOCALE_TEXT_DIRECTION"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:'"></i>\n                    '},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"bathrooms"}]},{type:"raw",value:"\n                </span>\n            "}]}},{type:"raw",value:"            "},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"bedrooms"},{type:"Twig.expression.type.test",filter:"empty",modifier:"not"}],output:[{type:"raw",value:'                <span itemprop="numberOfRooms" itemscope itemtype="http://schema.org/QuantitativeValue">\n                    <meta itemprop="value" content="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"bedrooms"}]},{type:"raw",value:'" />\n                    <meta itemprop="unitCode" content="ROM" />\n                    <span class="sr-only" itemprop="unitText">'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"propertyDetail-bedrooms"},{type:"Twig.expression.type.filter",value:"trans",match:["|trans","trans"]}]},{type:"raw",value:'</span>\n                    <i class="icon-icona-postiletto" dir="'},{type:"output",stack:[{type:"Twig.expression.type._function",fn:"leConstant",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:"LOCALE_TEXT_DIRECTION"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:'"></i> '},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"bedrooms"}]},{type:"raw",value:"\n                </span>\n            "}]}},{type:"raw",value:'        </div>\n        <p class="hidden-xs"'},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"description"},{type:"Twig.expression.type.test",filter:"empty"}],output:[{type:"raw",value:' data-role="set-ajax-description"'}]}},{type:"raw",value:">"},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"description"}]},{type:"raw",value:'</p>\n        <div class="list-info clearfix" itemprop="potentialAction" itemscope itemtype="http://schema.org/OrganizeAction">\n            <div itemprop="agent" itemscope itemtype="http://schema.org/Organization">\n                '},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"agencyLogoToBeDisplayed"},{type:"Twig.expression.type.test",filter:"empty",modifier:"not"}],output:[{type:"raw",value:'                    <div class="agency hidden-xs">\n                        <a class="js_clickable" href="'},{type:"output",stack:[{type:"Twig.expression.type._function",fn:"absolute_url",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"agency"},{type:"Twig.expression.type.key.period",key:"url"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:'" target="_blank" rel="nofollow">\n                            <img '},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"lazyloaded",match:["lazyloaded"]}],output:[{type:"raw",value:'src="'},{type:"output",stack:[{type:"Twig.expression.type._function",fn:"asset",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:"https://cle.a-cdn.net/bundles/app/images/transparent~ef1955ae.gif"},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.string",value:"cnt"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:'" data-src="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"agencyLogoToBeDisplayed"}]},{type:"raw",value:'"'}]}},{type:"logic",token:{type:"Twig.logic.type.else",match:["else"],output:[{type:"raw",value:'src="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"agencyLogoToBeDisplayed"}]},{type:"raw",value:'" class="loaded"'}]}},{type:"raw",value:' alt="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"agency"},{type:"Twig.expression.type.key.period",key:"displayName"},{type:"Twig.expression.type.filter",value:"raw",match:["| raw","raw"]}]},{type:"raw",value:'">\n                        </a>\n                        <meta itemprop="logo" content="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"agencyLogoToBeDisplayed"}]},{type:"raw",value:'">\n                    </div>\n                '}]}},{type:"raw",value:'                <div class="listed-by">\n                    <span class="by">'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"agency-PresentedBy"},{type:"Twig.expression.type.filter",value:"trans",match:["| trans","trans"]}]},{type:"raw",value:'</span>\n                    <a class="js_clickable" itemprop="url" data-role="self-link-if-is-mobile" href="'},{type:"output",stack:[{type:"Twig.expression.type._function",fn:"absolute_url",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"agency"},{type:"Twig.expression.type.key.period",key:"url"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:'" target="_blank" rel="nofollow"><span class="agent-name" itemprop="legalName">'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"agency"},{type:"Twig.expression.type.key.period",key:"displayName"},{type:"Twig.expression.type.filter",value:"raw",match:["| raw","raw"]}]},{type:"raw",value:"</span></a>\n                </div>\n            </div>\n        </div>\n\n        "},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type._function",fn:"is_granted",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:"ROLE_AGENT"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]},{type:"Twig.expression.type.operator.unary",value:"not",precidence:3,associativity:"rightToLeft",operator:"not"}],output:[{type:"raw",value:'            <div class="actions">\n                '},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"userPropertiesBlacklisted",match:["userPropertiesBlacklisted"]},{type:"Twig.expression.type.test",filter:"defined"},{type:"Twig.expression.type.variable",value:"userPropertiesBlacklisted",match:["userPropertiesBlacklisted"]},{type:"Twig.expression.type.operator.binary",value:"and",precidence:13,associativity:"leftToRight",operator:"and"}],output:[{type:"raw",value:'                    <button class="js_clickable btn-link condensed-bold" data-id="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"id"}]},{type:"raw",value:'" data-action="unBlacklist">\n                        '},{type:"output",stack:[{type:"Twig.expression.type.string",value:"action-restore"},{type:"Twig.expression.type.filter",value:"trans",match:["|trans","trans"]}]},{type:"raw",value:"\n                    </button>\n                "}]}},{type:"raw",value:"\n                "},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"userPropertiesSaved",match:["userPropertiesSaved"]},{type:"Twig.expression.type.test",filter:"defined"},{type:"Twig.expression.type.variable",value:"userPropertiesSaved",match:["userPropertiesSaved"]},{type:"Twig.expression.type.operator.binary",value:"and",precidence:13,associativity:"leftToRight",operator:"and"}],output:[{type:"raw",value:'                    <button class="js_clickable btn-link condensed-bold" data-agency-id="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"agency"},{type:"Twig.expression.type.key.period",key:"id"}]},{type:"raw",value:'" data-property-id="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"id"}]},{type:"raw",value:'" data-property-transaction="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"transaction"}]},{type:"raw",value:'" data-action="contact-agency">\n                        '},{type:"output",stack:[{type:"Twig.expression.type.string",value:"action-contact"},{type:"Twig.expression.type.filter",value:"trans",match:["|trans","trans"]}]},{type:"raw",value:"\n                    </button>\n                "}]}},{type:"raw",value:"\n                "},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!0,params:[{type:"Twig.expression.type.variable",value:"itemInAgencyDetail",match:["itemInAgencyDetail"]},{type:"Twig.expression.type.test",filter:"defined",modifier:"not"},{type:"Twig.expression.type.variable",value:"itemInAgencyDetail",match:["itemInAgencyDetail"]},{type:"Twig.expression.type.operator.unary",value:"not",precidence:3,associativity:"rightToLeft",operator:"not"},{type:"Twig.expression.type.operator.binary",value:"or",precidence:14,associativity:"leftToRight",operator:"or"}]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!0,params:[{type:"Twig.expression.type.variable",value:"userPropertiesSaved",match:["userPropertiesSaved"]},{type:"Twig.expression.type.test",filter:"defined",modifier:"not"},{type:"Twig.expression.type.variable",value:"userPropertiesSaved",match:["userPropertiesSaved"]},{type:"Twig.expression.type.operator.unary",value:"not",precidence:3,associativity:"rightToLeft",operator:"not"},{type:"Twig.expression.type.operator.binary",value:"or",precidence:14,associativity:"leftToRight",operator:"or"}]},{type:"Twig.expression.type.operator.binary",value:"and",precidence:13,associativity:"leftToRight",operator:"and"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!0,params:[{type:"Twig.expression.type.variable",value:"userPropertiesBlacklisted",match:["userPropertiesBlacklisted"]},{type:"Twig.expression.type.test",filter:"defined",modifier:"not"},{type:"Twig.expression.type.variable",value:"userPropertiesBlacklisted",match:["userPropertiesBlacklisted"]},{type:"Twig.expression.type.operator.unary",value:"not",precidence:3,associativity:"rightToLeft",operator:"not"},{type:"Twig.expression.type.operator.binary",value:"or",precidence:14,associativity:"leftToRight",operator:"or"}]},{type:"Twig.expression.type.operator.binary",value:"and",precidence:13,associativity:"leftToRight",operator:"and"}],output:[{type:"raw",value:'                    <div class="blacklist js_clickable" data-id="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"id"}]},{type:"raw",value:'">\n                        <i class="icon-icona-croce icon-v-align"></i>\n                    </div>\n                '}]}},{type:"raw",value:"\n                "},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"userPropertiesBlacklisted",match:["userPropertiesBlacklisted"]},{type:"Twig.expression.type.test",filter:"defined",modifier:"not"},{type:"Twig.expression.type.variable",value:"userPropertiesBlacklisted",match:["userPropertiesBlacklisted"]},{type:"Twig.expression.type.operator.unary",value:"not",precidence:3,associativity:"rightToLeft",operator:"not"},{type:"Twig.expression.type.operator.binary",value:"or",precidence:14,associativity:"leftToRight",operator:"or"}],output:[{type:"raw",value:'                    <div class="js_clickable like_element'},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"saved"},{type:"Twig.expression.type.test",filter:"defined"},{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"saved"},{type:"Twig.expression.type.operator.binary",value:"and",precidence:13,associativity:"leftToRight",operator:"and"}],output:[{type:"raw",value:" active"}]}},{type:"raw",value:'" data-id="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"id"}]},{type:"raw",value:'"'},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"userPropertiesSaved",match:["userPropertiesSaved"]},{type:"Twig.expression.type.test",filter:"defined"},{type:"Twig.expression.type.variable",value:"userPropertiesSaved",match:["userPropertiesSaved"]},{type:"Twig.expression.type.operator.binary",value:"and",precidence:13,associativity:"leftToRight",operator:"and"}],output:[{type:"raw",value:' data-action="unlike"'}]}},{type:"raw",value:">\n                        "},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"saved"},{type:"Twig.expression.type.test",filter:"defined"},{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"saved"},{type:"Twig.expression.type.operator.binary",value:"and",precidence:13,associativity:"leftToRight",operator:"and"}],output:[{type:"raw",value:'                            <i class="icon-icona-cuorepieno icon-v-align" aria-hidden="true"></i>\n                        '}]}},{type:"logic",token:{type:"Twig.logic.type.else",match:["else"],output:[{type:"raw",value:'                            <i class="icon-icona-cuorevuoto icon-v-align" aria-hidden="true"></i>\n                        '}]}},{type:"raw",value:"                    </div>\n                "}]}},{type:"raw",value:"\n                "},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"userPropertiesSaved",match:["userPropertiesSaved"]},{type:"Twig.expression.type.test",filter:"defined"},{type:"Twig.expression.type.variable",value:"userPropertiesSaved",match:["userPropertiesSaved"]},{type:"Twig.expression.type.operator.binary",value:"and",precidence:13,associativity:"leftToRight",operator:"and"}],output:[{type:"raw",value:'                    <div class="js_clickable note_element" data-role="note-button">\n                        <i class="icon-icona-modifica"></i>\n                    </div>\n                '}]}},{type:"raw",value:"            </div>\n        "}]}},{type:"raw",value:"    </div>\n\n    "},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"userPropertiesSaved",match:["userPropertiesSaved"]},{type:"Twig.expression.type.test",filter:"defined"},{type:"Twig.expression.type.variable",value:"userPropertiesSaved",match:["userPropertiesSaved"]},{type:"Twig.expression.type.operator.binary",value:"and",precidence:13,associativity:"leftToRight",operator:"and"}],output:[{type:"raw",value:'        <div class="note js_clickable js-notes'},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"propertyNote"},{type:"Twig.expression.type.test",filter:"null"}],output:[{type:"raw",value:" hidden-note"}]}},{type:"raw",value:'" data-role="note-container" data-property-id="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"id"}]},{type:"raw",value:'">\n            <form class="note-form" autocomplete="off">\n                <textarea name="note-text" rows="3" placeholder="'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"propertyNote-description"},{type:"Twig.expression.type.filter",value:"trans",match:["|trans","trans"]}]},{type:"raw",value:'"'},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"propertyNote"},{type:"Twig.expression.type.test",filter:"null",modifier:"not"}],output:[{type:"raw",value:' class="readonly"'}]}},{type:"raw",value:">"},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"propertyNote"},{type:"Twig.expression.type.test",filter:"null",modifier:"not"}],output:[{type:"output",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"propertyNote"},{type:"Twig.expression.type.key.period",key:"note"}]}]}},{type:"raw",value:'</textarea>\n                <div class="note__action">\n                    <div class="note__last-caracters">\n                        <span data-role="chars-countdown">500</span> <span class="hidden-xs">'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"propertyNote-remainingCharacters"},{type:"Twig.expression.type.filter",value:"trans",match:["|trans","trans"]}]},{type:"raw",value:'</span>\n                    </div>\n                    <div class="note__action-button js_clickable">\n                        <button class="btn btn-link btn-xs text-uppercase" type="button" data-action="reset"><span class="hidden-xs">'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"action-cancel"},{type:"Twig.expression.type.filter",value:"trans",match:["|trans","trans"]}]},{type:"raw",value:'</span><span class="visible-xs icon-icona-croce"></span></button>\n                        <button class="btn btn-link btn-xs text-uppercase" type="button" data-action="delete"><span class="hidden-xs">'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"action-delete"},{type:"Twig.expression.type.filter",value:"trans",match:["|trans","trans"]}]},{type:"raw",value:'</span><span class="visible-xs icon-icona-delete"></span></button>\n                        <button class="btn btn-link btn-xs text-uppercase" type="button" data-action="save">'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"action-save"},{type:"Twig.expression.type.filter",value:"trans",match:["|trans","trans"]}]},{type:"raw",value:"</button>\n                    </div>\n                </div>\n            </form>\n        </div>\n    "}]}},{type:"raw",value:"\n    "},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"bundle",match:["bundle"]},{type:"Twig.expression.type.test",filter:"empty",modifier:"not"}],output:[{type:"raw",value:"        "},{type:"raw",value:'\n        <span class="visibility"><i class="icon-'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"bundle",match:["bundle"]}]},{type:"raw",value:'" dir="'},{type:"output",stack:[{type:"Twig.expression.type._function",fn:"leConstant",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:"LOCALE_TEXT_DIRECTION"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:'"></i>\n            <span class="visible-lg-inline">'},{type:"output",stack:[{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!0,params:[{type:"Twig.expression.type.string",value:"propertyDetail-visibility"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!0,params:[{type:"Twig.expression.type.variable",value:"bundle",match:["bundle"]},{type:"Twig.expression.type.filter",value:"capitalize",match:["| capitalize","capitalize"]}]},{type:"Twig.expression.type.operator.binary",value:"~",precidence:6,associativity:"leftToRight",operator:"~"}]},{type:"Twig.expression.type.filter",value:"trans",match:["| trans","trans"]}]},{type:"raw",value:"</span>\n        </span>\n    "}]}},{type:"raw",value:"</li>\n"}],allowInlineIncludes:!0,rethrow:!0});t.exports=function(t){return n.render(t)}},47:function(t,e,i){"use strict";function o(t){function e(){return v.selectorModal="#"+w.id,v}function i(t){return"function"==typeof t&&(x=t),v}function o(){return"function"==typeof x&&x(),v}function l(t){return"function"==typeof t&&(b=t),v}function p(t){return"function"==typeof b&&b(t),v}function c(){return k||(w.id=g("boxModal_")),e(),s(v.selectorModal).exist()&&u(s(v.selectorModal)),_.$el.append(_.template({modal:w})),T=s(v.selectorModal),T.on("shown.bs.modal",function(){o()}),T.on("hide.bs.modal",function(t){p(t)}),T.on("hidden.bs.modal",function(){u(s(this))}),m(),P=s(".modal-backdrop.fade.in"),P.length>1&&s(P[0]).remove(),T}function u(t){return f(),t.unbind(),t.remove(),_.resetModalVarOnClose&&d(),v}function d(){return w=C,k=!1,x=null,b=null,v}function h(t,e){if(void 0!==t&&null!==t)if("object"===(void 0===t?"undefined":n(t))){t.id&&(k=!0);for(var i in t)w[i]=t[i]}else void 0!==e&&null!==e&&(w[t]=e,"id"===t&&(k=!0));return v}function m(){return T.modal("show"),v}function f(){return T.modal("hide"),v}function y(){return s(v.selectorModal+" .modal-content").hide(),v}function g(t){return t+ ++a}var v,_=t||{},w=null,x=null,b=null,T=null,k=!1,P=null,C={id:"",header:"",body:"",footer:"",cssClass:"",cssClassSize:"cell-wrap--middle"};return v={render:c,setModalVar:h,resetModalVar:d,selectorModal:null,show:m,hide:f,hideOnlyBox:y,setPreRender:i,setPreHide:l},function(){if(_.template=r,_.resetModalVarOnClose=void 0===_.resetModalVarOnClose||null===_.resetModalVarOnClose||_.resetModalVarOnClose,_.el=void 0!==_.el?_.el:"body",_.$el=s(_.el),d(),!(_.$el instanceof s))throw new Error("You need to specify an element selector ('el')");void 0!==_.preRender&&null===_.preRender&&i(_.preRender),null===_.modalData&&h(_.modalData)}(),v}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=i(0),r=i(73),a=0;t.exports=o},51:function(t,e,i){var o,n;!function(s,r,a){var l={version:"1.0.3"};"object"==typeof t&&"object"==typeof t.exports?t.exports=l:(o=l,void 0!==(n="function"==typeof o?o.call(e,i,e,t):o)&&(t.exports=n)),void 0!==s&&function(){var t=s.L;l.noConflict=function(){return s.L=t,this},s.L=l}(),l.Util={extend:function(t){var e,i,o,n;for(i=1,o=arguments.length;i<o;i++){n=arguments[i];for(e in n)t[e]=n[e]}return t},create:Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}(),bind:function(t,e){var i=Array.prototype.slice;if(t.bind)return t.bind.apply(t,i.call(arguments,1));var o=i.call(arguments,2);return function(){return t.apply(e,o.length?o.concat(i.call(arguments)):arguments)}},stamp:function(t){return t._leaflet_id=t._leaflet_id||++l.Util.lastId,t._leaflet_id},lastId:0,throttle:function(t,e,i){var o,n,s,r;return r=function(){o=!1,n&&(s.apply(i,n),n=!1)},s=function(){o?n=arguments:(t.apply(i,arguments),setTimeout(r,e),o=!0)}},wrapNum:function(t,e,i){var o=e[1],n=e[0],s=o-n;return t===o&&i?t:((t-n)%s+s)%s+n},falseFn:function(){return!1},formatNum:function(t,e){var i=Math.pow(10,e||5);return Math.round(t*i)/i},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},splitWords:function(t){return l.Util.trim(t).split(/\s+/)},setOptions:function(t,e){t.hasOwnProperty("options")||(t.options=t.options?l.Util.create(t.options):{});for(var i in e)t.options[i]=e[i];return t.options},getParamString:function(t,e,i){var o=[];for(var n in t)o.push(encodeURIComponent(i?n.toUpperCase():n)+"="+encodeURIComponent(t[n]));return(e&&-1!==e.indexOf("?")?"&":"?")+o.join("&")},template:function(t,e){return t.replace(l.Util.templateRe,function(t,i){var o=e[i];if(void 0===o)throw new Error("No value provided for variable "+t);return"function"==typeof o&&(o=o(e)),o})},templateRe:/\{ *([\w_\-]+) *\}/g,isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},indexOf:function(t,e){for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="},function(){function t(t){return s["webkit"+t]||s["moz"+t]||s["ms"+t]}function e(t){var e=+new Date,o=Math.max(0,16-(e-i));return i=e+o,s.setTimeout(t,o)}var i=0,o=s.requestAnimationFrame||t("RequestAnimationFrame")||e,n=s.cancelAnimationFrame||t("CancelAnimationFrame")||t("CancelRequestAnimationFrame")||function(t){s.clearTimeout(t)};l.Util.requestAnimFrame=function(t,i,n){if(!n||o!==e)return o.call(s,l.bind(t,i));t.call(i)},l.Util.cancelAnimFrame=function(t){t&&n.call(s,t)}}(),l.extend=l.Util.extend,l.bind=l.Util.bind,l.stamp=l.Util.stamp,l.setOptions=l.Util.setOptions,l.Class=function(){},l.Class.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=e.__super__=this.prototype,o=l.Util.create(i);o.constructor=e,e.prototype=o;for(var n in this)this.hasOwnProperty(n)&&"prototype"!==n&&(e[n]=this[n]);return t.statics&&(l.extend(e,t.statics),delete t.statics),t.includes&&(l.Util.extend.apply(null,[o].concat(t.includes)),delete t.includes),o.options&&(t.options=l.Util.extend(l.Util.create(o.options),t.options)),l.extend(o,t),o._initHooks=[],o.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=o._initHooks.length;t<e;t++)o._initHooks[t].call(this)}},e},l.Class.include=function(t){return l.extend(this.prototype,t),this},l.Class.mergeOptions=function(t){return l.extend(this.prototype.options,t),this},l.Class.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),i="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(i),this},l.Evented=l.Class.extend({on:function(t,e,i){if("object"==typeof t)for(var o in t)this._on(o,t[o],e);else{t=l.Util.splitWords(t);for(var n=0,s=t.length;n<s;n++)this._on(t[n],e,i)}return this},off:function(t,e,i){if(t)if("object"==typeof t)for(var o in t)this._off(o,t[o],e);else{t=l.Util.splitWords(t);for(var n=0,s=t.length;n<s;n++)this._off(t[n],e,i)}else delete this._events;return this},_on:function(t,e,i){this._events=this._events||{};var o=this._events[t];o||(o=[],this._events[t]=o),i===this&&(i=void 0);for(var n={fn:e,ctx:i},s=o,r=0,a=s.length;r<a;r++)if(s[r].fn===e&&s[r].ctx===i)return;s.push(n)},_off:function(t,e,i){var o,n,s;if(this._events&&(o=this._events[t])){if(!e){for(n=0,s=o.length;n<s;n++)o[n].fn=l.Util.falseFn;return void delete this._events[t]}if(i===this&&(i=void 0),o)for(n=0,s=o.length;n<s;n++){var r=o[n];if(r.ctx===i&&r.fn===e)return r.fn=l.Util.falseFn,this._firingCount&&(this._events[t]=o=o.slice()),void o.splice(n,1)}}},fire:function(t,e,i){if(!this.listens(t,i))return this;var o=l.Util.extend({},e,{type:t,target:this});if(this._events){var n=this._events[t];if(n){this._firingCount=this._firingCount+1||1;for(var s=0,r=n.length;s<r;s++){var a=n[s];a.fn.call(a.ctx||this,o)}this._firingCount--}}return i&&this._propagateEvent(o),this},listens:function(t,e){var i=this._events&&this._events[t];if(i&&i.length)return!0;if(e)for(var o in this._eventParents)if(this._eventParents[o].listens(t,e))return!0;return!1},once:function(t,e,i){if("object"==typeof t){for(var o in t)this.once(o,t[o],e);return this}var n=l.bind(function(){this.off(t,e,i).off(t,n,i)},this);return this.on(t,e,i).on(t,n,i)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[l.stamp(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[l.stamp(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,l.extend({layer:t.target},t),!0)}});var p=l.Evented.prototype;p.addEventListener=p.on,p.removeEventListener=p.clearAllEventListeners=p.off,p.addOneTimeEventListener=p.once,p.fireEvent=p.fire,p.hasEventListeners=p.listens,l.Mixin={Events:p},function(){var t=navigator.userAgent.toLowerCase(),e=r.documentElement,i="ActiveXObject"in s,o=-1!==t.indexOf("webkit"),n=-1!==t.indexOf("phantom"),a=-1!==t.search("android [23]"),p=-1!==t.indexOf("chrome"),c=-1!==t.indexOf("gecko")&&!o&&!s.opera&&!i,u=0===navigator.platform.indexOf("Win"),d="undefined"!=typeof orientation||-1!==t.indexOf("mobile"),h=!s.PointerEvent&&s.MSPointerEvent,m=s.PointerEvent||h,f=i&&"transition"in e.style,y="WebKitCSSMatrix"in s&&"m11"in new s.WebKitCSSMatrix&&!a,g="MozPerspective"in e.style,v="OTransition"in e.style,_=!s.L_NO_TOUCH&&(m||"ontouchstart"in s||s.DocumentTouch&&r instanceof s.DocumentTouch);l.Browser={ie:i,ielt9:i&&!r.addEventListener,edge:"msLaunchUri"in navigator&&!("documentMode"in r),webkit:o,gecko:c,android:-1!==t.indexOf("android"),android23:a,chrome:p,safari:!p&&-1!==t.indexOf("safari"),win:u,ie3d:f,webkit3d:y,gecko3d:g,opera12:v,any3d:!s.L_DISABLE_3D&&(f||y||g)&&!v&&!n,mobile:d,mobileWebkit:d&&o,mobileWebkit3d:d&&y,mobileOpera:d&&s.opera,mobileGecko:d&&c,touch:!!_,msPointer:!!h,pointer:!!m,retina:(s.devicePixelRatio||s.screen.deviceXDPI/s.screen.logicalXDPI)>1}}(),l.Point=function(t,e,i){this.x=i?Math.round(t):t,this.y=i?Math.round(e):e},l.Point.prototype={clone:function(){return new l.Point(this.x,this.y)},add:function(t){return this.clone()._add(l.point(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(l.point(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new l.Point(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new l.Point(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},distanceTo:function(t){t=l.point(t);var e=t.x-this.x,i=t.y-this.y;return Math.sqrt(e*e+i*i)},equals:function(t){return t=l.point(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=l.point(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+l.Util.formatNum(this.x)+", "+l.Util.formatNum(this.y)+")"}},l.point=function(t,e,i){return t instanceof l.Point?t:l.Util.isArray(t)?new l.Point(t[0],t[1]):void 0===t||null===t?t:"object"==typeof t&&"x"in t&&"y"in t?new l.Point(t.x,t.y):new l.Point(t,e,i)},l.Bounds=function(t,e){if(t)for(var i=e?[t,e]:t,o=0,n=i.length;o<n;o++)this.extend(i[o])},l.Bounds.prototype={extend:function(t){return t=l.point(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new l.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new l.Point(this.min.x,this.max.y)},getTopRight:function(){return new l.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,i;return t="number"==typeof t[0]||t instanceof l.Point?l.point(t):l.bounds(t),t instanceof l.Bounds?(e=t.min,i=t.max):e=i=t,e.x>=this.min.x&&i.x<=this.max.x&&e.y>=this.min.y&&i.y<=this.max.y},intersects:function(t){t=l.bounds(t);var e=this.min,i=this.max,o=t.min,n=t.max,s=n.x>=e.x&&o.x<=i.x,r=n.y>=e.y&&o.y<=i.y;return s&&r},overlaps:function(t){t=l.bounds(t);var e=this.min,i=this.max,o=t.min,n=t.max,s=n.x>e.x&&o.x<i.x,r=n.y>e.y&&o.y<i.y;return s&&r},isValid:function(){return!(!this.min||!this.max)}},l.bounds=function(t,e){return!t||t instanceof l.Bounds?t:new l.Bounds(t,e)},l.Transformation=function(t,e,i,o){this._a=t,this._b=e,this._c=i,this._d=o},l.Transformation.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new l.Point((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}},l.DomUtil={get:function(t){return"string"==typeof t?r.getElementById(t):t},getStyle:function(t,e){var i=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!i||"auto"===i)&&r.defaultView){var o=r.defaultView.getComputedStyle(t,null);i=o?o[e]:null}return"auto"===i?null:i},create:function(t,e,i){var o=r.createElement(t);return o.className=e||"",i&&i.appendChild(o),o},remove:function(t){var e=t.parentNode;e&&e.removeChild(t)},empty:function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},toFront:function(t){t.parentNode.appendChild(t)},toBack:function(t){var e=t.parentNode;e.insertBefore(t,e.firstChild)},hasClass:function(t,e){if(void 0!==t.classList)return t.classList.contains(e);var i=l.DomUtil.getClass(t);return i.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(i)},addClass:function(t,e){if(void 0!==t.classList)for(var i=l.Util.splitWords(e),o=0,n=i.length;o<n;o++)t.classList.add(i[o]);else if(!l.DomUtil.hasClass(t,e)){var s=l.DomUtil.getClass(t);l.DomUtil.setClass(t,(s?s+" ":"")+e)}},removeClass:function(t,e){void 0!==t.classList?t.classList.remove(e):l.DomUtil.setClass(t,l.Util.trim((" "+l.DomUtil.getClass(t)+" ").replace(" "+e+" "," ")))},setClass:function(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e},getClass:function(t){return void 0===t.className.baseVal?t.className:t.className.baseVal},setOpacity:function(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&l.DomUtil._setOpacityIE(t,e)},_setOpacityIE:function(t,e){var i=!1,o="DXImageTransform.Microsoft.Alpha";try{i=t.filters.item(o)}catch(t){if(1===e)return}e=Math.round(100*e),i?(i.Enabled=100!==e,i.Opacity=e):t.style.filter+=" progid:"+o+"(opacity="+e+")"},testProp:function(t){for(var e=r.documentElement.style,i=0;i<t.length;i++)if(t[i]in e)return t[i];return!1},setTransform:function(t,e,i){var o=e||new l.Point(0,0);t.style[l.DomUtil.TRANSFORM]=(l.Browser.ie3d?"translate("+o.x+"px,"+o.y+"px)":"translate3d("+o.x+"px,"+o.y+"px,0)")+(i?" scale("+i+")":"")},setPosition:function(t,e){t._leaflet_pos=e,l.Browser.any3d?l.DomUtil.setTransform(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")},getPosition:function(t){return t._leaflet_pos||new l.Point(0,0)}},function(){l.DomUtil.TRANSFORM=l.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]);var t=l.DomUtil.TRANSITION=l.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);if(l.DomUtil.TRANSITION_END="webkitTransition"===t||"OTransition"===t?t+"End":"transitionend","onselectstart"in r)l.DomUtil.disableTextSelection=function(){l.DomEvent.on(s,"selectstart",l.DomEvent.preventDefault)},l.DomUtil.enableTextSelection=function(){l.DomEvent.off(s,"selectstart",l.DomEvent.preventDefault)};else{var e=l.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);l.DomUtil.disableTextSelection=function(){if(e){var t=r.documentElement.style;this._userSelect=t[e],t[e]="none"}},l.DomUtil.enableTextSelection=function(){e&&(r.documentElement.style[e]=this._userSelect,delete this._userSelect)}}l.DomUtil.disableImageDrag=function(){l.DomEvent.on(s,"dragstart",l.DomEvent.preventDefault)},l.DomUtil.enableImageDrag=function(){l.DomEvent.off(s,"dragstart",l.DomEvent.preventDefault)},l.DomUtil.preventOutline=function(t){for(;-1===t.tabIndex;)t=t.parentNode;t&&t.style&&(l.DomUtil.restoreOutline(),this._outlineElement=t,this._outlineStyle=t.style.outline,t.style.outline="none",l.DomEvent.on(s,"keydown",l.DomUtil.restoreOutline,this))},l.DomUtil.restoreOutline=function(){this._outlineElement&&(this._outlineElement.style.outline=this._outlineStyle,delete this._outlineElement,delete this._outlineStyle,l.DomEvent.off(s,"keydown",l.DomUtil.restoreOutline,this))}}(),l.LatLng=function(t,e,i){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==i&&(this.alt=+i)},l.LatLng.prototype={equals:function(t,e){return!!t&&(t=l.latLng(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+l.Util.formatNum(this.lat,t)+", "+l.Util.formatNum(this.lng,t)+")"},distanceTo:function(t){return l.CRS.Earth.distance(this,l.latLng(t))},wrap:function(){return l.CRS.Earth.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,i=e/Math.cos(Math.PI/180*this.lat);return l.latLngBounds([this.lat-e,this.lng-i],[this.lat+e,this.lng+i])},clone:function(){return new l.LatLng(this.lat,this.lng,this.alt)}},l.latLng=function(t,e,i){return t instanceof l.LatLng?t:l.Util.isArray(t)&&"object"!=typeof t[0]?3===t.length?new l.LatLng(t[0],t[1],t[2]):2===t.length?new l.LatLng(t[0],t[1]):null:void 0===t||null===t?t:"object"==typeof t&&"lat"in t?new l.LatLng(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new l.LatLng(t,e,i)},l.LatLngBounds=function(t,e){if(t)for(var i=e?[t,e]:t,o=0,n=i.length;o<n;o++)this.extend(i[o])},l.LatLngBounds.prototype={extend:function(t){var e,i,o=this._southWest,n=this._northEast;if(t instanceof l.LatLng)e=t,i=t;else{if(!(t instanceof l.LatLngBounds))return t?this.extend(l.latLng(t)||l.latLngBounds(t)):this;if(e=t._southWest,i=t._northEast,!e||!i)return this}return o||n?(o.lat=Math.min(e.lat,o.lat),o.lng=Math.min(e.lng,o.lng),n.lat=Math.max(i.lat,n.lat),n.lng=Math.max(i.lng,n.lng)):(this._southWest=new l.LatLng(e.lat,e.lng),this._northEast=new l.LatLng(i.lat,i.lng)),this},pad:function(t){var e=this._southWest,i=this._northEast,o=Math.abs(e.lat-i.lat)*t,n=Math.abs(e.lng-i.lng)*t;return new l.LatLngBounds(new l.LatLng(e.lat-o,e.lng-n),new l.LatLng(i.lat+o,i.lng+n))},getCenter:function(){return new l.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new l.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new l.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof l.LatLng||"lat"in t?l.latLng(t):l.latLngBounds(t);var e,i,o=this._southWest,n=this._northEast;return t instanceof l.LatLngBounds?(e=t.getSouthWest(),i=t.getNorthEast()):e=i=t,e.lat>=o.lat&&i.lat<=n.lat&&e.lng>=o.lng&&i.lng<=n.lng},intersects:function(t){t=l.latLngBounds(t);var e=this._southWest,i=this._northEast,o=t.getSouthWest(),n=t.getNorthEast(),s=n.lat>=e.lat&&o.lat<=i.lat,r=n.lng>=e.lng&&o.lng<=i.lng;return s&&r},overlaps:function(t){t=l.latLngBounds(t);var e=this._southWest,i=this._northEast,o=t.getSouthWest(),n=t.getNorthEast(),s=n.lat>e.lat&&o.lat<i.lat,r=n.lng>e.lng&&o.lng<i.lng;return s&&r},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t){return!!t&&(t=l.latLngBounds(t),this._southWest.equals(t.getSouthWest())&&this._northEast.equals(t.getNorthEast()))},isValid:function(){return!(!this._southWest||!this._northEast)}},l.latLngBounds=function(t,e){return t instanceof l.LatLngBounds?t:new l.LatLngBounds(t,e)},l.Projection={},l.Projection.LonLat={project:function(t){return new l.Point(t.lng,t.lat)},unproject:function(t){return new l.LatLng(t.y,t.x)},bounds:l.bounds([-180,-90],[180,90])},l.Projection.SphericalMercator={R:6378137,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,i=this.MAX_LATITUDE,o=Math.max(Math.min(i,t.lat),-i),n=Math.sin(o*e);return new l.Point(this.R*t.lng*e,this.R*Math.log((1+n)/(1-n))/2)},unproject:function(t){var e=180/Math.PI;return new l.LatLng((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:function(){var t=6378137*Math.PI;return l.bounds([-t,-t],[t,t])}()},l.CRS={latLngToPoint:function(t,e){var i=this.projection.project(t),o=this.scale(e);return this.transformation._transform(i,o)},pointToLatLng:function(t,e){var i=this.scale(e),o=this.transformation.untransform(t,i);return this.projection.unproject(o)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,i=this.scale(t),o=this.transformation.transform(e.min,i),n=this.transformation.transform(e.max,i);return l.bounds(o,n)},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?l.Util.wrapNum(t.lng,this.wrapLng,!0):t.lng,i=this.wrapLat?l.Util.wrapNum(t.lat,this.wrapLat,!0):t.lat,o=t.alt;return l.latLng(i,e,o)},wrapLatLngBounds:function(t){var e=t.getCenter(),i=this.wrapLatLng(e),o=e.lat-i.lat,n=e.lng-i.lng;if(0===o&&0===n)return t;var s=t.getSouthWest(),r=t.getNorthEast(),a=l.latLng({lat:s.lat-o,lng:s.lng-n}),p=l.latLng({lat:r.lat-o,lng:r.lng-n});return new l.LatLngBounds(a,p)}},l.CRS.Simple=l.extend({},l.CRS,{projection:l.Projection.LonLat,transformation:new l.Transformation(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var i=e.lng-t.lng,o=e.lat-t.lat;return Math.sqrt(i*i+o*o)},infinite:!0}),l.CRS.Earth=l.extend({},l.CRS,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var i=Math.PI/180,o=t.lat*i,n=e.lat*i,s=Math.sin(o)*Math.sin(n)+Math.cos(o)*Math.cos(n)*Math.cos((e.lng-t.lng)*i);return this.R*Math.acos(Math.min(s,1))}}),l.CRS.EPSG3857=l.extend({},l.CRS.Earth,{code:"EPSG:3857",projection:l.Projection.SphericalMercator,transformation:function(){var t=.5/(Math.PI*l.Projection.SphericalMercator.R);return new l.Transformation(t,.5,-t,.5)}()}),l.CRS.EPSG900913=l.extend({},l.CRS.EPSG3857,{code:"EPSG:900913"}),l.CRS.EPSG4326=l.extend({},l.CRS.Earth,{code:"EPSG:4326",projection:l.Projection.LonLat,transformation:new l.Transformation(1/180,1,-1/180,.5)}),l.Map=l.Evented.extend({options:{crs:l.CRS.EPSG3857,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=l.setOptions(this,e),this._initContainer(t),this._initLayout(),this._onResize=l.bind(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(l.latLng(e.center),e.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this.callInitHooks(),this._zoomAnimated=l.DomUtil.TRANSITION&&l.Browser.any3d&&!l.Browser.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),l.DomEvent.on(this._proxy,l.DomUtil.TRANSITION_END,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,i){if(e=void 0===e?this._zoom:this._limitZoom(e),t=this._limitCenter(l.latLng(t),e,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&!0!==i){void 0!==i.animate&&(i.zoom=l.extend({animate:i.animate},i.zoom),i.pan=l.extend({animate:i.animate,duration:i.duration},i.pan));if(this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,i.zoom):this._tryAnimatedPan(t,i.pan))return clearTimeout(this._sizeTimer),this}return this._resetView(t,e),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(l.Browser.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(l.Browser.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,i){var o=this.getZoomScale(e),n=this.getSize().divideBy(2),s=t instanceof l.Point?t:this.latLngToContainerPoint(t),r=s.subtract(n).multiplyBy(1-1/o),a=this.containerPointToLatLng(n.add(r));return this.setView(a,e,{zoom:i})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():l.latLngBounds(t);var i=l.point(e.paddingTopLeft||e.padding||[0,0]),o=l.point(e.paddingBottomRight||e.padding||[0,0]),n=this.getBoundsZoom(t,!1,i.add(o));n="number"==typeof e.maxZoom?Math.min(e.maxZoom,n):n;var s=o.subtract(i).divideBy(2),r=this.project(t.getSouthWest(),n),a=this.project(t.getNorthEast(),n);return{center:this.unproject(r.add(a).divideBy(2).add(s),n),zoom:n}},fitBounds:function(t,e){if(t=l.latLngBounds(t),!t.isValid())throw new Error("Bounds are not valid.");var i=this._getBoundsCenterZoom(t,e);return this.setView(i.center,i.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(t=l.point(t).round(),e=e||{},!t.x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new l.PosAnimation,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){l.DomUtil.addClass(this._mapPane,"leaflet-pan-anim");var i=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,i,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,i){function o(t){var e=t?-1:1,i=t?g:y,o=g*g-y*y+e*w*w*v*v,n=2*i*w*v,s=o/n,r=Math.sqrt(s*s+1)-s;return r<1e-9?-18:Math.log(r)}function n(t){return(Math.exp(t)-Math.exp(-t))/2}function s(t){return(Math.exp(t)+Math.exp(-t))/2}function r(t){return n(t)/s(t)}function a(t){return y*(s(x)/s(x+_*t))}function p(t){return y*(s(x)*r(x+_*t)-n(x))/w}function c(t){return 1-Math.pow(1-t,1.5)}function u(){var i=(Date.now()-b)/k,o=c(i)*T;i<=1?(this._flyToFrame=l.Util.requestAnimFrame(u,this),this._move(this.unproject(d.add(h.subtract(d).multiplyBy(p(o)/v)),f),this.getScaleZoom(y/a(o),f),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}if(i=i||{},!1===i.animate||!l.Browser.any3d)return this.setView(t,e,i);this._stop();var d=this.project(this.getCenter()),h=this.project(t),m=this.getSize(),f=this._zoom;t=l.latLng(t),e=void 0===e?f:e;var y=Math.max(m.x,m.y),g=y*this.getZoomScale(f,e),v=h.distanceTo(d)||1,_=1.42,w=_*_,x=o(0),b=Date.now(),T=(o(1)-x)/_,k=i.duration?1e3*i.duration:1e3*T*.8;return this._moveStart(!0),u.call(this),this},flyToBounds:function(t,e){var i=this._getBoundsCenterZoom(t,e);return this.flyTo(i.center,i.zoom,e)},setMaxBounds:function(t){return t=l.latLngBounds(t),t.isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){return this.options.minZoom=t,this._loaded&&this.getZoom()<this.options.minZoom?this.setZoom(t):this},setMaxZoom:function(t){return this.options.maxZoom=t,this._loaded&&this.getZoom()>this.options.maxZoom?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var i=this.getCenter(),o=this._limitCenter(i,this._zoom,l.latLngBounds(t));return i.equals(o)||this.panTo(o,e),this._enforcingBounds=!1,this},invalidateSize:function(t){if(!this._loaded)return this;t=l.extend({animate:!1,pan:!0},!0===t?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var i=this.getSize(),o=e.divideBy(2).round(),n=i.divideBy(2).round(),s=o.subtract(n);return s.x||s.y?(t.animate&&t.pan?this.panBy(s):(t.pan&&this._rawPanBy(s),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l.bind(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:i})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=l.extend({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=l.bind(this._handleGeolocationResponse,this),i=l.bind(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,i,t):navigator.geolocation.getCurrentPosition(e,i,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,i=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+i+"."})},_handleGeolocationResponse:function(t){var e=t.coords.latitude,i=t.coords.longitude,o=new l.LatLng(e,i),n=o.toBounds(t.coords.accuracy),s=this._locateOptions;if(s.setView){var r=this.getBoundsZoom(n);this.setView(o,s.maxZoom?Math.min(r,s.maxZoom):r)}var a={latlng:o,bounds:n,timestamp:t.timestamp};for(var p in t.coords)"number"==typeof t.coords[p]&&(a[p]=t.coords[p]);this.fire("locationfound",a)},addHandler:function(t,e){if(!e)return this;var i=this[t]=new e(this);return this._handlers.push(i),this.options[t]&&i.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}l.DomUtil.remove(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this._loaded&&this.fire("unload");for(var t in this._layers)this._layers[t].remove();return this},createPane:function(t,e){var i="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),o=l.DomUtil.create("div",i,e||this._mapPane);return t&&(this._panes[t]=o),o},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),i=this.unproject(t.getTopRight());return new l.LatLngBounds(e,i)},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,i){t=l.latLngBounds(t),i=l.point(i||[0,0]);var o=this.getZoom()||0,n=this.getMinZoom(),s=this.getMaxZoom(),r=t.getNorthWest(),a=t.getSouthEast(),p=this.getSize().subtract(i),c=l.bounds(this.project(a,o),this.project(r,o)).getSize(),u=l.Browser.any3d?this.options.zoomSnap:1,d=Math.min(p.x/c.x,p.y/c.y);return o=this.getScaleZoom(d,o),u&&(o=Math.round(o/(u/100))*(u/100),o=e?Math.ceil(o/u)*u:Math.floor(o/u)*u),Math.max(n,Math.min(s,o))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new l.Point(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var i=this._getTopLeftPoint(t,e);return new l.Bounds(i,i.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var i=this.options.crs;return e=void 0===e?this._zoom:e,i.scale(t)/i.scale(e)},getScaleZoom:function(t,e){var i=this.options.crs;e=void 0===e?this._zoom:e;var o=i.zoom(t*i.scale(e));return isNaN(o)?1/0:o},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(l.latLng(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(l.point(t),e)},layerPointToLatLng:function(t){var e=l.point(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(l.latLng(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(l.latLng(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(l.latLngBounds(t))},distance:function(t,e){return this.options.crs.distance(l.latLng(t),l.latLng(e))},containerPointToLayerPoint:function(t){return l.point(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return l.point(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(l.point(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(l.latLng(t)))},mouseEventToContainerPoint:function(t){return l.DomEvent.getMousePosition(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=l.DomUtil.get(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");l.DomEvent.addListener(e,"scroll",this._onScroll,this),this._containerId=l.Util.stamp(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&l.Browser.any3d,l.DomUtil.addClass(t,"leaflet-container"+(l.Browser.touch?" leaflet-touch":"")+(l.Browser.retina?" leaflet-retina":"")+(l.Browser.ielt9?" leaflet-oldie":"")+(l.Browser.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=l.DomUtil.getStyle(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),l.DomUtil.setPosition(this._mapPane,new l.Point(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(l.DomUtil.addClass(t.markerPane,"leaflet-zoom-hide"),l.DomUtil.addClass(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){l.DomUtil.setPosition(this._mapPane,new l.Point(0,0));var i=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var o=this._zoom!==e;this._moveStart(o)._move(t,e)._moveEnd(o),this.fire("viewreset"),i&&this.fire("load")},_moveStart:function(t){return t&&this.fire("zoomstart"),this.fire("movestart")},_move:function(t,e,i){void 0===e&&(e=this._zoom);var o=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(o||i&&i.pinch)&&this.fire("zoom",i),this.fire("move",i)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return l.Util.cancelAnimFrame(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){l.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){if(l.DomEvent){this._targets={},this._targets[l.stamp(this._container)]=this;var e=t?"off":"on";l.DomEvent[e](this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this),this.options.trackResize&&l.DomEvent[e](s,"resize",this._onResize,this),l.Browser.any3d&&this.options.transform3DLimit&&this[e]("moveend",this._onMoveEnd)}},_onResize:function(){l.Util.cancelAnimFrame(this._resizeRequest),this._resizeRequest=l.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var i,o=[],n="mouseout"===e||"mouseover"===e,s=t.target||t.srcElement,r=!1;s;){if((i=this._targets[l.stamp(s)])&&("click"===e||"preclick"===e)&&!t._simulated&&this._draggableMoved(i)){r=!0;break}if(i&&i.listens(e,!0)){if(n&&!l.DomEvent._isExternalTarget(s,t))break;if(o.push(i),n)break}if(s===this._container)break;s=s.parentNode}return o.length||r||n||!l.DomEvent._isExternalTarget(s,t)||(o=[this]),o},_handleDOMEvent:function(t){if(this._loaded&&!l.DomEvent._skipped(t)){var e="keypress"===t.type&&13===t.keyCode?"click":t.type;"mousedown"===e&&l.DomUtil.preventOutline(t.target||t.srcElement),this._fireDOMEvent(t,e)}},_fireDOMEvent:function(t,e,i){if("click"===t.type){var o=l.Util.extend({},t);o.type="preclick",this._fireDOMEvent(o,o.type,i)}if(!t._stopped&&(i=(i||[]).concat(this._findEventTargets(t,e)),i.length)){var n=i[0];"contextmenu"===e&&n.listens(e,!0)&&l.DomEvent.preventDefault(t);var s={originalEvent:t};if("keypress"!==t.type){var r=n instanceof l.Marker;s.containerPoint=r?this.latLngToContainerPoint(n.getLatLng()):this.mouseEventToContainerPoint(t),s.layerPoint=this.containerPointToLayerPoint(s.containerPoint),s.latlng=r?n.getLatLng():this.layerPointToLatLng(s.layerPoint)}for(var a=0;a<i.length;a++)if(i[a].fire(e,s,!0),s.originalEvent._stopped||i[a].options.nonBubblingEvents&&-1!==l.Util.indexOf(i[a].options.nonBubblingEvents,e))return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return l.DomUtil.getPosition(this._mapPane)||new l.Point(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var i=this.getSize()._divideBy(2);return this.project(t,e)._subtract(i)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,i){var o=this._getNewPixelOrigin(i,e);return this.project(t,e)._subtract(o)},_latLngBoundsToNewLayerBounds:function(t,e,i){var o=this._getNewPixelOrigin(i,e);return l.bounds([this.project(t.getSouthWest(),e)._subtract(o),this.project(t.getNorthWest(),e)._subtract(o),this.project(t.getSouthEast(),e)._subtract(o),this.project(t.getNorthEast(),e)._subtract(o)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,i){if(!i)return t;var o=this.project(t,e),n=this.getSize().divideBy(2),s=new l.Bounds(o.subtract(n),o.add(n)),r=this._getBoundsOffset(s,i,e);return r.round().equals([0,0])?t:this.unproject(o.add(r),e)},_limitOffset:function(t,e){if(!e)return t;var i=this.getPixelBounds(),o=new l.Bounds(i.min.add(t),i.max.add(t));return t.add(this._getBoundsOffset(o,e))},_getBoundsOffset:function(t,e,i){var o=l.bounds(this.project(e.getNorthEast(),i),this.project(e.getSouthWest(),i)),n=o.min.subtract(t.min),s=o.max.subtract(t.max),r=this._rebound(n.x,-s.x),a=this._rebound(n.y,-s.y);return new l.Point(r,a)},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),i=this.getMaxZoom(),o=l.Browser.any3d?this.options.zoomSnap:1;return o&&(t=Math.round(t/o)*o),Math.max(e,Math.min(i,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){l.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var i=this._getCenterOffset(t)._floor();return!(!0!==(e&&e.animate)&&!this.getSize().contains(i))&&(this.panBy(i,e),!0)},_createAnimProxy:function(){var t=this._proxy=l.DomUtil.create("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(e){var i=l.DomUtil.TRANSFORM,o=t.style[i];l.DomUtil.setTransform(t,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),o===t.style[i]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",function(){var e=this.getCenter(),i=this.getZoom();l.DomUtil.setTransform(t,this.project(e,i),this.getZoomScale(i,1))},this)},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,i){if(this._animatingZoom)return!0;if(i=i||{},!this._zoomAnimated||!1===i.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var o=this.getZoomScale(e),n=this._getCenterOffset(t)._divideBy(1-1/o);return!(!0!==i.animate&&!this.getSize().contains(n))&&(l.Util.requestAnimFrame(function(){this._moveStart(!0)._animateZoom(t,e,!0)},this),!0)},_animateZoom:function(t,e,i,o){i&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,l.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:o}),setTimeout(l.bind(this._onZoomTransitionEnd,this),250)},_onZoomTransitionEnd:function(){this._animatingZoom&&(l.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),l.Util.requestAnimFrame(function(){this._moveEnd(!0)},this))}}),l.map=function(t,e){return new l.Map(t,e)},l.Layer=l.Evented.extend({options:{pane:"overlayPane",nonBubblingEvents:[],attribution:null},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[l.stamp(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[l.stamp(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var i=this.getEvents();e.on(i,this),this.once("remove",function(){e.off(i,this)},this)}this.onAdd(e),this.getAttribution&&e.attributionControl&&e.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),e.fire("layeradd",{layer:this})}}}),l.Map.include({addLayer:function(t){var e=l.stamp(t);return this._layers[e]?this:(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var e=l.stamp(t);return this._layers[e]?(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return!!t&&l.stamp(t)in this._layers},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},_addLayers:function(t){t=t?l.Util.isArray(t)?t:[t]:[];for(var e=0,i=t.length;e<i;e++)this.addLayer(t[e])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[l.stamp(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=l.stamp(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,i=this._getZoomSpan();for(var o in this._zoomBoundLayers){var n=this._zoomBoundLayers[o].options;t=void 0===n.minZoom?t:Math.min(t,n.minZoom),e=void 0===n.maxZoom?e:Math.max(e,n.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,i!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var c="_leaflet_events";l.DomEvent={on:function(t,e,i,o){if("object"==typeof e)for(var n in e)this._on(t,n,e[n],i);else{e=l.Util.splitWords(e);for(var s=0,r=e.length;s<r;s++)this._on(t,e[s],i,o)}return this},off:function(t,e,i,o){if("object"==typeof e)for(var n in e)this._off(t,n,e[n],i);else{e=l.Util.splitWords(e);for(var s=0,r=e.length;s<r;s++)this._off(t,e[s],i,o)}return this},_on:function(t,e,i,o){var n=e+l.stamp(i)+(o?"_"+l.stamp(o):"");if(t[c]&&t[c][n])return this;var r=function(e){return i.call(o||t,e||s.event)},a=r;return l.Browser.pointer&&0===e.indexOf("touch")?this.addPointerListener(t,e,r,n):!l.Browser.touch||"dblclick"!==e||!this.addDoubleTapListener||l.Browser.pointer&&l.Browser.chrome?"addEventListener"in t?"mousewheel"===e?t.addEventListener("onwheel"in t?"wheel":"mousewheel",r,!1):"mouseenter"===e||"mouseleave"===e?(r=function(e){e=e||s.event,l.DomEvent._isExternalTarget(t,e)&&a(e)},t.addEventListener("mouseenter"===e?"mouseover":"mouseout",r,!1)):("click"===e&&l.Browser.android&&(r=function(t){return l.DomEvent._filterClick(t,a)}),t.addEventListener(e,r,!1)):"attachEvent"in t&&t.attachEvent("on"+e,r):this.addDoubleTapListener(t,r,n),t[c]=t[c]||{},t[c][n]=r,this},_off:function(t,e,i,o){var n=e+l.stamp(i)+(o?"_"+l.stamp(o):""),s=t[c]&&t[c][n];return s?(l.Browser.pointer&&0===e.indexOf("touch")?this.removePointerListener(t,e,n):l.Browser.touch&&"dblclick"===e&&this.removeDoubleTapListener?this.removeDoubleTapListener(t,n):"removeEventListener"in t?"mousewheel"===e?t.removeEventListener("onwheel"in t?"wheel":"mousewheel",s,!1):t.removeEventListener("mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,s,!1):"detachEvent"in t&&t.detachEvent("on"+e,s),t[c][n]=null,this):this},stopPropagation:function(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,l.DomEvent._skipped(t),this},disableScrollPropagation:function(t){return l.DomEvent.on(t,"mousewheel",l.DomEvent.stopPropagation)},disableClickPropagation:function(t){var e=l.DomEvent.stopPropagation;return l.DomEvent.on(t,l.Draggable.START.join(" "),e),l.DomEvent.on(t,{click:l.DomEvent._fakeStop,dblclick:e})},preventDefault:function(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this},stop:function(t){return l.DomEvent.preventDefault(t).stopPropagation(t)},getMousePosition:function(t,e){if(!e)return new l.Point(t.clientX,t.clientY);var i=e.getBoundingClientRect();return new l.Point(t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop)},_wheelPxFactor:l.Browser.win&&l.Browser.chrome?2:l.Browser.gecko?s.devicePixelRatio:1,getWheelDelta:function(t){return l.Browser.edge?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/l.DomEvent._wheelPxFactor:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0},_skipEvents:{},_fakeStop:function(t){l.DomEvent._skipEvents[t.type]=!0},_skipped:function(t){var e=this._skipEvents[t.type];return this._skipEvents[t.type]=!1,e},_isExternalTarget:function(t,e){var i=e.relatedTarget;if(!i)return!0;try{for(;i&&i!==t;)i=i.parentNode}catch(t){return!1}return i!==t},_filterClick:function(t,e){var i=t.timeStamp||t.originalEvent&&t.originalEvent.timeStamp,o=l.DomEvent._lastClick&&i-l.DomEvent._lastClick;if(o&&o>100&&o<500||t.target._simulatedClick&&!t._simulated)return void l.DomEvent.stop(t);l.DomEvent._lastClick=i,e(t)}},l.DomEvent.addListener=l.DomEvent.on,l.DomEvent.removeListener=l.DomEvent.off,l.PosAnimation=l.Evented.extend({run:function(t,e,i,o){this.stop(),this._el=t,this._inProgress=!0,this._duration=i||.25,this._easeOutPower=1/Math.max(o||.5,.2),this._startPos=l.DomUtil.getPosition(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=l.Util.requestAnimFrame(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,i=1e3*this._duration;e<i?this._runFrame(this._easeOut(e/i),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var i=this._startPos.add(this._offset.multiplyBy(t));e&&i._round(),l.DomUtil.setPosition(this._el,i),this.fire("step")},_complete:function(){l.Util.cancelAnimFrame(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),l.Projection.Mercator={R:6378137,R_MINOR:6356752.314245179,bounds:l.bounds([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,i=this.R,o=t.lat*e,n=this.R_MINOR/i,s=Math.sqrt(1-n*n),r=s*Math.sin(o),a=Math.tan(Math.PI/4-o/2)/Math.pow((1-r)/(1+r),s/2);return o=-i*Math.log(Math.max(a,1e-10)),new l.Point(t.lng*e*i,o)},unproject:function(t){for(var e,i=180/Math.PI,o=this.R,n=this.R_MINOR/o,s=Math.sqrt(1-n*n),r=Math.exp(-t.y/o),a=Math.PI/2-2*Math.atan(r),p=0,c=.1;p<15&&Math.abs(c)>1e-7;p++)e=s*Math.sin(a),e=Math.pow((1-e)/(1+e),s/2),c=Math.PI/2-2*Math.atan(r*e)-a,a+=c;return new l.LatLng(a*i,t.x*i/o)}},l.CRS.EPSG3395=l.extend({},l.CRS.Earth,{code:"EPSG:3395",projection:l.Projection.Mercator,transformation:function(){var t=.5/(Math.PI*l.Projection.Mercator.R);return new l.Transformation(t,.5,-t,.5)}()}),l.GridLayer=l.Layer.extend({options:{tileSize:256,opacity:1,updateWhenIdle:l.Browser.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){l.setOptions(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),l.DomUtil.remove(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=null},bringToFront:function(){return this._map&&(l.DomUtil.toFront(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(l.DomUtil.toBack(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=l.Util.throttle(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return r.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof l.Point?t:new l.Point(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,i=this.getPane().children,o=-t(-1/0,1/0),n=0,s=i.length;n<s;n++)e=i[n].style.zIndex,i[n]!==this._container&&e&&(o=t(o,+e));isFinite(o)&&(this.options.zIndex=o+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!l.Browser.ielt9){l.DomUtil.setOpacity(this._container,this.options.opacity);var t=+new Date,e=!1,i=!1;for(var o in this._tiles){var n=this._tiles[o];if(n.current&&n.loaded){var s=Math.min(1,(t-n.loaded)/200);l.DomUtil.setOpacity(n.el,s),s<1?e=!0:(n.active&&(i=!0),n.active=!0)}}i&&!this._noPrune&&this._pruneTiles(),e&&(l.Util.cancelAnimFrame(this._fadeFrame),this._fadeFrame=l.Util.requestAnimFrame(this._updateOpacity,this))}},_initContainer:function(){this._container||(this._container=l.DomUtil.create("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var i in this._levels)this._levels[i].el.children.length||i===t?this._levels[i].el.style.zIndex=e-Math.abs(t-i):(l.DomUtil.remove(this._levels[i].el),this._removeTilesAtZoom(i),delete this._levels[i]);var o=this._levels[t],n=this._map;return o||(o=this._levels[t]={},o.el=l.DomUtil.create("div","leaflet-tile-container leaflet-zoom-animated",this._container),o.el.style.zIndex=e,o.origin=n.project(n.unproject(n.getPixelOrigin()),t).round(),o.zoom=t,this._setZoomTransform(o,n.getCenter(),n.getZoom()),l.Util.falseFn(o.el.offsetWidth)),this._level=o,o}},_pruneTiles:function(){if(this._map){var t,e,i=this._map.getZoom();if(i>this.options.maxZoom||i<this.options.minZoom)return void this._removeAllTiles();for(t in this._tiles)e=this._tiles[t],e.retain=e.current;for(t in this._tiles)if(e=this._tiles[t],e.current&&!e.active){var o=e.coords;this._retainParent(o.x,o.y,o.z,o.z-5)||this._retainChildren(o.x,o.y,o.z,o.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)l.DomUtil.remove(this._levels[t].el),delete this._levels[t];this._removeAllTiles(),this._tileZoom=null},_retainParent:function(t,e,i,o){var n=Math.floor(t/2),s=Math.floor(e/2),r=i-1,a=new l.Point(+n,+s);a.z=+r;var p=this._tileCoordsToKey(a),c=this._tiles[p];return c&&c.active?(c.retain=!0,!0):(c&&c.loaded&&(c.retain=!0),r>o&&this._retainParent(n,s,r,o))},_retainChildren:function(t,e,i,o){for(var n=2*t;n<2*t+2;n++)for(var s=2*e;s<2*e+2;s++){var r=new l.Point(n,s);r.z=i+1;var a=this._tileCoordsToKey(r),p=this._tiles[a];p&&p.active?p.retain=!0:(p&&p.loaded&&(p.retain=!0),i+1<o&&this._retainChildren(n,s,i+1,o))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_setView:function(t,e,i,o){var n=Math.round(e);(void 0!==this.options.maxZoom&&n>this.options.maxZoom||void 0!==this.options.minZoom&&n<this.options.minZoom)&&(n=void 0);var s=this.options.updateWhenZooming&&n!==this._tileZoom;o&&!s||(this._tileZoom=n,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==n&&this._update(t),i||this._pruneTiles(),this._noPrune=!!i),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var i in this._levels)this._setZoomTransform(this._levels[i],t,e)},_setZoomTransform:function(t,e,i){var o=this._map.getZoomScale(i,t.zoom),n=t.origin.multiplyBy(o).subtract(this._map._getNewPixelOrigin(e,i)).round();l.Browser.any3d?l.DomUtil.setTransform(t.el,n,o):l.DomUtil.setPosition(t.el,n)},_resetGrid:function(){var t=this._map,e=t.options.crs,i=this._tileSize=this.getTileSize(),o=this._tileZoom,n=this._map.getPixelWorldBounds(this._tileZoom);n&&(this._globalTileRange=this._pxBoundsToTileRange(n)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],o).x/i.x),Math.ceil(t.project([0,e.wrapLng[1]],o).x/i.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],o).y/i.x),Math.ceil(t.project([e.wrapLat[1],0],o).y/i.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,i=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),o=e.getZoomScale(i,this._tileZoom),n=e.project(t,this._tileZoom).floor(),s=e.getSize().divideBy(2*o);return new l.Bounds(n.subtract(s),n.add(s))},_update:function(t){var e=this._map;if(e){var i=e.getZoom();if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var o=this._getTiledPixelBounds(t),n=this._pxBoundsToTileRange(o),s=n.getCenter(),a=[],p=this.options.keepBuffer,c=new l.Bounds(n.getBottomLeft().subtract([p,-p]),n.getTopRight().add([p,-p]));for(var u in this._tiles){var d=this._tiles[u].coords;d.z===this._tileZoom&&c.contains(l.point(d.x,d.y))||(this._tiles[u].current=!1)}if(Math.abs(i-this._tileZoom)>1)return void this._setView(t,i);for(var h=n.min.y;h<=n.max.y;h++)for(var m=n.min.x;m<=n.max.x;m++){var f=new l.Point(m,h);if(f.z=this._tileZoom,this._isValidTile(f)){var y=this._tiles[this._tileCoordsToKey(f)];y?y.current=!0:a.push(f)}}if(a.sort(function(t,e){return t.distanceTo(s)-e.distanceTo(s)}),0!==a.length){this._loading||(this._loading=!0,this.fire("loading"));var g=r.createDocumentFragment();for(m=0;m<a.length;m++)this._addTile(a[m],g);this._level.el.appendChild(g)}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var i=this._globalTileRange;if(!e.wrapLng&&(t.x<i.min.x||t.x>i.max.x)||!e.wrapLat&&(t.y<i.min.y||t.y>i.max.y))return!1}if(!this.options.bounds)return!0;var o=this._tileCoordsToBounds(t);return l.latLngBounds(this.options.bounds).overlaps(o)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToBounds:function(t){var e=this._map,i=this.getTileSize(),o=t.scaleBy(i),n=o.add(i),s=e.unproject(o,t.z),r=e.unproject(n,t.z),a=new l.LatLngBounds(s,r);return this.options.noWrap||e.wrapLatLngBounds(a),a},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),i=new l.Point(+e[0],+e[1]);return i.z=+e[2],i},_removeTile:function(t){var e=this._tiles[t];e&&(l.DomUtil.remove(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){l.DomUtil.addClass(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=l.Util.falseFn,t.onmousemove=l.Util.falseFn,l.Browser.ielt9&&this.options.opacity<1&&l.DomUtil.setOpacity(t,this.options.opacity),l.Browser.android&&!l.Browser.android23&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,e){var i=this._getTilePos(t),o=this._tileCoordsToKey(t),n=this.createTile(this._wrapCoords(t),l.bind(this._tileReady,this,t));this._initTile(n),this.createTile.length<2&&l.Util.requestAnimFrame(l.bind(this._tileReady,this,t,null,n)),l.DomUtil.setPosition(n,i),this._tiles[o]={el:n,coords:t,current:!0},e.appendChild(n),this.fire("tileloadstart",{tile:n,coords:t})},_tileReady:function(t,e,i){if(this._map){e&&this.fire("tileerror",{error:e,tile:i,coords:t});var o=this._tileCoordsToKey(t);i=this._tiles[o],i&&(i.loaded=+new Date,this._map._fadeAnimated?(l.DomUtil.setOpacity(i.el,0),l.Util.cancelAnimFrame(this._fadeFrame),this._fadeFrame=l.Util.requestAnimFrame(this._updateOpacity,this)):(i.active=!0,this._pruneTiles()),e||(l.DomUtil.addClass(i.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:i.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),l.Browser.ielt9||!this._map._fadeAnimated?l.Util.requestAnimFrame(this._pruneTiles,this):setTimeout(l.bind(this._pruneTiles,this),250)))}},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new l.Point(this._wrapX?l.Util.wrapNum(t.x,this._wrapX):t.x,this._wrapY?l.Util.wrapNum(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new l.Bounds(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}}),l.gridLayer=function(t){return new l.GridLayer(t)},l.TileLayer=l.GridLayer.extend({options:{minZoom:0,maxZoom:18,maxNativeZoom:null,minNativeZoom:null,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,e=l.setOptions(this,e),e.detectRetina&&l.Browser.retina&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),l.Browser.android||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url=t,e||this.redraw(),this},createTile:function(t,e){var i=r.createElement("img");return l.DomEvent.on(i,"load",l.bind(this._tileOnLoad,this,e,i)),l.DomEvent.on(i,"error",l.bind(this._tileOnError,this,e,i)),this.options.crossOrigin&&(i.crossOrigin=""),i.alt="",i.setAttribute("role","presentation"),i.src=this.getTileUrl(t),i},getTileUrl:function(t){var e={r:l.Browser.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var i=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=i),e["-y"]=i}return l.Util.template(this._url,l.extend(e,this.options))},_tileOnLoad:function(t,e){l.Browser.ielt9?setTimeout(l.bind(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,i){var o=this.options.errorTileUrl;o&&e.src!==o&&(e.src=o),t(i,e)},getTileSize:function(){var t=this._map,e=l.GridLayer.prototype.getTileSize.call(this),i=this._tileZoom+this.options.zoomOffset,o=this.options.minNativeZoom,n=this.options.maxNativeZoom;return null!==o&&i<o?e.divideBy(t.getZoomScale(o,i)).round():null!==n&&i>n?e.divideBy(t.getZoomScale(n,i)).round():e},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom,i=this.options.zoomReverse,o=this.options.zoomOffset,n=this.options.minNativeZoom,s=this.options.maxNativeZoom;return i&&(t=e-t),t+=o,null!==n&&t<n?n:null!==s&&t>s?s:t},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&(e=this._tiles[t].el,e.onload=l.Util.falseFn,e.onerror=l.Util.falseFn,e.complete||(e.src=l.Util.emptyImageUrl,l.DomUtil.remove(e)))}}),l.tileLayer=function(t,e){return new l.TileLayer(t,e)},l.TileLayer.WMS=l.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var i=l.extend({},this.defaultWmsParams);for(var o in e)o in this.options||(i[o]=e[o]);e=l.setOptions(this,e),i.width=i.height=e.tileSize*(e.detectRetina&&l.Browser.retina?2:1),this.wmsParams=i},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,l.TileLayer.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToBounds(t),i=this._crs.project(e.getNorthWest()),o=this._crs.project(e.getSouthEast()),n=(this._wmsVersion>=1.3&&this._crs===l.CRS.EPSG4326?[o.y,i.x,i.y,o.x]:[i.x,o.y,o.x,i.y]).join(","),s=l.TileLayer.prototype.getTileUrl.call(this,t);return s+l.Util.getParamString(this.wmsParams,s,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+n},setParams:function(t,e){return l.extend(this.wmsParams,t),e||this.redraw(),this}}),l.tileLayer.wms=function(t,e){return new l.TileLayer.WMS(t,e)},l.ImageOverlay=l.Layer.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1},initialize:function(t,e,i){this._url=t,this._bounds=l.latLngBounds(e),l.setOptions(this,i)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(l.DomUtil.addClass(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){l.DomUtil.remove(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&l.DomUtil.toFront(this._image),this},bringToBack:function(){return this._map&&l.DomUtil.toBack(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=t,this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._image=l.DomUtil.create("img","leaflet-image-layer "+(this._zoomAnimated?"leaflet-zoom-animated":""));t.onselectstart=l.Util.falseFn,t.onmousemove=l.Util.falseFn,t.onload=l.bind(this.fire,this,"load"),this.options.crossOrigin&&(t.crossOrigin=""),t.src=this._url,t.alt=this.options.alt},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),i=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;l.DomUtil.setTransform(this._image,i,e)},_reset:function(){var t=this._image,e=new l.Bounds(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),i=e.getSize();l.DomUtil.setPosition(t,e.min),t.style.width=i.x+"px",t.style.height=i.y+"px"},_updateOpacity:function(){l.DomUtil.setOpacity(this._image,this.options.opacity)}}),l.imageOverlay=function(t,e,i){return new l.ImageOverlay(t,e,i)},l.Icon=l.Class.extend({initialize:function(t){l.setOptions(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var i=this._getIconUrl(t);if(!i){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var o=this._createImg(i,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(o,t),o},_setIconStyles:function(t,e){var i=this.options,o=i[e+"Size"];"number"==typeof o&&(o=[o,o]);var n=l.point(o),s=l.point("shadow"===e&&i.shadowAnchor||i.iconAnchor||n&&n.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(i.className||""),s&&(t.style.marginLeft=-s.x+"px",t.style.marginTop=-s.y+"px"),n&&(t.style.width=n.x+"px",t.style.height=n.y+"px")},_createImg:function(t,e){return e=e||r.createElement("img"),e.src=t,e},_getIconUrl:function(t){return l.Browser.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}}),l.icon=function(t){return new l.Icon(t)},l.Icon.Default=l.Icon.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return l.Icon.Default.imagePath||(l.Icon.Default.imagePath=this._detectIconPath()),(this.options.imagePath||l.Icon.Default.imagePath)+l.Icon.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=l.DomUtil.create("div","leaflet-default-icon-path",r.body),e=l.DomUtil.getStyle(t,"background-image")||l.DomUtil.getStyle(t,"backgroundImage");return r.body.removeChild(t),0===e.indexOf("url")?e.replace(/^url\([\"\']?/,"").replace(/marker-icon\.png[\"\']?\)$/,""):""}}),l.Marker=l.Layer.extend({options:{icon:new l.Icon.Default,interactive:!0,draggable:!1,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",nonBubblingEvents:["click","dblclick","mouseover","mouseout","contextmenu"]},initialize:function(t,e){l.setOptions(this,e),this._latlng=l.latLng(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=l.latLng(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),i=t.icon.createIcon(this._icon),o=!1;i!==this._icon&&(this._icon&&this._removeIcon(),o=!0,t.title&&(i.title=t.title),t.alt&&(i.alt=t.alt)),l.DomUtil.addClass(i,e),t.keyboard&&(i.tabIndex="0"),this._icon=i,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var n=t.icon.createShadow(this._shadow),s=!1;n!==this._shadow&&(this._removeShadow(),s=!0),n&&(l.DomUtil.addClass(n,e),n.alt=""),this._shadow=n,t.opacity<1&&this._updateOpacity(),o&&this.getPane().appendChild(this._icon),this._initInteraction(),n&&s&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),l.DomUtil.remove(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&l.DomUtil.remove(this._shadow),this._shadow=null},_setPos:function(t){l.DomUtil.setPosition(this._icon,t),this._shadow&&l.DomUtil.setPosition(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(l.DomUtil.addClass(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),l.Handler.MarkerDrag)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new l.Handler.MarkerDrag(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;l.DomUtil.setOpacity(this._icon,t),this._shadow&&l.DomUtil.setOpacity(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor||[0,0]},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor||[0,0]}}),l.marker=function(t,e){return new l.Marker(t,e)},l.DivIcon=l.Icon.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:r.createElement("div"),i=this.options;if(e.innerHTML=!1!==i.html?i.html:"",i.bgPos){var o=l.point(i.bgPos);e.style.backgroundPosition=-o.x+"px "+-o.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}}),l.divIcon=function(t){return new l.DivIcon(t)},l.DivOverlay=l.Layer.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,e){l.setOptions(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&l.DomUtil.setOpacity(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&l.DomUtil.setOpacity(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(l.DomUtil.setOpacity(this._container,0),this._removeTimeout=setTimeout(l.bind(l.DomUtil.remove,l.DomUtil,this._container),200)):l.DomUtil.remove(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=l.latLng(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&l.DomUtil.toFront(this._container),this},bringToBack:function(){return this._map&&l.DomUtil.toBack(this._container),this},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=l.point(this.options.offset),i=this._getAnchor();this._zoomAnimated?l.DomUtil.setPosition(this._container,t.add(i)):e=e.add(t).add(i);var o=this._containerBottom=-e.y,n=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=o+"px",this._container.style.left=n+"px"}},_getAnchor:function(){return[0,0]}}),l.Popup=l.DivOverlay.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,className:""},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){l.DivOverlay.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof l.Path||this._source.on("preclick",l.DomEvent.stopPropagation))},onRemove:function(t){l.DivOverlay.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof l.Path||this._source.off("preclick",l.DomEvent.stopPropagation))},getEvents:function(){var t=l.DivOverlay.prototype.getEvents.call(this);return("closeOnClick"in this.options?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=this._container=l.DomUtil.create("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated");if(this.options.closeButton){var i=this._closeButton=l.DomUtil.create("a",t+"-close-button",e);i.href="#close",i.innerHTML="&#215;",l.DomEvent.on(i,"click",this._onCloseButtonClick,this)}var o=this._wrapper=l.DomUtil.create("div",t+"-content-wrapper",e);this._contentNode=l.DomUtil.create("div",t+"-content",o),l.DomEvent.disableClickPropagation(o).disableScrollPropagation(this._contentNode).on(o,"contextmenu",l.DomEvent.stopPropagation),this._tipContainer=l.DomUtil.create("div",t+"-tip-container",e),this._tip=l.DomUtil.create("div",t+"-tip",this._tipContainer)},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var i=t.offsetWidth;i=Math.min(i,this.options.maxWidth),i=Math.max(i,this.options.minWidth),e.width=i+1+"px",e.whiteSpace="",e.height="";var o=t.offsetHeight,n=this.options.maxHeight;n&&o>n?(e.height=n+"px",l.DomUtil.addClass(t,"leaflet-popup-scrolled")):l.DomUtil.removeClass(t,"leaflet-popup-scrolled"),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),i=this._getAnchor();l.DomUtil.setPosition(this._container,e.add(i))},_adjustPan:function(){if(!(!this.options.autoPan||this._map._panAnim&&this._map._panAnim._inProgress)){var t=this._map,e=parseInt(l.DomUtil.getStyle(this._container,"marginBottom"),10)||0,i=this._container.offsetHeight+e,o=this._containerWidth,n=new l.Point(this._containerLeft,-i-this._containerBottom);n._add(l.DomUtil.getPosition(this._container));var s=t.layerPointToContainerPoint(n),r=l.point(this.options.autoPanPadding),a=l.point(this.options.autoPanPaddingTopLeft||r),p=l.point(this.options.autoPanPaddingBottomRight||r),c=t.getSize(),u=0,d=0;s.x+o+p.x>c.x&&(u=s.x+o-c.x+p.x),s.x-u-a.x<0&&(u=s.x-a.x),s.y+i+p.y>c.y&&(d=s.y+i-c.y+p.y),s.y-d-a.y<0&&(d=s.y-a.y),(u||d)&&t.fire("autopanstart").panBy([u,d])}},_onCloseButtonClick:function(t){this._close(),l.DomEvent.stop(t)},_getAnchor:function(){return l.point(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),l.popup=function(t,e){return new l.Popup(t,e)},l.Map.mergeOptions({closePopupOnClick:!0}),l.Map.include({openPopup:function(t,e,i){return t instanceof l.Popup||(t=new l.Popup(i).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),l.Layer.include({bindPopup:function(t,e){return t instanceof l.Popup?(l.setOptions(t,e),this._popup=t,t._source=this):(this._popup&&!e||(this._popup=new l.Popup(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){if(t instanceof l.Layer||(e=t,t=this),t instanceof l.FeatureGroup)for(var i in this._layers){t=this._layers[i];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._popup&&this._map&&(this._popup._source=t,this._popup.update(),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;if(this._popup&&this._map){if(l.DomEvent.stop(t),e instanceof l.Path)return void this.openPopup(t.layer||t.target,t.latlng);this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)}}),l.Tooltip=l.DivOverlay.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){l.DivOverlay.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){l.DivOverlay.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=l.DivOverlay.prototype.getEvents.call(this);return l.Browser.touch&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=l.DomUtil.create("div",t)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e=this._map,i=this._container,o=e.latLngToContainerPoint(e.getCenter()),n=e.layerPointToContainerPoint(t),s=this.options.direction,r=i.offsetWidth,a=i.offsetHeight,p=l.point(this.options.offset),c=this._getAnchor();"top"===s?t=t.add(l.point(-r/2+p.x,-a+p.y+c.y,!0)):"bottom"===s?t=t.subtract(l.point(r/2-p.x,-p.y,!0)):"center"===s?t=t.subtract(l.point(r/2+p.x,a/2-c.y+p.y,!0)):"right"===s||"auto"===s&&n.x<o.x?(s="right",t=t.add(l.point(p.x+c.x,c.y-a/2+p.y,!0))):(s="left",t=t.subtract(l.point(r+c.x-p.x,a/2-c.y-p.y,!0))),l.DomUtil.removeClass(i,"leaflet-tooltip-right"),l.DomUtil.removeClass(i,"leaflet-tooltip-left"),l.DomUtil.removeClass(i,"leaflet-tooltip-top"),l.DomUtil.removeClass(i,"leaflet-tooltip-bottom"),l.DomUtil.addClass(i,"leaflet-tooltip-"+s),l.DomUtil.setPosition(i,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&l.DomUtil.setOpacity(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return l.point(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),l.tooltip=function(t,e){return new l.Tooltip(t,e)},l.Map.include({openTooltip:function(t,e,i){return t instanceof l.Tooltip||(t=new l.Tooltip(i).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),l.Layer.include({bindTooltip:function(t,e){return t instanceof l.Tooltip?(l.setOptions(t,e),this._tooltip=t,t._source=this):(this._tooltip&&!e||(this._tooltip=l.tooltip(e,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",i={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?i.add=this._openTooltip:(i.mouseover=this._openTooltip,i.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(i.mousemove=this._moveTooltip),l.Browser.touch&&(i.click=this._openTooltip)),this[e](i),this._tooltipHandlersAdded=!t}},openTooltip:function(t,e){if(t instanceof l.Layer||(e=t,t=this),t instanceof l.FeatureGroup)for(var i in this._layers){t=this._layers[i];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._tooltip&&this._map&&(this._tooltip._source=t,this._tooltip.update(),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive&&this._tooltip._container&&(l.DomUtil.addClass(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(l.DomUtil.removeClass(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;this._tooltip&&this._map&&this.openTooltip(e,this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e,i,o=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),i=this._map.containerPointToLayerPoint(e),o=this._map.layerPointToLatLng(i)),this._tooltip.setLatLng(o)}}),l.LayerGroup=l.Layer.extend({initialize:function(t){this._layers={};var e,i;if(t)for(e=0,i=t.length;e<i;e++)this.addLayer(t[e])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){for(var t in this._layers)this.removeLayer(this._layers[t]);return this},invoke:function(t){var e,i,o=Array.prototype.slice.call(arguments,1);for(e in this._layers)i=this._layers[e],i[t]&&i[t].apply(i,o);return this},onAdd:function(t){for(var e in this._layers)t.addLayer(this._layers[e])},onRemove:function(t){for(var e in this._layers)t.removeLayer(this._layers[e])},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];for(var e in this._layers)t.push(this._layers[e]);return t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return l.stamp(t)}}),l.layerGroup=function(t){return new l.LayerGroup(t)},l.FeatureGroup=l.LayerGroup.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),l.LayerGroup.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),l.LayerGroup.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new l.LatLngBounds;for(var e in this._layers){var i=this._layers[e];t.extend(i.getBounds?i.getBounds():i.getLatLng())}return t}}),l.featureGroup=function(t){return new l.FeatureGroup(t)},l.Renderer=l.Layer.extend({options:{padding:.1},initialize:function(t){l.setOptions(this,t),l.stamp(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&l.DomUtil.addClass(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){l.DomUtil.remove(this._container),this.off("update",this._updatePaths,this)},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var i=this._map.getZoomScale(e,this._zoom),o=l.DomUtil.getPosition(this._container),n=this._map.getSize().multiplyBy(.5+this.options.padding),s=this._map.project(this._center,e),r=this._map.project(t,e),a=r.subtract(s),p=n.multiplyBy(-i).add(o).add(n).subtract(a);l.Browser.any3d?l.DomUtil.setTransform(this._container,p,i):l.DomUtil.setPosition(this._container,p)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),i=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new l.Bounds(i,i.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),l.Map.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this.options.preferCanvas&&l.canvas()||l.svg()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=l.SVG&&l.svg({pane:t})||l.Canvas&&l.canvas({pane:t}),this._paneRenderers[t]=e),e}}),l.Path=l.Layer.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return l.setOptions(this,t),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(l.Browser.touch?10:0)}}),l.LineUtil={simplify:function(t,e){if(!e||!t.length)return t.slice();var i=e*e;return t=this._reducePoints(t,i),t=this._simplifyDP(t,i)},pointToSegmentDistance:function(t,e,i){return Math.sqrt(this._sqClosestPointOnSegment(t,e,i,!0))},closestPointOnSegment:function(t,e,i){return this._sqClosestPointOnSegment(t,e,i)},_simplifyDP:function(t,e){var i=t.length,o=typeof Uint8Array!=void 0+""?Uint8Array:Array,n=new o(i);n[0]=n[i-1]=1,this._simplifyDPStep(t,n,e,0,i-1);var s,r=[];for(s=0;s<i;s++)n[s]&&r.push(t[s]);return r},_simplifyDPStep:function(t,e,i,o,n){var s,r,a,l=0;for(r=o+1;r<=n-1;r++)(a=this._sqClosestPointOnSegment(t[r],t[o],t[n],!0))>l&&(s=r,l=a);l>i&&(e[s]=1,this._simplifyDPStep(t,e,i,o,s),this._simplifyDPStep(t,e,i,s,n))},_reducePoints:function(t,e){for(var i=[t[0]],o=1,n=0,s=t.length;o<s;o++)this._sqDist(t[o],t[n])>e&&(i.push(t[o]),n=o);return n<s-1&&i.push(t[s-1]),i},clipSegment:function(t,e,i,o,n){var s,r,a,l=o?this._lastCode:this._getBitCode(t,i),p=this._getBitCode(e,i);for(this._lastCode=p;;){if(!(l|p))return[t,e];if(l&p)return!1;s=l||p,r=this._getEdgeIntersection(t,e,s,i,n),a=this._getBitCode(r,i),s===l?(t=r,l=a):(e=r,p=a)}},_getEdgeIntersection:function(t,e,i,o,n){var s,r,a=e.x-t.x,p=e.y-t.y,c=o.min,u=o.max;return 8&i?(s=t.x+a*(u.y-t.y)/p,r=u.y):4&i?(s=t.x+a*(c.y-t.y)/p,r=c.y):2&i?(s=u.x,r=t.y+p*(u.x-t.x)/a):1&i&&(s=c.x,r=t.y+p*(c.x-t.x)/a),new l.Point(s,r,n)},_getBitCode:function(t,e){var i=0;return t.x<e.min.x?i|=1:t.x>e.max.x&&(i|=2),t.y<e.min.y?i|=4:t.y>e.max.y&&(i|=8),i},_sqDist:function(t,e){var i=e.x-t.x,o=e.y-t.y;return i*i+o*o},_sqClosestPointOnSegment:function(t,e,i,o){var n,s=e.x,r=e.y,a=i.x-s,p=i.y-r,c=a*a+p*p;return c>0&&(n=((t.x-s)*a+(t.y-r)*p)/c,n>1?(s=i.x,r=i.y):n>0&&(s+=a*n,r+=p*n)),a=t.x-s,p=t.y-r,o?a*a+p*p:new l.Point(s,r)}},l.Polyline=l.Path.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){l.setOptions(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,i,o=1/0,n=null,s=l.LineUtil._sqClosestPointOnSegment,r=0,a=this._parts.length;r<a;r++)for(var p=this._parts[r],c=1,u=p.length;c<u;c++){e=p[c-1],i=p[c];var d=s(t,e,i,!0);d<o&&(o=d,n=s(t,e,i))}return n&&(n.distance=Math.sqrt(o)),n},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,i,o,n,s,r,a=this._rings[0],l=a.length;if(!l)return null;for(t=0,e=0;t<l-1;t++)e+=a[t].distanceTo(a[t+1])/2;if(0===e)return this._map.layerPointToLatLng(a[0]);for(t=0,o=0;t<l-1;t++)if(n=a[t],s=a[t+1],i=n.distanceTo(s),(o+=i)>e)return r=(o-e)/i,this._map.layerPointToLatLng([s.x-r*(s.x-n.x),s.y-r*(s.y-n.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=l.latLng(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new l.LatLngBounds,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return l.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],i=l.Polyline._flat(t),o=0,n=t.length;o<n;o++)i?(e[o]=l.latLng(t[o]),this._bounds.extend(e[o])):e[o]=this._convertLatLngs(t[o]);return e},_project:function(){var t=new l.Bounds;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t);var e=this._clickTolerance(),i=new l.Point(e,e);this._bounds.isValid()&&t.isValid()&&(t.min._subtract(i),t.max._add(i),this._pxBounds=t)},_projectLatlngs:function(t,e,i){var o,n,s=t[0]instanceof l.LatLng,r=t.length;if(s){for(n=[],o=0;o<r;o++)n[o]=this._map.latLngToLayerPoint(t[o]),i.extend(n[o]);e.push(n)}else for(o=0;o<r;o++)this._projectLatlngs(t[o],e,i)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t)){if(this.options.noClip)return void(this._parts=this._rings);var e,i,o,n,s,r,a,p=this._parts;for(e=0,o=0,n=this._rings.length;e<n;e++)for(a=this._rings[e],i=0,s=a.length;i<s-1;i++)(r=l.LineUtil.clipSegment(a[i],a[i+1],t,i,!0))&&(p[o]=p[o]||[],p[o].push(r[0]),r[1]===a[i+1]&&i!==s-2||(p[o].push(r[1]),o++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,i=0,o=t.length;i<o;i++)t[i]=l.LineUtil.simplify(t[i],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)}}),l.polyline=function(t,e){return new l.Polyline(t,e)},l.Polyline._flat=function(t){return!l.Util.isArray(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]},l.PolyUtil={},l.PolyUtil.clipPolygon=function(t,e,i){var o,n,s,r,a,p,c,u,d,h=[1,4,2,8],m=l.LineUtil;for(n=0,c=t.length;n<c;n++)t[n]._code=m._getBitCode(t[n],e);for(r=0;r<4;r++){for(u=h[r],o=[],n=0,c=t.length,s=c-1;n<c;s=n++)a=t[n],p=t[s],a._code&u?p._code&u||(d=m._getEdgeIntersection(p,a,u,e,i),d._code=m._getBitCode(d,e),o.push(d)):(p._code&u&&(d=m._getEdgeIntersection(p,a,u,e,i),d._code=m._getBitCode(d,e),o.push(d)),o.push(a));t=o}return t},l.Polygon=l.Polyline.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,i,o,n,s,r,a,l,p=this._rings[0],c=p.length;if(!c)return null;for(s=r=a=0,t=0,e=c-1;t<c;e=t++)i=p[t],o=p[e],n=i.y*o.x-o.y*i.x,r+=(i.x+o.x)*n,a+=(i.y+o.y)*n,s+=3*n;return l=0===s?p[0]:[r/s,a/s],this._map.layerPointToLatLng(l)},_convertLatLngs:function(t){var e=l.Polyline.prototype._convertLatLngs.call(this,t),i=e.length;return i>=2&&e[0]instanceof l.LatLng&&e[0].equals(e[i-1])&&e.pop(),e},_setLatLngs:function(t){l.Polyline.prototype._setLatLngs.call(this,t),l.Polyline._flat(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return l.Polyline._flat(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,i=new l.Point(e,e);if(t=new l.Bounds(t.min.subtract(i),t.max.add(i)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t)){if(this.options.noClip)return void(this._parts=this._rings);for(var o,n=0,s=this._rings.length;n<s;n++)o=l.PolyUtil.clipPolygon(this._rings[n],t,!0),o.length&&this._parts.push(o)}},_updatePath:function(){this._renderer._updatePoly(this,!0)}}),l.polygon=function(t,e){return new l.Polygon(t,e)},l.Rectangle=l.Polygon.extend({initialize:function(t,e){l.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=l.latLngBounds(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}}),l.rectangle=function(t,e){return new l.Rectangle(t,e)},l.CircleMarker=l.Path.extend({options:{fill:!0,radius:10},initialize:function(t,e){l.setOptions(this,e),this._latlng=l.latLng(t),this._radius=this.options.radius},setLatLng:function(t){return this._latlng=l.latLng(t),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return l.Path.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,i=this._clickTolerance(),o=[t+i,e+i];this._pxBounds=new l.Bounds(this._point.subtract(o),this._point.add(o))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)}}),l.circleMarker=function(t,e){return new l.CircleMarker(t,e)},l.Circle=l.CircleMarker.extend({initialize:function(t,e,i){if("number"==typeof e&&(e=l.extend({},i,{radius:e})),l.setOptions(this,e),this._latlng=l.latLng(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new l.LatLngBounds(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:l.Path.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,i=this._map,o=i.options.crs;if(o.distance===l.CRS.Earth.distance){var n=Math.PI/180,s=this._mRadius/l.CRS.Earth.R/n,r=i.project([e+s,t]),a=i.project([e-s,t]),p=r.add(a).divideBy(2),c=i.unproject(p).lat,u=Math.acos((Math.cos(s*n)-Math.sin(e*n)*Math.sin(c*n))/(Math.cos(e*n)*Math.cos(c*n)))/n;(isNaN(u)||0===u)&&(u=s/Math.cos(Math.PI/180*e)),this._point=p.subtract(i.getPixelOrigin()),this._radius=isNaN(u)?0:Math.max(Math.round(p.x-i.project([c,t-u]).x),1),this._radiusY=Math.max(Math.round(p.y-r.y),1)}else{var d=o.unproject(o.project(this._latlng).subtract([this._mRadius,0]));this._point=i.latLngToLayerPoint(this._latlng),this._radius=this._point.x-i.latLngToLayerPoint(d).x}this._updateBounds()}}),l.circle=function(t,e,i){return new l.Circle(t,e,i)},l.SVG=l.Renderer.extend({getEvents:function(){var t=l.Renderer.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=l.SVG.create("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=l.SVG.create("g"),this._container.appendChild(this._rootGroup)},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){l.Renderer.prototype._update.call(this);var t=this._bounds,e=t.getSize(),i=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,i.setAttribute("width",e.x),i.setAttribute("height",e.y)),l.DomUtil.setPosition(i,t.min),i.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=l.SVG.create("path");t.options.className&&l.DomUtil.addClass(e,t.options.className),t.options.interactive&&l.DomUtil.addClass(e,"leaflet-interactive"),this._updateStyle(t),this._layers[l.stamp(t)]=t},_addPath:function(t){this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){l.DomUtil.remove(t._path),t.removeInteractiveTarget(t._path),delete this._layers[l.stamp(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,i=t.options;e&&(i.stroke?(e.setAttribute("stroke",i.color),e.setAttribute("stroke-opacity",i.opacity),e.setAttribute("stroke-width",i.weight),e.setAttribute("stroke-linecap",i.lineCap),e.setAttribute("stroke-linejoin",i.lineJoin),i.dashArray?e.setAttribute("stroke-dasharray",i.dashArray):e.removeAttribute("stroke-dasharray"),i.dashOffset?e.setAttribute("stroke-dashoffset",i.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),i.fill?(e.setAttribute("fill",i.fillColor||i.color),e.setAttribute("fill-opacity",i.fillOpacity),e.setAttribute("fill-rule",i.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,l.SVG.pointsToPath(t._parts,e))},_updateCircle:function(t){var e=t._point,i=t._radius,o=t._radiusY||i,n="a"+i+","+o+" 0 1,0 ",s=t._empty()?"M0 0":"M"+(e.x-i)+","+e.y+n+2*i+",0 "+n+2*-i+",0 ";this._setPath(t,s)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){l.DomUtil.toFront(t._path)},_bringToBack:function(t){l.DomUtil.toBack(t._path)}}),l.extend(l.SVG,{create:function(t){return r.createElementNS("http://www.w3.org/2000/svg",t)},pointsToPath:function(t,e){var i,o,n,s,r,a,p="";for(i=0,n=t.length;i<n;i++){for(r=t[i],o=0,s=r.length;o<s;o++)a=r[o],p+=(o?"L":"M")+a.x+" "+a.y;p+=e?l.Browser.svg?"z":"x":""}return p||"M0 0"}}),l.Browser.svg=!(!r.createElementNS||!l.SVG.create("svg").createSVGRect),l.svg=function(t){return l.Browser.svg||l.Browser.vml?new l.SVG(t):null},l.Browser.vml=!l.Browser.svg&&function(){try{var t=r.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(t){return!1}}(),l.SVG.include(l.Browser.vml?{_initContainer:function(){this._container=l.DomUtil.create("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(l.Renderer.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=l.SVG.create("shape");l.DomUtil.addClass(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=l.SVG.create("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[l.stamp(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;l.DomUtil.remove(e),t.removeInteractiveTarget(e),delete this._layers[l.stamp(t)]},_updateStyle:function(t){var e=t._stroke,i=t._fill,o=t.options,n=t._container;n.stroked=!!o.stroke,n.filled=!!o.fill,o.stroke?(e||(e=t._stroke=l.SVG.create("stroke")),n.appendChild(e),e.weight=o.weight+"px",e.color=o.color,e.opacity=o.opacity,o.dashArray?e.dashStyle=l.Util.isArray(o.dashArray)?o.dashArray.join(" "):o.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=o.lineCap.replace("butt","flat"),e.joinstyle=o.lineJoin):e&&(n.removeChild(e),t._stroke=null),o.fill?(i||(i=t._fill=l.SVG.create("fill")),n.appendChild(i),i.color=o.fillColor||o.color,i.opacity=o.fillOpacity):i&&(n.removeChild(i),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),i=Math.round(t._radius),o=Math.round(t._radiusY||i);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+i+","+o+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){l.DomUtil.toFront(t._container)},_bringToBack:function(t){l.DomUtil.toBack(t._container)}}:{}),l.Browser.vml&&(l.SVG.create=function(){try{return r.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return r.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return r.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}()),l.Canvas=l.Renderer.extend({getEvents:function(){var t=l.Renderer.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){l.Renderer.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=r.createElement("canvas");l.DomEvent.on(t,"mousemove",l.Util.throttle(this._onMouseMove,32,this),this).on(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this).on(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var e in this._layers)t=this._layers[e],t._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){this._drawnLayers={},l.Renderer.prototype._update.call(this);var t=this._bounds,e=this._container,i=t.getSize(),o=l.Browser.retina?2:1;l.DomUtil.setPosition(e,t.min),e.width=o*i.x,e.height=o*i.y,e.style.width=i.x+"px",e.style.height=i.y+"px",l.Browser.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){l.Renderer.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[l.stamp(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,i=e.next,o=e.prev;i?i.prev=o:this._drawLast=o,o?o.next=i:this._drawFirst=i,delete t._order,delete this._layers[l.stamp(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(t.options.dashArray){var e,i=t.options.dashArray.split(","),o=[];for(e=0;e<i.length;e++)o.push(Number(i[e]));t.options._dashArray=o}},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||l.Util.requestAnimFrame(this._redraw,this))},_extendRedrawBounds:function(t){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new l.Bounds,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var i=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,i.x,i.y),this._ctx.clip()}this._drawing=!0;for(var o=this._drawFirst;o;o=o.next)t=o.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var i,o,n,s,r=t._parts,a=r.length,l=this._ctx;if(a){for(this._drawnLayers[t._leaflet_id]=t,l.beginPath(),l.setLineDash&&l.setLineDash(t.options&&t.options._dashArray||[]),i=0;i<a;i++){for(o=0,n=r[i].length;o<n;o++)s=r[i][o],l[o?"lineTo":"moveTo"](s.x,s.y);e&&l.closePath()}this._fillStroke(l,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,i=this._ctx,o=t._radius,n=(t._radiusY||o)/o;this._drawnLayers[t._leaflet_id]=t,1!==n&&(i.save(),i.scale(1,n)),i.beginPath(),i.arc(e.x,e.y/n,o,0,2*Math.PI,!1),1!==n&&i.restore(),this._fillStroke(i,t)}},_fillStroke:function(t,e){var i=e.options;i.fill&&(t.globalAlpha=i.fillOpacity,t.fillStyle=i.fillColor||i.color,t.fill(i.fillRule||"evenodd")),i.stroke&&0!==i.weight&&(t.globalAlpha=i.opacity,t.lineWidth=i.weight,t.strokeStyle=i.color,t.lineCap=i.lineCap,t.lineJoin=i.lineJoin,t.stroke())},_onClick:function(t){for(var e,i,o=this._map.mouseEventToLayerPoint(t),n=this._drawFirst;n;n=n.next)e=n.layer,e.options.interactive&&e._containsPoint(o)&&!this._map._draggableMoved(e)&&(i=e);i&&(l.DomEvent._fakeStop(t),this._fireEvent([i],t))},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(l.DomUtil.removeClass(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(t,e){for(var i,o,n=this._drawFirst;n;n=n.next)i=n.layer,i.options.interactive&&i._containsPoint(e)&&(o=i);o!==this._hoveredLayer&&(this._handleMouseOut(t),o&&(l.DomUtil.addClass(this._container,"leaflet-interactive"),this._fireEvent([o],t,"mouseover"),this._hoveredLayer=o)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t)},_fireEvent:function(t,e,i){this._map._fireDOMEvent(e,i||e.type,t)},_bringToFront:function(t){var e=t._order,i=e.next,o=e.prev;i&&(i.prev=o,o?o.next=i:i&&(this._drawFirst=i),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))},_bringToBack:function(t){var e=t._order,i=e.next,o=e.prev;o&&(o.next=i,i?i.prev=o:o&&(this._drawLast=o),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}),l.Browser.canvas=function(){return!!r.createElement("canvas").getContext}(),l.canvas=function(t){return l.Browser.canvas?new l.Canvas(t):null},l.Polyline.prototype._containsPoint=function(t,e){var i,o,n,s,r,a,p=this._clickTolerance();if(!this._pxBounds.contains(t))return!1;for(i=0,s=this._parts.length;i<s;i++)for(a=this._parts[i],o=0,r=a.length,n=r-1;o<r;n=o++)if((e||0!==o)&&l.LineUtil.pointToSegmentDistance(t,a[n],a[o])<=p)return!0;return!1},l.Polygon.prototype._containsPoint=function(t){var e,i,o,n,s,r,a,p,c=!1;if(!this._pxBounds.contains(t))return!1;for(n=0,a=this._parts.length;n<a;n++)for(e=this._parts[n],s=0,p=e.length,r=p-1;s<p;r=s++)i=e[s],o=e[r],i.y>t.y!=o.y>t.y&&t.x<(o.x-i.x)*(t.y-i.y)/(o.y-i.y)+i.x&&(c=!c);return c||l.Polyline.prototype._containsPoint.call(this,t,!0)},l.CircleMarker.prototype._containsPoint=function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()},l.GeoJSON=l.FeatureGroup.extend({initialize:function(t,e){l.setOptions(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,i,o,n=l.Util.isArray(t)?t:t.features;if(n){for(e=0,i=n.length;e<i;e++)o=n[e],(o.geometries||o.geometry||o.features||o.coordinates)&&this.addData(o);return this}var s=this.options;if(s.filter&&!s.filter(t))return this;var r=l.GeoJSON.geometryToLayer(t,s);return r?(r.feature=l.GeoJSON.asFeature(t),r.defaultOptions=r.options,this.resetStyle(r),s.onEachFeature&&s.onEachFeature(t,r),this.addLayer(r)):this},resetStyle:function(t){return t.options=l.Util.extend({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){"function"==typeof e&&(e=e(t.feature)),t.setStyle&&t.setStyle(e)}}),l.extend(l.GeoJSON,{geometryToLayer:function(t,e){var i,o,n,s,r="Feature"===t.type?t.geometry:t,a=r?r.coordinates:null,p=[],c=e&&e.pointToLayer,u=e&&e.coordsToLatLng||this.coordsToLatLng;if(!a&&!r)return null;switch(r.type){case"Point":return i=u(a),c?c(t,i):new l.Marker(i);case"MultiPoint":for(n=0,s=a.length;n<s;n++)i=u(a[n]),p.push(c?c(t,i):new l.Marker(i));return new l.FeatureGroup(p);case"LineString":case"MultiLineString":return o=this.coordsToLatLngs(a,"LineString"===r.type?0:1,u),new l.Polyline(o,e);case"Polygon":case"MultiPolygon":return o=this.coordsToLatLngs(a,"Polygon"===r.type?1:2,u),new l.Polygon(o,e);case"GeometryCollection":for(n=0,s=r.geometries.length;n<s;n++){var d=this.geometryToLayer({geometry:r.geometries[n],type:"Feature",properties:t.properties},e);d&&p.push(d)}return new l.FeatureGroup(p);default:throw new Error("Invalid GeoJSON object.")}},coordsToLatLng:function(t){return new l.LatLng(t[1],t[0],t[2])},coordsToLatLngs:function(t,e,i){for(var o,n=[],s=0,r=t.length;s<r;s++)o=e?this.coordsToLatLngs(t[s],e-1,i):(i||this.coordsToLatLng)(t[s]),n.push(o);return n},latLngToCoords:function(t){return void 0!==t.alt?[t.lng,t.lat,t.alt]:[t.lng,t.lat]},latLngsToCoords:function(t,e,i){for(var o=[],n=0,s=t.length;n<s;n++)o.push(e?l.GeoJSON.latLngsToCoords(t[n],e-1,i):l.GeoJSON.latLngToCoords(t[n]));return!e&&i&&o.push(o[0]),o},getFeature:function(t,e){return t.feature?l.extend({},t.feature,{geometry:e}):l.GeoJSON.asFeature(e)},asFeature:function(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}});var u={toGeoJSON:function(){return l.GeoJSON.getFeature(this,{type:"Point",coordinates:l.GeoJSON.latLngToCoords(this.getLatLng())})}};l.Marker.include(u),l.Circle.include(u),l.CircleMarker.include(u),l.Polyline.prototype.toGeoJSON=function(){var t=!l.Polyline._flat(this._latlngs),e=l.GeoJSON.latLngsToCoords(this._latlngs,t?1:0);return l.GeoJSON.getFeature(this,{type:(t?"Multi":"")+"LineString",coordinates:e})},l.Polygon.prototype.toGeoJSON=function(){var t=!l.Polyline._flat(this._latlngs),e=t&&!l.Polyline._flat(this._latlngs[0]),i=l.GeoJSON.latLngsToCoords(this._latlngs,e?2:t?1:0,!0);return t||(i=[i]),l.GeoJSON.getFeature(this,{type:(e?"Multi":"")+"Polygon",coordinates:i})},l.LayerGroup.include({toMultiPoint:function(){var t=[];return this.eachLayer(function(e){t.push(e.toGeoJSON().geometry.coordinates)}),l.GeoJSON.getFeature(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint();var e="GeometryCollection"===t,i=[];return this.eachLayer(function(t){if(t.toGeoJSON){var o=t.toGeoJSON();i.push(e?o.geometry:l.GeoJSON.asFeature(o))}}),e?l.GeoJSON.getFeature(this,{geometries:i,type:"GeometryCollection"}):{type:"FeatureCollection",features:i}}}),l.geoJSON=function(t,e){return new l.GeoJSON(t,e)},l.geoJson=l.geoJSON,l.Draggable=l.Evented.extend({options:{clickTolerance:3},statics:{START:l.Browser.touch?["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"}},initialize:function(t,e,i){this._element=t,this._dragStartTarget=e||t,this._preventOutline=i},enable:function(){this._enabled||(l.DomEvent.on(this._dragStartTarget,l.Draggable.START.join(" "),this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(l.Draggable._dragging===this&&this.finishDrag(),l.DomEvent.off(this._dragStartTarget,l.Draggable.START.join(" "),this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!t._simulated&&this._enabled&&(this._moved=!1,!l.DomUtil.hasClass(this._element,"leaflet-zoom-anim")&&!(l.Draggable._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||(l.Draggable._dragging=this,this._preventOutline&&l.DomUtil.preventOutline(this._element),l.DomUtil.disableImageDrag(),l.DomUtil.disableTextSelection(),this._moving)))){this.fire("down");var e=t.touches?t.touches[0]:t;this._startPoint=new l.Point(e.clientX,e.clientY),l.DomEvent.on(r,l.Draggable.MOVE[t.type],this._onMove,this).on(r,l.Draggable.END[t.type],this._onUp,this)}},_onMove:function(t){if(!t._simulated&&this._enabled){if(t.touches&&t.touches.length>1)return void(this._moved=!0);var e=t.touches&&1===t.touches.length?t.touches[0]:t,i=new l.Point(e.clientX,e.clientY),o=i.subtract(this._startPoint);(o.x||o.y)&&(Math.abs(o.x)+Math.abs(o.y)<this.options.clickTolerance||(l.DomEvent.preventDefault(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=l.DomUtil.getPosition(this._element).subtract(o),l.DomUtil.addClass(r.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,s.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),l.DomUtil.addClass(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(o),this._moving=!0,l.Util.cancelAnimFrame(this._animRequest),this._lastEvent=t,this._animRequest=l.Util.requestAnimFrame(this._updatePosition,this,!0)))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),l.DomUtil.setPosition(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){!t._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){l.DomUtil.removeClass(r.body,"leaflet-dragging"),this._lastTarget&&(l.DomUtil.removeClass(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var t in l.Draggable.MOVE)l.DomEvent.off(r,l.Draggable.MOVE[t],this._onMove,this).off(r,l.Draggable.END[t],this._onUp,this);l.DomUtil.enableImageDrag(),l.DomUtil.enableTextSelection(),this._moved&&this._moving&&(l.Util.cancelAnimFrame(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,l.Draggable._dragging=!1}}),l.Handler=l.Class.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}}),l.Map.mergeOptions({dragging:!0,inertia:!l.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0}),l.Map.Drag=l.Handler.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new l.Draggable(t._mapPane,t._container),this._draggable.on({down:this._onDown,dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}l.DomUtil.addClass(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){l.DomUtil.removeClass(this._map._container,"leaflet-grab"),l.DomUtil.removeClass(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDown:function(){this._map._stop()},_onDragStart:function(){var t=this._map;if(this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=l.latLngBounds(this._map.options.maxBounds);this._offsetLimit=l.bounds(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,i=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(i),this._times.push(e),e-this._times[0]>50&&(this._positions.shift(),this._times.shift())}this._map.fire("move",t).fire("drag",t)},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),i=this._initialWorldOffset,o=this._draggable._newPos.x,n=(o-e+i)%t+e-i,s=(o+e+i)%t-e-i,r=Math.abs(n+i)<Math.abs(s+i)?n:s;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=r},_onDragEnd:function(t){var e=this._map,i=e.options,o=!i.inertia||this._times.length<2;if(e.fire("dragend",t),o)e.fire("moveend");else{var n=this._lastPos.subtract(this._positions[0]),s=(this._lastTime-this._times[0])/1e3,r=i.easeLinearity,a=n.multiplyBy(r/s),p=a.distanceTo([0,0]),c=Math.min(i.inertiaMaxSpeed,p),u=a.multiplyBy(c/p),d=c/(i.inertiaDeceleration*r),h=u.multiplyBy(-d/2).round();h.x||h.y?(h=e._limitOffset(h,e.options.maxBounds),l.Util.requestAnimFrame(function(){e.panBy(h,{duration:d,easeLinearity:r,noMoveStart:!0,animate:!0})})):e.fire("moveend")}}}),l.Map.addInitHook("addHandler","dragging",l.Map.Drag),l.Map.mergeOptions({doubleClickZoom:!0}),l.Map.DoubleClickZoom=l.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,i=e.getZoom(),o=e.options.zoomDelta,n=t.originalEvent.shiftKey?i-o:i+o;"center"===e.options.doubleClickZoom?e.setZoom(n):e.setZoomAround(t.containerPoint,n)}}),l.Map.addInitHook("addHandler","doubleClickZoom",l.Map.DoubleClickZoom),l.Map.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60}),l.Map.ScrollWheelZoom=l.Handler.extend({addHooks:function(){l.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){l.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=l.DomEvent.getWheelDelta(t),i=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var o=Math.max(i-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l.bind(this._performZoom,this),o),l.DomEvent.stop(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),i=this._map.options.zoomSnap||0;t._stop();var o=this._delta/(4*this._map.options.wheelPxPerZoomLevel),n=4*Math.log(2/(1+Math.exp(-Math.abs(o))))/Math.LN2,s=i?Math.ceil(n/i)*i:n,r=t._limitZoom(e+(this._delta>0?s:-s))-e;this._delta=0,this._startTime=null,r&&("center"===t.options.scrollWheelZoom?t.setZoom(e+r):t.setZoomAround(this._lastMousePos,e+r))}}),l.Map.addInitHook("addHandler","scrollWheelZoom",l.Map.ScrollWheelZoom),l.extend(l.DomEvent,{_touchstart:l.Browser.msPointer?"MSPointerDown":l.Browser.pointer?"pointerdown":"touchstart",_touchend:l.Browser.msPointer?"MSPointerUp":l.Browser.pointer?"pointerup":"touchend",addDoubleTapListener:function(t,e,i){function o(t){var e;if(l.Browser.pointer){if(!l.Browser.edge||"mouse"===t.pointerType)return;e=l.DomEvent._pointersCount}else e=t.touches.length;if(!(e>1)){var i=Date.now(),o=i-(s||i);r=t.touches?t.touches[0]:t,a=o>0&&o<=p,s=i}}function n(t){if(a&&!r.cancelBubble){if(l.Browser.pointer){if(!l.Browser.edge||"mouse"===t.pointerType)return;var i,o,n={};for(o in r)i=r[o],n[o]=i&&i.bind?i.bind(r):i;r=n}r.type="dblclick",e(r),s=null}}var s,r,a=!1,p=250,c="_leaflet_",u=this._touchstart,d=this._touchend;return t[c+u+i]=o,t[c+d+i]=n,t[c+"dblclick"+i]=e,t.addEventListener(u,o,!1),t.addEventListener(d,n,!1),t.addEventListener("dblclick",e,!1),this},removeDoubleTapListener:function(t,e){var i="_leaflet_",o=t[i+this._touchstart+e],n=t[i+this._touchend+e],s=t[i+"dblclick"+e];return t.removeEventListener(this._touchstart,o,!1),t.removeEventListener(this._touchend,n,!1),l.Browser.edge||t.removeEventListener("dblclick",s,!1),this}}),l.extend(l.DomEvent,{POINTER_DOWN:l.Browser.msPointer?"MSPointerDown":"pointerdown",POINTER_MOVE:l.Browser.msPointer?"MSPointerMove":"pointermove",POINTER_UP:l.Browser.msPointer?"MSPointerUp":"pointerup",POINTER_CANCEL:l.Browser.msPointer?"MSPointerCancel":"pointercancel",TAG_WHITE_LIST:["INPUT","SELECT","OPTION"],_pointers:{},_pointersCount:0,addPointerListener:function(t,e,i,o){return"touchstart"===e?this._addPointerStart(t,i,o):"touchmove"===e?this._addPointerMove(t,i,o):"touchend"===e&&this._addPointerEnd(t,i,o),this},removePointerListener:function(t,e,i){var o=t["_leaflet_"+e+i];return"touchstart"===e?t.removeEventListener(this.POINTER_DOWN,o,!1):"touchmove"===e?t.removeEventListener(this.POINTER_MOVE,o,!1):"touchend"===e&&(t.removeEventListener(this.POINTER_UP,o,!1),t.removeEventListener(this.POINTER_CANCEL,o,!1)),this},_addPointerStart:function(t,e,i){var o=l.bind(function(t){if("mouse"!==t.pointerType&&t.MSPOINTER_TYPE_MOUSE&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE){if(!(this.TAG_WHITE_LIST.indexOf(t.target.tagName)<0))return;l.DomEvent.preventDefault(t)}this._handlePointer(t,e)},this);if(t["_leaflet_touchstart"+i]=o,t.addEventListener(this.POINTER_DOWN,o,!1),!this._pointerDocListener){var n=l.bind(this._globalPointerUp,this);r.documentElement.addEventListener(this.POINTER_DOWN,l.bind(this._globalPointerDown,this),!0),r.documentElement.addEventListener(this.POINTER_MOVE,l.bind(this._globalPointerMove,this),!0),r.documentElement.addEventListener(this.POINTER_UP,n,!0),r.documentElement.addEventListener(this.POINTER_CANCEL,n,!0),this._pointerDocListener=!0}},_globalPointerDown:function(t){this._pointers[t.pointerId]=t,this._pointersCount++},_globalPointerMove:function(t){this._pointers[t.pointerId]&&(this._pointers[t.pointerId]=t)},_globalPointerUp:function(t){delete this._pointers[t.pointerId],this._pointersCount--},_handlePointer:function(t,e){t.touches=[];for(var i in this._pointers)t.touches.push(this._pointers[i]);t.changedTouches=[t],e(t)},_addPointerMove:function(t,e,i){var o=l.bind(function(t){(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons)&&this._handlePointer(t,e)},this);t["_leaflet_touchmove"+i]=o,t.addEventListener(this.POINTER_MOVE,o,!1)},_addPointerEnd:function(t,e,i){var o=l.bind(function(t){this._handlePointer(t,e)},this);t["_leaflet_touchend"+i]=o,t.addEventListener(this.POINTER_UP,o,!1),t.addEventListener(this.POINTER_CANCEL,o,!1)}}),l.Map.mergeOptions({touchZoom:l.Browser.touch&&!l.Browser.android23,bounceAtZoomLimits:!0}),l.Map.TouchZoom=l.Handler.extend({addHooks:function(){l.DomUtil.addClass(this._map._container,"leaflet-touch-zoom"),l.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){l.DomUtil.removeClass(this._map._container,"leaflet-touch-zoom"),l.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var i=e.mouseEventToContainerPoint(t.touches[0]),o=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(i.add(o)._divideBy(2))),this._startDist=i.distanceTo(o),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),l.DomEvent.on(r,"touchmove",this._onTouchMove,this).on(r,"touchend",this._onTouchEnd,this),l.DomEvent.preventDefault(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,i=e.mouseEventToContainerPoint(t.touches[0]),o=e.mouseEventToContainerPoint(t.touches[1]),n=i.distanceTo(o)/this._startDist;if(this._zoom=e.getScaleZoom(n,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&n<1||this._zoom>e.getMaxZoom()&&n>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===n)return}else{var s=i._add(o)._divideBy(2)._subtract(this._centerPoint);if(1===n&&0===s.x&&0===s.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(s),this._zoom)}this._moved||(e._moveStart(!0),this._moved=!0),l.Util.cancelAnimFrame(this._animRequest);var r=l.bind(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=l.Util.requestAnimFrame(r,this,!0),l.DomEvent.preventDefault(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming)return void(this._zooming=!1);this._zooming=!1,l.Util.cancelAnimFrame(this._animRequest),l.DomEvent.off(r,"touchmove",this._onTouchMove).off(r,"touchend",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}}),l.Map.addInitHook("addHandler","touchZoom",l.Map.TouchZoom),l.Map.mergeOptions({tap:!0,tapTolerance:15}),l.Map.Tap=l.Handler.extend({addHooks:function(){l.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){l.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(l.DomEvent.preventDefault(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],i=e.target;this._startPos=this._newPos=new l.Point(e.clientX,e.clientY),i.tagName&&"a"===i.tagName.toLowerCase()&&l.DomUtil.addClass(i,"leaflet-active"),this._holdTimeout=setTimeout(l.bind(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))},this),1e3),this._simulateEvent("mousedown",e),l.DomEvent.on(r,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),l.DomEvent.off(r,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],i=e.target;i&&i.tagName&&"a"===i.tagName.toLowerCase()&&l.DomUtil.removeClass(i,"leaflet-active"),this._simulateEvent("mouseup",e),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new l.Point(e.clientX,e.clientY),this._simulateEvent("mousemove",e)},_simulateEvent:function(t,e){var i=r.createEvent("MouseEvents");i._simulated=!0,e.target._simulatedClick=!0,i.initMouseEvent(t,!0,!0,s,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(i)}}),l.Browser.touch&&!l.Browser.pointer&&l.Map.addInitHook("addHandler","tap",l.Map.Tap),l.Map.mergeOptions({boxZoom:!0}),l.Map.BoxZoom=l.Handler.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane},addHooks:function(){l.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){l.DomEvent.off(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_resetState:function(){this._moved=!1},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._resetState(),l.DomUtil.disableTextSelection(),l.DomUtil.disableImageDrag(),this._startPoint=this._map.mouseEventToContainerPoint(t),l.DomEvent.on(r,{contextmenu:l.DomEvent.stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=l.DomUtil.create("div","leaflet-zoom-box",this._container),l.DomUtil.addClass(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new l.Bounds(this._point,this._startPoint),i=e.getSize();l.DomUtil.setPosition(this._box,e.min),this._box.style.width=i.x+"px",this._box.style.height=i.y+"px"},_finish:function(){this._moved&&(l.DomUtil.remove(this._box),l.DomUtil.removeClass(this._container,"leaflet-crosshair")),l.DomUtil.enableTextSelection(),l.DomUtil.enableImageDrag(),l.DomEvent.off(r,{contextmenu:l.DomEvent.stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){setTimeout(l.bind(this._resetState,this),0);var e=new l.LatLngBounds(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}}),l.Map.addInitHook("addHandler","boxZoom",l.Map.BoxZoom),l.Map.mergeOptions({keyboard:!0,keyboardPanDelta:80}),l.Map.Keyboard=l.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),l.DomEvent.on(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),l.DomEvent.off(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=r.body,e=r.documentElement,i=t.scrollTop||e.scrollTop,o=t.scrollLeft||e.scrollLeft;this._map._container.focus(),s.scrollTo(o,i)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,i,o=this._panKeys={},n=this.keyCodes;for(e=0,i=n.left.length;e<i;e++)o[n.left[e]]=[-1*t,0];for(e=0,i=n.right.length;e<i;e++)o[n.right[e]]=[t,0];for(e=0,i=n.down.length;e<i;e++)o[n.down[e]]=[0,t];for(e=0,i=n.up.length;e<i;e++)o[n.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,i,o=this._zoomKeys={},n=this.keyCodes;for(e=0,i=n.zoomIn.length;e<i;e++)o[n.zoomIn[e]]=t;for(e=0,i=n.zoomOut.length;e<i;e++)o[n.zoomOut[e]]=-t},_addHooks:function(){l.DomEvent.on(r,"keydown",this._onKeyDown,this)},_removeHooks:function(){l.DomEvent.off(r,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,i=t.keyCode,o=this._map;if(i in this._panKeys){if(o._panAnim&&o._panAnim._inProgress)return;e=this._panKeys[i],t.shiftKey&&(e=l.point(e).multiplyBy(3)),o.panBy(e),o.options.maxBounds&&o.panInsideBounds(o.options.maxBounds)}else if(i in this._zoomKeys)o.setZoom(o.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[i]);else{if(27!==i)return;o.closePopup()}l.DomEvent.stop(t)}}}),l.Map.addInitHook("addHandler","keyboard",l.Map.Keyboard),l.Handler.MarkerDrag=l.Handler.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new l.Draggable(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),l.DomUtil.addClass(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&l.DomUtil.removeClass(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(t){var e=this._marker,i=e._shadow,o=l.DomUtil.getPosition(e._icon),n=e._map.layerPointToLatLng(o);i&&l.DomUtil.setPosition(i,o),e._latlng=n,t.latlng=n,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),l.Control=l.Class.extend({options:{position:"topright"},initialize:function(t){l.setOptions(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),i=this.getPosition(),o=t._controlCorners[i];return l.DomUtil.addClass(e,"leaflet-control"),-1!==i.indexOf("bottom")?o.insertBefore(e,o.firstChild):o.appendChild(e),this},remove:function(){return this._map?(l.DomUtil.remove(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),l.control=function(t){return new l.Control(t)},l.Map.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){function t(t,n){var s=i+t+" "+i+n;e[t+n]=l.DomUtil.create("div",s,o)}var e=this._controlCorners={},i="leaflet-",o=this._controlContainer=l.DomUtil.create("div",i+"control-container",this._container);t("top","left"),t("top","right"),t("bottom","left"),t("bottom","right")},_clearControlPos:function(){l.DomUtil.remove(this._controlContainer)}}),l.Control.Zoom=l.Control.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"-",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",i=l.DomUtil.create("div",e+" leaflet-bar"),o=this.options;return this._zoomInButton=this._createButton(o.zoomInText,o.zoomInTitle,e+"-in",i,this._zoomIn),this._zoomOutButton=this._createButton(o.zoomOutText,o.zoomOutTitle,e+"-out",i,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),i},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,i,o,n){var s=l.DomUtil.create("a",i,o);return s.innerHTML=t,s.href="#",s.title=e,s.setAttribute("role","button"),s.setAttribute("aria-label",e),l.DomEvent.on(s,"mousedown dblclick",l.DomEvent.stopPropagation).on(s,"click",l.DomEvent.stop).on(s,"click",n,this).on(s,"click",this._refocusOnMap,this),s},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";l.DomUtil.removeClass(this._zoomInButton,e),l.DomUtil.removeClass(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMinZoom())&&l.DomUtil.addClass(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMaxZoom())&&l.DomUtil.addClass(this._zoomInButton,e)}}),l.Map.mergeOptions({zoomControl:!0}),l.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new l.Control.Zoom,this.addControl(this.zoomControl))}),l.control.zoom=function(t){return new l.Control.Zoom(t)},l.Control.Attribution=l.Control.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){l.setOptions(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=l.DomUtil.create("div","leaflet-control-attribution"),l.DomEvent&&l.DomEvent.disableClickPropagation(this._container);for(var e in t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var i=[];this.options.prefix&&i.push(this.options.prefix),t.length&&i.push(t.join(", ")),this._container.innerHTML=i.join(" | ")}}}),l.Map.mergeOptions({attributionControl:!0}),l.Map.addInitHook(function(){this.options.attributionControl&&(new l.Control.Attribution).addTo(this)}),l.control.attribution=function(t){return new l.Control.Attribution(t)},l.Control.Scale=l.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e=l.DomUtil.create("div","leaflet-control-scale"),i=this.options;return this._addScales(i,"leaflet-control-scale-line",e),t.on(i.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),e},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,i){t.metric&&(this._mScale=l.DomUtil.create("div",e,i)),t.imperial&&(this._iScale=l.DomUtil.create("div",e,i))},_update:function(){var t=this._map,e=t.getSize().y/2,i=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(i)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),i=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,i,e/t)},_updateImperial:function(t){var e,i,o,n=3.2808399*t;n>5280?(e=n/5280,i=this._getRoundNum(e),this._updateScale(this._iScale,i+" mi",i/e)):(o=this._getRoundNum(n),this._updateScale(this._iScale,o+" ft",o/n))},_updateScale:function(t,e,i){t.style.width=Math.round(this.options.maxWidth*i)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),i=t/e;return i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:1,e*i}}),l.control.scale=function(t){return new l.Control.Scale(t)},l.Control.Layers=l.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,i,o){return i<o?-1:o<i?1:0}},initialize:function(t,e,i){l.setOptions(this,i),this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var o in t)this._addLayer(t[o],o);for(o in e)this._addLayer(e[o],o,!0)},onAdd:function(t){return this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this),this._container},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(l.stamp(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){l.DomUtil.addClass(this._container,"leaflet-control-layers-expanded"),this._form.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._form.clientHeight?(l.DomUtil.addClass(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=t+"px"):l.DomUtil.removeClass(this._form,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return l.DomUtil.removeClass(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=l.DomUtil.create("div",t),i=this.options.collapsed;e.setAttribute("aria-haspopup",!0),l.DomEvent.disableClickPropagation(e),l.Browser.touch||l.DomEvent.disableScrollPropagation(e);var o=this._form=l.DomUtil.create("form",t+"-list");i&&(this._map.on("click",this.collapse,this),l.Browser.android||l.DomEvent.on(e,{mouseenter:this.expand,mouseleave:this.collapse},this));var n=this._layersLink=l.DomUtil.create("a",t+"-toggle",e);n.href="#",n.title="Layers",l.Browser.touch?l.DomEvent.on(n,"click",l.DomEvent.stop).on(n,"click",this.expand,this):l.DomEvent.on(n,"focus",this.expand,this),l.DomEvent.on(o,"click",function(){setTimeout(l.bind(this._onInputClick,this),0)},this),i||this.expand(),this._baseLayersList=l.DomUtil.create("div",t+"-base",o),this._separator=l.DomUtil.create("div",t+"-separator",o),this._overlaysList=l.DomUtil.create("div",t+"-overlays",o),e.appendChild(o)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&l.stamp(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,i){t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:i}),this.options.sortLayers&&this._layers.sort(l.bind(function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex))},_update:function(){if(!this._container)return this;l.DomUtil.empty(this._baseLayersList),l.DomUtil.empty(this._overlaysList);var t,e,i,o,n=0;for(i=0;i<this._layers.length;i++)o=this._layers[i],this._addItem(o),e=e||o.overlay,t=t||!o.overlay,n+=o.overlay?0:1;return this.options.hideSingleBase&&(t=t&&n>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(l.stamp(t.target)),i=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;i&&this._map.fire(i,e)},_createRadioElement:function(t,e){var i='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",o=r.createElement("div");return o.innerHTML=i,o.firstChild},_addItem:function(t){var e,i=r.createElement("label"),o=this._map.hasLayer(t.layer);t.overlay?(e=r.createElement("input"),e.type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=o):e=this._createRadioElement("leaflet-base-layers",o),e.layerId=l.stamp(t.layer),l.DomEvent.on(e,"click",this._onInputClick,this);var n=r.createElement("span");n.innerHTML=" "+t.name;var s=r.createElement("div");return i.appendChild(s),s.appendChild(e),s.appendChild(n),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(i),this._checkDisabledLayers(),i},_onInputClick:function(){var t,e,i,o=this._form.getElementsByTagName("input"),n=[],s=[];this._handlingClick=!0;for(var r=o.length-1;r>=0;r--)t=o[r],e=this._getLayer(t.layerId).layer,i=this._map.hasLayer(e),t.checked&&!i?n.push(e):!t.checked&&i&&s.push(e);for(r=0;r<s.length;r++)this._map.removeLayer(s[r]);for(r=0;r<n.length;r++)this._map.addLayer(n[r]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,i=this._form.getElementsByTagName("input"),o=this._map.getZoom(),n=i.length-1;n>=0;n--)t=i[n],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&o<e.options.minZoom||void 0!==e.options.maxZoom&&o>e.options.maxZoom},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),l.control.layers=function(t,e,i){return new l.Control.Layers(t,e,i)}}(window,document)},53:function(t,e,i){function o(t,e,i){var o=t[e];a.call(t,e)&&s(o,i)&&(void 0!==i||e in t)||n(t,e,i)}var n=i(54),s=i(57),r=Object.prototype,a=r.hasOwnProperty;t.exports=o},54:function(t,e,i){function o(t,e,i){"__proto__"==e&&n?n(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}var n=i(55);t.exports=o},55:function(t,e,i){var o=i(96),n=function(){try{var t=o(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=n},56:function(t,e,i){function o(t){if(!s(t))return!1;var e=n(t);return e==a||e==l||e==r||e==p}var n=i(37),s=i(34),r="[object AsyncFunction]",a="[object Function]",l="[object GeneratorFunction]",p="[object Proxy]";t.exports=o},57:function(t,e){function i(t,e){return t===e||t!==t&&e!==e}t.exports=i},58:function(t,e){function i(t){return t}t.exports=i},59:function(t,e){function i(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=o}var o=9007199254740991;t.exports=i},60:function(t,e){function i(t,e){return!!(e=null==e?o:e)&&("number"==typeof t||n.test(t))&&t>-1&&t%1==0&&t<e}var o=9007199254740991,n=/^(?:0|[1-9]\d*)$/;t.exports=i},61:function(t,e){function i(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||o)}var o=Object.prototype;t.exports=i},610:function(t,e,i){i(26),i(27),i(28),t.exports=i(611)},611:function(t,e,i){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function n(){var t=_(".lead-container.lead-affix"),e=t.outerHeight(!0);t.parent().css("height",e)}function s(){(0,l.isMobileViewport)()&&_('[data-role="compress-box"]').addClass("mobile__compressed"),_('[data-action="expande-features"]').on("click",function(){_(this).remove(),_('[data-role="compress-box"]').removeClass("mobile__compressed")})}var r=i(172),a=o(r),l=i(2),p=i(93),c=i(612),u=o(c),d=i(19),h=o(d),m=i(20),f=o(m),y=i(617),g=o(y),v=i(618);i(619),i(620);var _=i(0),w=i(149),x=i(1),b=i(621),T=i(94),k=i(622),P=i(18),C=i(23),L=i(182),S=i(624),E=i(626),D=i(68),M=i(627),O=i(69),z=i(44);S.initialize(),(0,a.default)({route:"property-description"}),k.initialize(),(0,v.propertyDetailCurrency)(),u.default.initialize(),g.default.initialize(),b(),T.initialize({context:"DettaglioAnnuncio",container:"body",likeSel:".bookmark_container .like_element",blacklistSel:".bookmark_container .blacklist"}),E.initialize(),D.trackViewEvent(),z(),C.setCustomVars(P.gaCustomVars),_.each(P.gaCustomEvents,function(t,e){C.trackEvent(e.category,e.action,e.label)}),L("scroll_detail","scroll","detail"),x.utils=new w,_(x).load(function(){(0,f.default)("div[data-src]",function(t){return t.style.backgroundImage="url("+t.getAttribute("data-src")+")"}),(0,f.default)("img[data-src]",m.replaceImage);var t=_("#carousel-related");t.removeClass("hidden"),t.slick({rtl:"rtl"===_("html").attr("dir"),speed:300,slidesToShow:4,slidesToScroll:4,autoplay:!0,autoplaySpeed:1e5,responsive:[{breakpoint:1280,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:1024,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:600,settings:"unslick"}]}),n(),_(x).on("resize",(0,h.default)(function(){t.slick("resize"),n(),(0,l.isMobileDevice)()||s()})),_(x).on("scroll",(0,h.default)(function(){(0,l.isMobileDevice)()&&(_("#android-app-banner").hasClass("app__container--visible")||_(".language-bar").length<=0&&M([_(".section__gallery-contact")])),(0,l.isMobileViewport)()&&(0,p.leAffixButton)({el:_(".lead-container__bottom").find('[data-target="#agencyContactModal"]'),classFixed:"agency__contact--fixed",limitButtonElement:_('[data-role="limit-button"]')})})),void 0!==x.trackingImage&&x.utils.tracking.loadTrackingImage(x.trackingImage.d,x.trackingImage.r),s(),O.initBreadcrumbsBase(_(".breadcrumb-last-link"))})},612:function(t,e,i){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function n(t){t?(R.zoomControl.remove(),R.tap&&R.tap.disable(),R.dragging.disable(),R.doubleClickZoom.disable()):(R.zoomControl.addTo(R),R.tap&&R.tap.enable(),R.dragging.enable(),R.doubleClickZoom.enable())}function s(t){var e=t.parentNode;(0,S.removeClass)(t,"map__container--fullscreen"),e.style.height="",e.style.width="",t.style.position="relative",t.style.zIndex="",t.style.top="",t.style.left="",t.style.width="",t.style.height="",t.style.right="",t.style.bottom=""}function r(){var t=R.getContainer(),e=t.parentNode;if(N){var i=t.getBoundingClientRect(),o=e.getBoundingClientRect();(0,D.transform)(t,i,o).play().then(function(){R.once("click",r),s(t),(0,C.default)(R)})}else{var a=e.getBoundingClientRect();e.style.height=a.height+"px",e.style.width=a.width+"px",t.style.position="fixed",t.style.zIndex="21",(0,D.transform)(t,{top:a.top,left:a.left,width:a.width,height:a.height},{top:50,left:0,width:window.innerWidth,height:window.innerHeight-50}).play().then(function(){(0,S.addClass)(t,"map__container--fullscreen"),(0,C.default)(R)})}n(N),N=!N}function a(t){if(R){var e=t.matches;n(e),e?(R.once("click",r),B.addTo(R)):(s(R.getContainer()),N=!1,B.remove(),R.off("click",r))}}function l(){I="propertyDetailMap",A=(0,u.$)("#"+I),U={lat:A.data("lat"),lng:A.data("lng")},A.length&&p()}function p(){switch(R=(0,y.default)(A.get(0),{center:U,dragging:!0,zoom:15,scrollWheelZoom:!1}),a(d.mobileViewport),A.data("type")){case 1:(0,v.default)(U,{icon:O}).addTo(R);break;case 2:(0,b.default)(U,{radius:300,color:"#BD0021",weight:2,fillColor:"#BD0021",fillOpacity:.3}).addTo(R)}c()}function c(){m.default.send("map.js.properties_detail")}Object.defineProperty(e,"__esModule",{value:!0});var u=i(1),d=i(2),h=i(211),m=o(h),f=i(206),y=o(f),g=i(161),v=o(g),_=i(613),w=o(_),x=i(283),b=o(x),T=i(615),k=o(T),P=i(616),C=o(P),L=i(77),S=i(8),E=i(52),D=i(169),M=void 0!==window.devicePixelRatio&&window.devicePixelRatio>1,O=(0,w.default)({iconUrl:M?"https://cle.a-cdn.net/bundles/app/images/maps/markers/ic_map_pin_red_xhdpi~e7596fcf.png":"https://cle.a-cdn.net/bundles/app/images/maps/markers/ic_map_pin_red_mdpi~117b7816.png",iconSize:[32,32],iconAnchor:[16,32],shadowUrl:""}),z=(0,k.default)(function(){var t=document.createElement("div");t.className="leaflet-control leaflet-bar le-fullscreen-control";var e=document.createElement("a");return e.setAttribute("role","button"),e.innerHTML='<i class="icon-lg icon-icona-fullscreen"></i><i class="icon-lg icon-icona-croce"></i>',(0,L.addEvent)(e,"click",function(t){(0,E.stopPrevent)(t),r()}),t.appendChild(e),t},null,{position:"topright"}),I=void 0,A=void 0,B=new z,U=void 0,R=void 0,N=!1;d.mobileViewport.addListener(a),e.default={initialize:l}},613:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(51),n=function(t){return t&&t.__esModule?t:{default:t}}(o);e.default=n.default.icon},614:function(t,e,i){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(158),s=o(n),r=i(159),a=o(r),l=i(160),p=o(l),c=i(51),u=o(c),d=i(161),h=o(d),m=i(283),f=o(m),y=u.default.Util,g=u.default.Circle,v=u.default.layerGroup,_=u.default.divIcon,w=u.default.Draggable,x=u.default.DomUtil,b=function(t){function e(i,o){(0,s.default)(this,e);var n=(0,a.default)(this,t.call(this,i,y.extend({moveIcon:_({iconSize:[12,12],className:"maps__edit-icon maps__edit-icon--move"}),maxRadius:4e3,minRadius:250,editable:!1},o)));return n._guideOptions=y.extend({},n.options,{fill:!1,opacity:.4,editable:!1}),n._markerGroup=v(),n._editCircle=null,n}return(0,p.default)(e,t),e.prototype.bindTooltip=function(e,i){var o=y.extend({permanent:!0,direction:"right",sticky:!1,opacity:1,anchor:"right",draggable:!0},i),n=t.prototype.bindTooltip.call(this,e,o);if(o.draggable){var s=this.getTooltip(),r=s.getElement(),a=new w(r,r,!0);r.style.pointerEvents="auto",a.on({drag:this._onMarkerDrag,dragstart:this._onMarkerDragStart,dragend:this._onMarkerDragEnd},this).enable(),s._draggable=a}return n},e.prototype._updateBounds=function(){var e=this._tooltip;t.prototype._updateBounds.call(this),e&&e._map&&e._updatePosition()},e.prototype._getTooltipAnchor=function(){var e=this._tooltip.options.anchor;if(e){var i=this._editCircle&&this._editCircle._map?this._editCircle:this,o=i._radius;return{x:"left"===e?-o:"right"===e?o:0,y:"top"===e?-o:"bottom"===e?o:0}}return t.prototype._getTooltipAnchor?t.prototype._getTooltipAnchor.call(this):[0,0]},e.prototype._project=function(){t.prototype._project.call(this),this.options.editable&&this._initMarkers()},e.prototype._normalizeRadius=function(t){var e=this.options,i=e.minRadius,o=e.maxRadius;return"number"==typeof o&&(t=Math.min(t,o)),"number"==typeof i&&(t=Math.max(t,i)),t},e.prototype.setRadius=function(e){return e=this._normalizeRadius(e),this.fire("change",{latLng:this.getLatLng(),radius:e}),t.prototype.setRadius.call(this,e)},e.prototype.getCenter=function(){return t.prototype.getLatLng.call(this)},e.prototype.setEditable=function(t){this.options.editable=t,this.redraw()},e.prototype.onAdd=function(e){return this._markerGroup.addTo(e),t.prototype.onAdd.call(this,e)},e.prototype.onRemove=function(e){return this._markerGroup.removeFrom(e),t.prototype.onRemove.call(this,e)},e.prototype._move=function(t){this._editCircle.setLatLng(t),this.fire("moving",{latLng:t})},e.prototype._resize=function(t){var e=this.getLatLng(),i=e.distanceTo(t);i=this._normalizeRadius(i),this._editCircle.setRadius(i),this.fire("resizing",{radius:i})},e.prototype._onMarkerDragStart=function(t){this._editCircle&&this._editCircle.remove(),this._editCircle=(0,f.default)(this.getLatLng(),y.extend({},this._guideOptions,{radius:this.getRadius()})).addTo(this._map)},e.prototype._onMarkerDragEnd=function(t){this._editCircle.remove(),this.setRadius(this._editCircle.getRadius()),this.setLatLng(this._editCircle.getLatLng()),this._editCircle=null,this.fire("change",{latLng:this.getLatLng(),radius:this.getRadius()})},e.prototype._onMarkerDrag=function(t){var e=t.target,i=e.getLatLng&&e.getLatLng()||this._map.layerPointToLatLng(x.getPosition(e._element));e===this._moveMarker?this._move(i):this._resize(i)},e.prototype._bindMarker=function(t){t.on({drag:this._onMarkerDrag,dragstart:this._onMarkerDragStart,dragend:this._onMarkerDragEnd},this),this._markerGroup.addLayer(t)},e.prototype._initMarkers=function(){var t=this;if(!this._map)return void(this._resizeMarkers=[]);var e=this._map,i=e.project(this.getLatLng()),o=this._radius;this._markerGroup.clearLayers(),this._resizeMarkers=[e.unproject([i.x+o,i.y]),e.unproject([i.x,i.y+o]),e.unproject([i.x-o,i.y]),e.unproject([i.x,i.y-o])].map(function(i,o){var n=(0,h.default)(i,{draggable:!0,icon:t.options.moveIcon});return t._bindMarker(n),n.addTo(e),n}),this._moveMarker&&this._moveMarker.remove(),this._moveMarker=(0,h.default)(this.getLatLng(),{draggable:!0,icon:this.options.moveIcon}),this._bindMarker(this._moveMarker),this._moveMarker.addTo(this._map)},e}(g);e.default=b},615:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,i){return n.default.Control.extend({options:i,onAdd:t,onRemove:e})};var o=i(51),n=function(t){return t&&t.__esModule?t:{default:t}}(o)},616:function(t,e,i){"use strict";function o(t){t.invalidateSize()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o},617:function(t,e,i){"use strict";function o(){(0,a.querySelector)(document,'[data-role="note-container"]').join((0,a.querySelector)(document,'[data-role="note-button"]')).apply(function(t,e){var i=(0,n.initNoteComponent)(t,n.SECTION_PROPERTY_DETAIL);(0,r.default)(e,i)})}Object.defineProperty(e,"__esModule",{value:!0});var n=i(175),s=i(178),r=function(t){return t&&t.__esModule?t:{default:t}}(s),a=i(3);e.default={initialize:o}},618:function(t,e,i){"use strict";function o(){(0,r.querySelector)(document,'[data-role="amount-price"]').apply(function(t){return a=t}),(0,r.querySelector)(document,'[data-role="property-price"]').apply(function(t){return l=t}),(0,r.querySelector)(document,"."+s.DROPDOWN_SELECT_CLASS+".currency").apply(function(t){return(0,s.customSelect)(t,{onClickCallback:n})})}function n(t,e){(0,s.defaultOnClickCallback)(t,e),a.innerText=t.dataset.price+" "+t.dataset.priceSymbol,l.innerText=t.dataset.price}Object.defineProperty(e,"__esModule",{value:!0}),e.propertyDetailCurrency=o;var s=i(14),r=i(3),a=void 0,l=void 0},619:function(t,e,i){"use strict";function o(){if(s(document.body).width()>1024)return s(".slide-top-spaced").parent().outerHeight()}var n=i(2),s=i(0),r={agencyNameContainerTop:219,agencyLogoContainer:s(".agency-logo-container:first"),showSummaryBarFn:function(){(0,n.isDesktopViewport)()&&(s(document).scrollTop()>=r.agencyNameContainerTop-30?r.agencyLogoContainer.addClass("hide-logo"):r.agencyLogoContainer.removeClass("hide-logo"),s(document).scrollTop()>=r.agencyNameContainerTop?(s('[data-role="sticky-header"]').removeClass("not-show-me"),s('[data-role="header"]').addClass("not-show-me"),s(".lead-container").addClass("affix-bottom-top-bar")):(s('[data-role="sticky-header"]').addClass("not-show-me"),s('[data-role="header"]').removeClass("not-show-me"),s(".lead-container").removeClass("affix-bottom-top-bar")))}};s(".side-top-spaced").css({top:o}),s(document).on("scroll",r.showSummaryBarFn),r.showSummaryBarFn()},620:function(t,e,i){var o,n,s;!function(r){"use strict";n=[i(0)],o=r,void 0!==(s="function"==typeof o?o.apply(e,n):o)&&(t.exports=s)}(function(t){"use strict";var e=window.Slick||{};e=function(){function e(e,o){var n,s=this;s.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:t(e),appendDots:t(e),arrows:!0,asNavFor:null,prevArrow:'<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',nextArrow:'<button class="slick-next" aria-label="Next" type="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(e,i){return t('<button type="button" />').text(i+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},s.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,scrolling:!1,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,swiping:!1,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},t.extend(s,s.initials),s.activeBreakpoint=null,s.animType=null,s.animProp=null,s.breakpoints=[],s.breakpointSettings=[],s.cssTransitions=!1,s.focussed=!1,s.interrupted=!1,s.hidden="hidden",s.paused=!0,s.positionProp=null,s.respondTo=null,s.rowCount=1,s.shouldClick=!0,s.$slider=t(e),s.$slidesCache=null,s.transformType=null,s.transitionType=null,s.visibilityChange="visibilitychange",s.windowWidth=0,s.windowTimer=null,n=t(e).data("slick")||{},s.options=t.extend({},s.defaults,o,n),s.currentSlide=s.options.initialSlide,s.originalSettings=s.options,void 0!==document.mozHidden?(s.hidden="mozHidden",s.visibilityChange="mozvisibilitychange"):void 0!==document.webkitHidden&&(s.hidden="webkitHidden",s.visibilityChange="webkitvisibilitychange"),s.autoPlay=t.proxy(s.autoPlay,s),s.autoPlayClear=t.proxy(s.autoPlayClear,s),s.autoPlayIterator=t.proxy(s.autoPlayIterator,s),s.changeSlide=t.proxy(s.changeSlide,s),s.clickHandler=t.proxy(s.clickHandler,s),s.selectHandler=t.proxy(s.selectHandler,s),s.setPosition=t.proxy(s.setPosition,s),s.swipeHandler=t.proxy(s.swipeHandler,s),s.dragHandler=t.proxy(s.dragHandler,s),s.keyHandler=t.proxy(s.keyHandler,s),s.instanceUid=i++,s.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,s.registerBreakpoints(),s.init(!0)}var i=0;return e}(),e.prototype.activateADA=function(){this.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},e.prototype.addSlide=e.prototype.slickAdd=function(e,i,o){var n=this;if("boolean"==typeof i)o=i,i=null;else if(i<0||i>=n.slideCount)return!1;n.unload(),"number"==typeof i?0===i&&0===n.$slides.length?t(e).appendTo(n.$slideTrack):o?t(e).insertBefore(n.$slides.eq(i)):t(e).insertAfter(n.$slides.eq(i)):!0===o?t(e).prependTo(n.$slideTrack):t(e).appendTo(n.$slideTrack),n.$slides=n.$slideTrack.children(this.options.slide),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.append(n.$slides),n.$slides.each(function(e,i){t(i).attr("data-slick-index",e)}),n.$slidesCache=n.$slides,n.reinit()},e.prototype.animateHeight=function(){var t=this;if(1===t.options.slidesToShow&&!0===t.options.adaptiveHeight&&!1===t.options.vertical){var e=t.$slides.eq(t.currentSlide).outerHeight(!0);t.$list.animate({height:e},t.options.speed)}},e.prototype.animateSlide=function(e,i){var o={},n=this;n.animateHeight(),!0===n.options.rtl&&!1===n.options.vertical&&(e=-e),!1===n.transformsEnabled?!1===n.options.vertical?n.$slideTrack.animate({left:e},n.options.speed,n.options.easing,i):n.$slideTrack.animate({top:e},n.options.speed,n.options.easing,i):!1===n.cssTransitions?(!0===n.options.rtl&&(n.currentLeft=-n.currentLeft),t({animStart:n.currentLeft}).animate({animStart:e},{duration:n.options.speed,easing:n.options.easing,step:function(t){t=Math.ceil(t),!1===n.options.vertical?(o[n.animType]="translate("+t+"px, 0px)",n.$slideTrack.css(o)):(o[n.animType]="translate(0px,"+t+"px)",n.$slideTrack.css(o))},complete:function(){i&&i.call()}})):(n.applyTransition(),e=Math.ceil(e),!1===n.options.vertical?o[n.animType]="translate3d("+e+"px, 0px, 0px)":o[n.animType]="translate3d(0px,"+e+"px, 0px)",n.$slideTrack.css(o),i&&setTimeout(function(){n.disableTransition(),i.call()},n.options.speed))},e.prototype.getNavTarget=function(){var e=this,i=e.options.asNavFor;return i&&null!==i&&(i=t(i).not(e.$slider)),i},e.prototype.asNavFor=function(e){var i=this,o=i.getNavTarget();null!==o&&"object"==typeof o&&o.each(function(){var i=t(this).slick("getSlick");i.unslicked||i.slideHandler(e,!0)})},e.prototype.applyTransition=function(t){var e=this,i={};!1===e.options.fade?i[e.transitionType]=e.transformType+" "+e.options.speed+"ms "+e.options.cssEase:i[e.transitionType]="opacity "+e.options.speed+"ms "+e.options.cssEase,!1===e.options.fade?e.$slideTrack.css(i):e.$slides.eq(t).css(i)},e.prototype.autoPlay=function(){var t=this;t.autoPlayClear(),t.slideCount>t.options.slidesToShow&&(t.autoPlayTimer=setInterval(t.autoPlayIterator,t.options.autoplaySpeed))},e.prototype.autoPlayClear=function(){var t=this;t.autoPlayTimer&&clearInterval(t.autoPlayTimer)},e.prototype.autoPlayIterator=function(){var t=this,e=t.currentSlide+t.options.slidesToScroll;t.paused||t.interrupted||t.focussed||(!1===t.options.infinite&&(1===t.direction&&t.currentSlide+1===t.slideCount-1?t.direction=0:0===t.direction&&(e=t.currentSlide-t.options.slidesToScroll,t.currentSlide-1==0&&(t.direction=1))),t.slideHandler(e))},e.prototype.buildArrows=function(){var e=this;!0===e.options.arrows&&(e.$prevArrow=t(e.options.prevArrow).addClass("slick-arrow"),e.$nextArrow=t(e.options.nextArrow).addClass("slick-arrow"),e.slideCount>e.options.slidesToShow?(e.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.prependTo(e.options.appendArrows),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.appendTo(e.options.appendArrows),!0!==e.options.infinite&&e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):e.$prevArrow.add(e.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},e.prototype.buildDots=function(){var e,i,o=this;if(!0===o.options.dots){for(o.$slider.addClass("slick-dotted"),i=t("<ul />").addClass(o.options.dotsClass),e=0;e<=o.getDotCount();e+=1)i.append(t("<li />").append(o.options.customPaging.call(this,o,e)));o.$dots=i.appendTo(o.options.appendDots),o.$dots.find("li").first().addClass("slick-active")}},e.prototype.buildOut=function(){var e=this;e.$slides=e.$slider.children(e.options.slide+":not(.slick-cloned)").addClass("slick-slide"),e.slideCount=e.$slides.length,e.$slides.each(function(e,i){t(i).attr("data-slick-index",e).data("originalStyling",t(i).attr("style")||"")}),e.$slider.addClass("slick-slider"),e.$slideTrack=0===e.slideCount?t('<div class="slick-track"/>').appendTo(e.$slider):e.$slides.wrapAll('<div class="slick-track"/>').parent(),e.$list=e.$slideTrack.wrap('<div class="slick-list"/>').parent(),e.$slideTrack.css("opacity",0),!0!==e.options.centerMode&&!0!==e.options.swipeToSlide||(e.options.slidesToScroll=1),t("img[data-lazy]",e.$slider).not("[src]").addClass("slick-loading"),e.setupInfinite(),e.buildArrows(),e.buildDots(),e.updateDots(),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),!0===e.options.draggable&&e.$list.addClass("draggable")},e.prototype.buildRows=function(){var t,e,i,o,n,s,r,a=this;if(o=document.createDocumentFragment(),s=a.$slider.children(),a.options.rows>1){for(r=a.options.slidesPerRow*a.options.rows,n=Math.ceil(s.length/r),t=0;t<n;t++){var l=document.createElement("div");for(e=0;e<a.options.rows;e++){var p=document.createElement("div");for(i=0;i<a.options.slidesPerRow;i++){var c=t*r+(e*a.options.slidesPerRow+i);s.get(c)&&p.appendChild(s.get(c))}l.appendChild(p)}o.appendChild(l)}a.$slider.empty().append(o),a.$slider.children().children().children().css({width:100/a.options.slidesPerRow+"%",display:"inline-block"})}},e.prototype.checkResponsive=function(e,i){var o,n,s,r=this,a=!1,l=r.$slider.width(),p=window.innerWidth||t(window).width();if("window"===r.respondTo?s=p:"slider"===r.respondTo?s=l:"min"===r.respondTo&&(s=Math.min(p,l)),r.options.responsive&&r.options.responsive.length&&null!==r.options.responsive){n=null;for(o in r.breakpoints)r.breakpoints.hasOwnProperty(o)&&(!1===r.originalSettings.mobileFirst?s<r.breakpoints[o]&&(n=r.breakpoints[o]):s>r.breakpoints[o]&&(n=r.breakpoints[o]));null!==n?null!==r.activeBreakpoint?(n!==r.activeBreakpoint||i)&&(r.activeBreakpoint=n,"unslick"===r.breakpointSettings[n]?r.unslick(n):(r.options=t.extend({},r.originalSettings,r.breakpointSettings[n]),!0===e&&(r.currentSlide=r.options.initialSlide),r.refresh(e)),a=n):(r.activeBreakpoint=n,"unslick"===r.breakpointSettings[n]?r.unslick(n):(r.options=t.extend({},r.originalSettings,r.breakpointSettings[n]),!0===e&&(r.currentSlide=r.options.initialSlide),r.refresh(e)),a=n):null!==r.activeBreakpoint&&(r.activeBreakpoint=null,r.options=r.originalSettings,!0===e&&(r.currentSlide=r.options.initialSlide),r.refresh(e),a=n),e||!1===a||r.$slider.trigger("breakpoint",[r,a])}},e.prototype.changeSlide=function(e,i){var o,n,s,r=this,a=t(e.currentTarget);switch(a.is("a")&&e.preventDefault(),a.is("li")||(a=a.closest("li")),s=r.slideCount%r.options.slidesToScroll!=0,o=s?0:(r.slideCount-r.currentSlide)%r.options.slidesToScroll,e.data.message){case"previous":n=0===o?r.options.slidesToScroll:r.options.slidesToShow-o,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide-n,!1,i);break;case"next":n=0===o?r.options.slidesToScroll:o,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide+n,!1,i);break;case"index":var l=0===e.data.index?0:e.data.index||a.index()*r.options.slidesToScroll;r.slideHandler(r.checkNavigable(l),!1,i),a.children().trigger("focus");break;default:return}},e.prototype.checkNavigable=function(t){var e,i,o=this;if(e=o.getNavigableIndexes(),i=0,t>e[e.length-1])t=e[e.length-1];else for(var n in e){if(t<e[n]){t=i;break}i=e[n]}return t},e.prototype.cleanUpEvents=function(){var e=this;e.options.dots&&null!==e.$dots&&(t("li",e.$dots).off("click.slick",e.changeSlide).off("mouseenter.slick",t.proxy(e.interrupt,e,!0)).off("mouseleave.slick",t.proxy(e.interrupt,e,!1)),!0===e.options.accessibility&&e.$dots.off("keydown.slick",e.keyHandler)),e.$slider.off("focus.slick blur.slick"),!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow&&e.$prevArrow.off("click.slick",e.changeSlide),e.$nextArrow&&e.$nextArrow.off("click.slick",e.changeSlide),!0===e.options.accessibility&&(e.$prevArrow.off("keydown.slick",e.keyHandler),e.$nextArrow.off("keydown.slick",e.keyHandler))),e.$list.off("touchstart.slick mousedown.slick",e.swipeHandler),e.$list.off("touchmove.slick mousemove.slick",e.swipeHandler),e.$list.off("touchend.slick mouseup.slick",e.swipeHandler),e.$list.off("touchcancel.slick mouseleave.slick",e.swipeHandler),e.$list.off("click.slick",e.clickHandler),t(document).off(e.visibilityChange,e.visibility),e.cleanUpSlideEvents(),!0===e.options.accessibility&&e.$list.off("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&t(e.$slideTrack).children().off("click.slick",e.selectHandler),t(window).off("orientationchange.slick.slick-"+e.instanceUid,e.orientationChange),t(window).off("resize.slick.slick-"+e.instanceUid,e.resize),t("[draggable!=true]",e.$slideTrack).off("dragstart",e.preventDefault),t(window).off("load.slick.slick-"+e.instanceUid,e.setPosition)},e.prototype.cleanUpSlideEvents=function(){var e=this;e.$list.off("mouseenter.slick",t.proxy(e.interrupt,e,!0)),e.$list.off("mouseleave.slick",t.proxy(e.interrupt,e,!1))},e.prototype.cleanUpRows=function(){var t,e=this;e.options.rows>1&&(t=e.$slides.children().children(),t.removeAttr("style"),e.$slider.empty().append(t))},e.prototype.clickHandler=function(t){!1===this.shouldClick&&(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault())},e.prototype.destroy=function(e){var i=this;i.autoPlayClear(),i.touchObject={},i.cleanUpEvents(),t(".slick-cloned",i.$slider).detach(),i.$dots&&i.$dots.remove(),i.$prevArrow&&i.$prevArrow.length&&(i.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),i.htmlExpr.test(i.options.prevArrow)&&i.$prevArrow.remove()),i.$nextArrow&&i.$nextArrow.length&&(i.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),i.htmlExpr.test(i.options.nextArrow)&&i.$nextArrow.remove()),i.$slides&&(i.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){t(this).attr("style",t(this).data("originalStyling"))}),i.$slideTrack.children(this.options.slide).detach(),i.$slideTrack.detach(),i.$list.detach(),i.$slider.append(i.$slides)),i.cleanUpRows(),i.$slider.removeClass("slick-slider"),i.$slider.removeClass("slick-initialized"),i.$slider.removeClass("slick-dotted"),i.unslicked=!0,e||i.$slider.trigger("destroy",[i])},e.prototype.disableTransition=function(t){var e=this,i={};i[e.transitionType]="",!1===e.options.fade?e.$slideTrack.css(i):e.$slides.eq(t).css(i)},e.prototype.fadeSlide=function(t,e){var i=this;!1===i.cssTransitions?(i.$slides.eq(t).css({zIndex:i.options.zIndex}),i.$slides.eq(t).animate({opacity:1},i.options.speed,i.options.easing,e)):(i.applyTransition(t),i.$slides.eq(t).css({opacity:1,zIndex:i.options.zIndex}),e&&setTimeout(function(){i.disableTransition(t),e.call()},i.options.speed))},e.prototype.fadeSlideOut=function(t){var e=this;!1===e.cssTransitions?e.$slides.eq(t).animate({opacity:0,zIndex:e.options.zIndex-2},e.options.speed,e.options.easing):(e.applyTransition(t),e.$slides.eq(t).css({opacity:0,zIndex:e.options.zIndex-2}))},e.prototype.filterSlides=e.prototype.slickFilter=function(t){var e=this;null!==t&&(e.$slidesCache=e.$slides,e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.filter(t).appendTo(e.$slideTrack),e.reinit())},e.prototype.focusHandler=function(){var e=this;e.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*",function(i){i.stopImmediatePropagation();var o=t(this);setTimeout(function(){e.options.pauseOnFocus&&(e.focussed=o.is(":focus"),e.autoPlay())},0)})},e.prototype.getCurrent=e.prototype.slickCurrentSlide=function(){return this.currentSlide},e.prototype.getDotCount=function(){var t=this,e=0,i=0,o=0;if(!0===t.options.infinite)if(t.slideCount<=t.options.slidesToShow)++o;else for(;e<t.slideCount;)++o,e=i+t.options.slidesToScroll,i+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;else if(!0===t.options.centerMode)o=t.slideCount;else if(t.options.asNavFor)for(;e<t.slideCount;)++o,e=i+t.options.slidesToScroll,i+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;else o=1+Math.ceil((t.slideCount-t.options.slidesToShow)/t.options.slidesToScroll);return o-1},e.prototype.getLeft=function(t){var e,i,o,n=this,s=0;return n.slideOffset=0,i=n.$slides.first().outerHeight(!0),!0===n.options.infinite?(n.slideCount>n.options.slidesToShow&&(n.slideOffset=n.slideWidth*n.options.slidesToShow*-1,s=i*n.options.slidesToShow*-1),n.slideCount%n.options.slidesToScroll!=0&&t+n.options.slidesToScroll>n.slideCount&&n.slideCount>n.options.slidesToShow&&(t>n.slideCount?(n.slideOffset=(n.options.slidesToShow-(t-n.slideCount))*n.slideWidth*-1,s=(n.options.slidesToShow-(t-n.slideCount))*i*-1):(n.slideOffset=n.slideCount%n.options.slidesToScroll*n.slideWidth*-1,s=n.slideCount%n.options.slidesToScroll*i*-1))):t+n.options.slidesToShow>n.slideCount&&(n.slideOffset=(t+n.options.slidesToShow-n.slideCount)*n.slideWidth,s=(t+n.options.slidesToShow-n.slideCount)*i),n.slideCount<=n.options.slidesToShow&&(n.slideOffset=0,s=0),!0===n.options.centerMode&&n.slideCount<=n.options.slidesToShow?n.slideOffset=n.slideWidth*Math.floor(n.options.slidesToShow)/2-n.slideWidth*n.slideCount/2:!0===n.options.centerMode&&!0===n.options.infinite?n.slideOffset+=n.slideWidth*Math.floor(n.options.slidesToShow/2)-n.slideWidth:!0===n.options.centerMode&&(n.slideOffset=0,n.slideOffset+=n.slideWidth*Math.floor(n.options.slidesToShow/2)),e=!1===n.options.vertical?t*n.slideWidth*-1+n.slideOffset:t*i*-1+s,!0===n.options.variableWidth&&(o=n.slideCount<=n.options.slidesToShow||!1===n.options.infinite?n.$slideTrack.children(".slick-slide").eq(t):n.$slideTrack.children(".slick-slide").eq(t+n.options.slidesToShow),e=!0===n.options.rtl?o[0]?-1*(n.$slideTrack.width()-o[0].offsetLeft-o.width()):0:o[0]?-1*o[0].offsetLeft:0,!0===n.options.centerMode&&(o=n.slideCount<=n.options.slidesToShow||!1===n.options.infinite?n.$slideTrack.children(".slick-slide").eq(t):n.$slideTrack.children(".slick-slide").eq(t+n.options.slidesToShow+1),e=!0===n.options.rtl?o[0]?-1*(n.$slideTrack.width()-o[0].offsetLeft-o.width()):0:o[0]?-1*o[0].offsetLeft:0,e+=(n.$list.width()-o.outerWidth())/2)),e},e.prototype.getOption=e.prototype.slickGetOption=function(t){return this.options[t]},e.prototype.getNavigableIndexes=function(){var t,e=this,i=0,o=0,n=[];for(!1===e.options.infinite?t=e.slideCount:(i=-1*e.options.slidesToScroll,o=-1*e.options.slidesToScroll,t=2*e.slideCount);i<t;)n.push(i),i=o+e.options.slidesToScroll,o+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return n},e.prototype.getSlick=function(){return this},e.prototype.getSlideCount=function(){var e,i,o=this;return i=!0===o.options.centerMode?o.slideWidth*Math.floor(o.options.slidesToShow/2):0,!0===o.options.swipeToSlide?(o.$slideTrack.find(".slick-slide").each(function(n,s){if(s.offsetLeft-i+t(s).outerWidth()/2>-1*o.swipeLeft)return e=s,!1}),Math.abs(t(e).attr("data-slick-index")-o.currentSlide)||1):o.options.slidesToScroll},e.prototype.goTo=e.prototype.slickGoTo=function(t,e){this.changeSlide({data:{message:"index",index:parseInt(t)}},e)},e.prototype.init=function(e){var i=this;t(i.$slider).hasClass("slick-initialized")||(t(i.$slider).addClass("slick-initialized"),i.buildRows(),i.buildOut(),i.setProps(),i.startLoad(),i.loadSlider(),i.initializeEvents(),i.updateArrows(),i.updateDots(),i.checkResponsive(!0),i.focusHandler()),e&&i.$slider.trigger("init",[i]),!0===i.options.accessibility&&i.initADA(),i.options.autoplay&&(i.paused=!1,i.autoPlay())},e.prototype.initADA=function(){var e=this,i=Math.ceil(e.slideCount/e.options.slidesToShow),o=e.getNavigableIndexes().filter(function(t){return t>=0&&t<e.slideCount});e.$slides.add(e.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),null!==e.$dots&&(e.$slides.not(e.$slideTrack.find(".slick-cloned")).each(function(i){var n=o.indexOf(i);t(this).attr({role:"tabpanel",id:"slick-slide"+e.instanceUid+i,tabindex:-1}),-1!==n&&t(this).attr({"aria-describedby":"slick-slide-control"+e.instanceUid+n})}),e.$dots.attr("role","tablist").find("li").each(function(n){var s=o[n];t(this).attr({role:"presentation"}),t(this).find("button").first().attr({role:"tab",id:"slick-slide-control"+e.instanceUid+n,"aria-controls":"slick-slide"+e.instanceUid+s,"aria-label":n+1+" of "+i,"aria-selected":null,tabindex:"-1"})}).eq(e.currentSlide).find("button").attr({"aria-selected":"true",tabindex:"0"}).end());for(var n=e.currentSlide,s=n+e.options.slidesToShow;n<s;n++)e.$slides.eq(n).attr("tabindex",0);e.activateADA()},e.prototype.initArrowEvents=function(){var t=this;!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},t.changeSlide),t.$nextArrow.off("click.slick").on("click.slick",{message:"next"},t.changeSlide),!0===t.options.accessibility&&(t.$prevArrow.on("keydown.slick",t.keyHandler),t.$nextArrow.on("keydown.slick",t.keyHandler)))},e.prototype.initDotEvents=function(){var e=this;!0===e.options.dots&&(t("li",e.$dots).on("click.slick",{message:"index"},e.changeSlide),!0===e.options.accessibility&&e.$dots.on("keydown.slick",e.keyHandler)),!0===e.options.dots&&!0===e.options.pauseOnDotsHover&&t("li",e.$dots).on("mouseenter.slick",t.proxy(e.interrupt,e,!0)).on("mouseleave.slick",t.proxy(e.interrupt,e,!1))},e.prototype.initSlideEvents=function(){var e=this;e.options.pauseOnHover&&(e.$list.on("mouseenter.slick",t.proxy(e.interrupt,e,!0)),e.$list.on("mouseleave.slick",t.proxy(e.interrupt,e,!1)))},e.prototype.initializeEvents=function(){var e=this;e.initArrowEvents(),e.initDotEvents(),e.initSlideEvents(),e.$list.on("touchstart.slick mousedown.slick",{action:"start"},e.swipeHandler),e.$list.on("touchmove.slick mousemove.slick",{action:"move"},e.swipeHandler),e.$list.on("touchend.slick mouseup.slick",{action:"end"},e.swipeHandler),e.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},e.swipeHandler),e.$list.on("click.slick",e.clickHandler),t(document).on(e.visibilityChange,t.proxy(e.visibility,e)),!0===e.options.accessibility&&e.$list.on("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&t(e.$slideTrack).children().on("click.slick",e.selectHandler),t(window).on("orientationchange.slick.slick-"+e.instanceUid,t.proxy(e.orientationChange,e)),t(window).on("resize.slick.slick-"+e.instanceUid,t.proxy(e.resize,e)),t("[draggable!=true]",e.$slideTrack).on("dragstart",e.preventDefault),t(window).on("load.slick.slick-"+e.instanceUid,e.setPosition),t(e.setPosition)},e.prototype.initUI=function(){var t=this;!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.show(),t.$nextArrow.show()),!0===t.options.dots&&t.slideCount>t.options.slidesToShow&&t.$dots.show()},e.prototype.keyHandler=function(t){var e=this;t.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===t.keyCode&&!0===e.options.accessibility?e.changeSlide({data:{message:!0===e.options.rtl?"next":"previous"}}):39===t.keyCode&&!0===e.options.accessibility&&e.changeSlide({data:{message:!0===e.options.rtl?"previous":"next"}}))},e.prototype.lazyLoad=function(){function e(e){t("img[data-lazy]",e).each(function(){var e=t(this),i=t(this).attr("data-lazy"),o=t(this).attr("data-srcset"),n=t(this).attr("data-sizes")||r.$slider.attr("data-sizes"),s=document.createElement("img");s.onload=function(){e.animate({opacity:0},100,function(){o&&(e.attr("srcset",o),n&&e.attr("sizes",n)),e.attr("src",i).animate({opacity:1},200,function(){e.removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading")}),r.$slider.trigger("lazyLoaded",[r,e,i])})},s.onerror=function(){e.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),r.$slider.trigger("lazyLoadError",[r,e,i])},s.src=i})}var i,o,n,s,r=this;if(!0===r.options.centerMode?!0===r.options.infinite?(n=r.currentSlide+(r.options.slidesToShow/2+1),s=n+r.options.slidesToShow+2):(n=Math.max(0,r.currentSlide-(r.options.slidesToShow/2+1)),s=r.options.slidesToShow/2+1+2+r.currentSlide):(n=r.options.infinite?r.options.slidesToShow+r.currentSlide:r.currentSlide,s=Math.ceil(n+r.options.slidesToShow),!0===r.options.fade&&(n>0&&n--,s<=r.slideCount&&s++)),i=r.$slider.find(".slick-slide").slice(n,s),"anticipated"===r.options.lazyLoad)for(var a=n-1,l=s,p=r.$slider.find(".slick-slide"),c=0;c<r.options.slidesToScroll;c++)a<0&&(a=r.slideCount-1),i=i.add(p.eq(a)),i=i.add(p.eq(l)),a--,l++;e(i),r.slideCount<=r.options.slidesToShow?(o=r.$slider.find(".slick-slide"),e(o)):r.currentSlide>=r.slideCount-r.options.slidesToShow?(o=r.$slider.find(".slick-cloned").slice(0,r.options.slidesToShow),e(o)):0===r.currentSlide&&(o=r.$slider.find(".slick-cloned").slice(-1*r.options.slidesToShow),e(o))},e.prototype.loadSlider=function(){var t=this;t.setPosition(),t.$slideTrack.css({opacity:1}),t.$slider.removeClass("slick-loading"),t.initUI(),"progressive"===t.options.lazyLoad&&t.progressiveLazyLoad()},e.prototype.next=e.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})},e.prototype.orientationChange=function(){var t=this;t.checkResponsive(),t.setPosition()},e.prototype.pause=e.prototype.slickPause=function(){var t=this;t.autoPlayClear(),t.paused=!0},e.prototype.play=e.prototype.slickPlay=function(){var t=this;t.autoPlay(),t.options.autoplay=!0,t.paused=!1,t.focussed=!1,t.interrupted=!1},e.prototype.postSlide=function(e){var i=this;if(!i.unslicked&&(i.$slider.trigger("afterChange",[i,e]),i.animating=!1,i.slideCount>i.options.slidesToShow&&i.setPosition(),i.swipeLeft=null,i.options.autoplay&&i.autoPlay(),!0===i.options.accessibility&&(i.initADA(),!i.options.autoplay))){t(i.$slides.get(i.currentSlide)).attr("tabindex",0).focus()}},e.prototype.prev=e.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})},e.prototype.preventDefault=function(t){t.preventDefault()},e.prototype.progressiveLazyLoad=function(e){e=e||1;var i,o,n,s,r,a=this,l=t("img[data-lazy]",a.$slider);l.length?(i=l.first(),o=i.attr("data-lazy"),n=i.attr("data-srcset"),s=i.attr("data-sizes")||a.$slider.attr("data-sizes"),r=document.createElement("img"),r.onload=function(){n&&(i.attr("srcset",n),s&&i.attr("sizes",s)),i.attr("src",o).removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading"),!0===a.options.adaptiveHeight&&a.setPosition(),a.$slider.trigger("lazyLoaded",[a,i,o]),a.progressiveLazyLoad()},r.onerror=function(){e<3?setTimeout(function(){a.progressiveLazyLoad(e+1)},500):(i.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),a.$slider.trigger("lazyLoadError",[a,i,o]),a.progressiveLazyLoad())},r.src=o):a.$slider.trigger("allImagesLoaded",[a])},e.prototype.refresh=function(e){var i,o,n=this;o=n.slideCount-n.options.slidesToShow,!n.options.infinite&&n.currentSlide>o&&(n.currentSlide=o),n.slideCount<=n.options.slidesToShow&&(n.currentSlide=0),i=n.currentSlide,n.destroy(!0),t.extend(n,n.initials,{currentSlide:i}),n.init(),e||n.changeSlide({data:{message:"index",index:i}},!1)},e.prototype.registerBreakpoints=function(){var e,i,o,n=this,s=n.options.responsive||null;if("array"===t.type(s)&&s.length){n.respondTo=n.options.respondTo||"window";for(e in s)if(o=n.breakpoints.length-1,s.hasOwnProperty(e)){for(i=s[e].breakpoint;o>=0;)n.breakpoints[o]&&n.breakpoints[o]===i&&n.breakpoints.splice(o,1),o--;n.breakpoints.push(i),n.breakpointSettings[i]=s[e].settings}n.breakpoints.sort(function(t,e){return n.options.mobileFirst?t-e:e-t})}},e.prototype.reinit=function(){var e=this;e.$slides=e.$slideTrack.children(e.options.slide).addClass("slick-slide"),e.slideCount=e.$slides.length,e.currentSlide>=e.slideCount&&0!==e.currentSlide&&(e.currentSlide=e.currentSlide-e.options.slidesToScroll),e.slideCount<=e.options.slidesToShow&&(e.currentSlide=0),e.registerBreakpoints(),e.setProps(),e.setupInfinite(),e.buildArrows(),e.updateArrows(),e.initArrowEvents(),e.buildDots(),e.updateDots(),e.initDotEvents(),e.cleanUpSlideEvents(),e.initSlideEvents(),e.checkResponsive(!1,!0),!0===e.options.focusOnSelect&&t(e.$slideTrack).children().on("click.slick",e.selectHandler),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),e.setPosition(),e.focusHandler(),e.paused=!e.options.autoplay,e.autoPlay(),e.$slider.trigger("reInit",[e])},e.prototype.resize=function(){var e=this;t(window).width()!==e.windowWidth&&(clearTimeout(e.windowDelay),e.windowDelay=window.setTimeout(function(){e.windowWidth=t(window).width(),e.checkResponsive(),e.unslicked||e.setPosition()},50))},e.prototype.removeSlide=e.prototype.slickRemove=function(t,e,i){var o=this;if("boolean"==typeof t?(e=t,t=!0===e?0:o.slideCount-1):t=!0===e?--t:t,o.slideCount<1||t<0||t>o.slideCount-1)return!1;o.unload(),!0===i?o.$slideTrack.children().remove():o.$slideTrack.children(this.options.slide).eq(t).remove(),o.$slides=o.$slideTrack.children(this.options.slide),o.$slideTrack.children(this.options.slide).detach(),o.$slideTrack.append(o.$slides),o.$slidesCache=o.$slides,o.reinit()},e.prototype.setCSS=function(t){var e,i,o=this,n={};!0===o.options.rtl&&(t=-t),e="left"==o.positionProp?Math.ceil(t)+"px":"0px",i="top"==o.positionProp?Math.ceil(t)+"px":"0px",n[o.positionProp]=t,!1===o.transformsEnabled?o.$slideTrack.css(n):(n={},!1===o.cssTransitions?(n[o.animType]="translate("+e+", "+i+")",o.$slideTrack.css(n)):(n[o.animType]="translate3d("+e+", "+i+", 0px)",o.$slideTrack.css(n)))},e.prototype.setDimensions=function(){var t=this;!1===t.options.vertical?!0===t.options.centerMode&&t.$list.css({padding:"0px "+t.options.centerPadding}):(t.$list.height(t.$slides.first().outerHeight(!0)*t.options.slidesToShow),!0===t.options.centerMode&&t.$list.css({padding:t.options.centerPadding+" 0px"})),t.listWidth=t.$list.width(),t.listHeight=t.$list.height(),!1===t.options.vertical&&!1===t.options.variableWidth?(t.slideWidth=Math.ceil(t.listWidth/t.options.slidesToShow),t.$slideTrack.width(Math.ceil(t.slideWidth*t.$slideTrack.children(".slick-slide").length))):!0===t.options.variableWidth?t.$slideTrack.width(5e3*t.slideCount):(t.slideWidth=Math.ceil(t.listWidth),t.$slideTrack.height(Math.ceil(t.$slides.first().outerHeight(!0)*t.$slideTrack.children(".slick-slide").length)));var e=t.$slides.first().outerWidth(!0)-t.$slides.first().width();!1===t.options.variableWidth&&t.$slideTrack.children(".slick-slide").width(t.slideWidth-e)},e.prototype.setFade=function(){var e,i=this;i.$slides.each(function(o,n){e=i.slideWidth*o*-1,!0===i.options.rtl?t(n).css({position:"relative",right:e,top:0,zIndex:i.options.zIndex-2,opacity:0}):t(n).css({position:"relative",left:e,top:0,zIndex:i.options.zIndex-2,opacity:0})}),i.$slides.eq(i.currentSlide).css({zIndex:i.options.zIndex-1,opacity:1})},e.prototype.setHeight=function(){var t=this;if(1===t.options.slidesToShow&&!0===t.options.adaptiveHeight&&!1===t.options.vertical){var e=t.$slides.eq(t.currentSlide).outerHeight(!0);t.$list.css("height",e)}},e.prototype.setOption=e.prototype.slickSetOption=function(){var e,i,o,n,s,r=this,a=!1;if("object"===t.type(arguments[0])?(o=arguments[0],a=arguments[1],s="multiple"):"string"===t.type(arguments[0])&&(o=arguments[0],n=arguments[1],a=arguments[2],"responsive"===arguments[0]&&"array"===t.type(arguments[1])?s="responsive":void 0!==arguments[1]&&(s="single")),"single"===s)r.options[o]=n;else if("multiple"===s)t.each(o,function(t,e){r.options[t]=e});else if("responsive"===s)for(i in n)if("array"!==t.type(r.options.responsive))r.options.responsive=[n[i]];else{for(e=r.options.responsive.length-1;e>=0;)r.options.responsive[e].breakpoint===n[i].breakpoint&&r.options.responsive.splice(e,1),e--;r.options.responsive.push(n[i])}a&&(r.unload(),r.reinit())},e.prototype.setPosition=function(){var t=this;t.setDimensions(),t.setHeight(),!1===t.options.fade?t.setCSS(t.getLeft(t.currentSlide)):t.setFade(),t.$slider.trigger("setPosition",[t])},e.prototype.setProps=function(){var t=this,e=document.body.style;t.positionProp=!0===t.options.vertical?"top":"left","top"===t.positionProp?t.$slider.addClass("slick-vertical"):t.$slider.removeClass("slick-vertical"),void 0===e.WebkitTransition&&void 0===e.MozTransition&&void 0===e.msTransition||!0===t.options.useCSS&&(t.cssTransitions=!0),t.options.fade&&("number"==typeof t.options.zIndex?t.options.zIndex<3&&(t.options.zIndex=3):t.options.zIndex=t.defaults.zIndex),void 0!==e.OTransform&&(t.animType="OTransform",t.transformType="-o-transform",t.transitionType="OTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(t.animType=!1)),void 0!==e.MozTransform&&(t.animType="MozTransform",t.transformType="-moz-transform",t.transitionType="MozTransition",void 0===e.perspectiveProperty&&void 0===e.MozPerspective&&(t.animType=!1)),void 0!==e.webkitTransform&&(t.animType="webkitTransform",t.transformType="-webkit-transform",t.transitionType="webkitTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(t.animType=!1)),void 0!==e.msTransform&&(t.animType="msTransform",t.transformType="-ms-transform",t.transitionType="msTransition",void 0===e.msTransform&&(t.animType=!1)),void 0!==e.transform&&!1!==t.animType&&(t.animType="transform",t.transformType="transform",t.transitionType="transition"),t.transformsEnabled=t.options.useTransform&&null!==t.animType&&!1!==t.animType},e.prototype.setSlideClasses=function(t){var e,i,o,n,s=this;i=s.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),s.$slides.eq(t).addClass("slick-current"),!0===s.options.centerMode?(e=Math.floor(s.options.slidesToShow/2),!0===s.options.infinite&&(t>=e&&t<=s.slideCount-1-e?s.$slides.slice(t-e,t+e+1).addClass("slick-active").attr("aria-hidden","false"):(o=s.options.slidesToShow+t,i.slice(o-e+1,o+e+2).addClass("slick-active").attr("aria-hidden","false")),0===t?i.eq(i.length-1-s.options.slidesToShow).addClass("slick-center"):t===s.slideCount-1&&i.eq(s.options.slidesToShow).addClass("slick-center")),s.$slides.eq(t).addClass("slick-center")):t>=0&&t<=s.slideCount-s.options.slidesToShow?s.$slides.slice(t,t+s.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):i.length<=s.options.slidesToShow?i.addClass("slick-active").attr("aria-hidden","false"):(n=s.slideCount%s.options.slidesToShow,o=!0===s.options.infinite?s.options.slidesToShow+t:t,s.options.slidesToShow==s.options.slidesToScroll&&s.slideCount-t<s.options.slidesToShow?i.slice(o-(s.options.slidesToShow-n),o+n).addClass("slick-active").attr("aria-hidden","false"):i.slice(o,o+s.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false")),"ondemand"!==s.options.lazyLoad&&"anticipated"!==s.options.lazyLoad||s.lazyLoad()},e.prototype.setupInfinite=function(){var e,i,o,n=this;if(!0===n.options.fade&&(n.options.centerMode=!1),!0===n.options.infinite&&!1===n.options.fade&&(i=null,n.slideCount>n.options.slidesToShow)){for(o=!0===n.options.centerMode?n.options.slidesToShow+1:n.options.slidesToShow,e=n.slideCount;e>n.slideCount-o;e-=1)i=e-1,t(n.$slides[i]).clone(!0).attr("id","").attr("data-slick-index",i-n.slideCount).prependTo(n.$slideTrack).addClass("slick-cloned");for(e=0;e<o+n.slideCount;e+=1)i=e,t(n.$slides[i]).clone(!0).attr("id","").attr("data-slick-index",i+n.slideCount).appendTo(n.$slideTrack).addClass("slick-cloned");n.$slideTrack.find(".slick-cloned").find("[id]").each(function(){t(this).attr("id","")})}},e.prototype.interrupt=function(t){var e=this;t||e.autoPlay(),e.interrupted=t},e.prototype.selectHandler=function(e){var i=this,o=t(e.target).is(".slick-slide")?t(e.target):t(e.target).parents(".slick-slide"),n=parseInt(o.attr("data-slick-index"));if(n||(n=0),i.slideCount<=i.options.slidesToShow)return void i.slideHandler(n,!1,!0);i.slideHandler(n)},e.prototype.slideHandler=function(t,e,i){var o,n,s,r,a,l=null,p=this;if(e=e||!1,!(!0===p.animating&&!0===p.options.waitForAnimate||!0===p.options.fade&&p.currentSlide===t)){if(!1===e&&p.asNavFor(t),o=t,l=p.getLeft(o),r=p.getLeft(p.currentSlide),p.currentLeft=null===p.swipeLeft?r:p.swipeLeft,!1===p.options.infinite&&!1===p.options.centerMode&&(t<0||t>p.getDotCount()*p.options.slidesToScroll))return void(!1===p.options.fade&&(o=p.currentSlide,!0!==i?p.animateSlide(r,function(){p.postSlide(o)}):p.postSlide(o)));if(!1===p.options.infinite&&!0===p.options.centerMode&&(t<0||t>p.slideCount-p.options.slidesToScroll))return void(!1===p.options.fade&&(o=p.currentSlide,!0!==i?p.animateSlide(r,function(){p.postSlide(o)}):p.postSlide(o)));if(p.options.autoplay&&clearInterval(p.autoPlayTimer),n=o<0?p.slideCount%p.options.slidesToScroll!=0?p.slideCount-p.slideCount%p.options.slidesToScroll:p.slideCount+o:o>=p.slideCount?p.slideCount%p.options.slidesToScroll!=0?0:o-p.slideCount:o,p.animating=!0,p.$slider.trigger("beforeChange",[p,p.currentSlide,n]),s=p.currentSlide,p.currentSlide=n,p.setSlideClasses(p.currentSlide),p.options.asNavFor&&(a=p.getNavTarget(),a=a.slick("getSlick"),a.slideCount<=a.options.slidesToShow&&a.setSlideClasses(p.currentSlide)),p.updateDots(),p.updateArrows(),!0===p.options.fade)return!0!==i?(p.fadeSlideOut(s),p.fadeSlide(n,function(){p.postSlide(n)})):p.postSlide(n),void p.animateHeight();!0!==i?p.animateSlide(l,function(){p.postSlide(n)}):p.postSlide(n)}},e.prototype.startLoad=function(){var t=this;!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.hide(),t.$nextArrow.hide()),!0===t.options.dots&&t.slideCount>t.options.slidesToShow&&t.$dots.hide(),t.$slider.addClass("slick-loading")},e.prototype.swipeDirection=function(){var t,e,i,o,n=this;return t=n.touchObject.startX-n.touchObject.curX,e=n.touchObject.startY-n.touchObject.curY,i=Math.atan2(e,t),o=Math.round(180*i/Math.PI),o<0&&(o=360-Math.abs(o)),o<=45&&o>=0?!1===n.options.rtl?"left":"right":o<=360&&o>=315?!1===n.options.rtl?"left":"right":o>=135&&o<=225?!1===n.options.rtl?"right":"left":!0===n.options.verticalSwiping?o>=35&&o<=135?"down":"up":"vertical"},e.prototype.swipeEnd=function(t){var e,i,o=this;if(o.dragging=!1,o.swiping=!1,o.scrolling)return o.scrolling=!1,!1;if(o.interrupted=!1,o.shouldClick=!(o.touchObject.swipeLength>10),void 0===o.touchObject.curX)return!1;if(!0===o.touchObject.edgeHit&&o.$slider.trigger("edge",[o,o.swipeDirection()]),o.touchObject.swipeLength>=o.touchObject.minSwipe){switch(i=o.swipeDirection()){case"left":case"down":e=o.options.swipeToSlide?o.checkNavigable(o.currentSlide+o.getSlideCount()):o.currentSlide+o.getSlideCount(),o.currentDirection=0;break;case"right":case"up":e=o.options.swipeToSlide?o.checkNavigable(o.currentSlide-o.getSlideCount()):o.currentSlide-o.getSlideCount(),o.currentDirection=1}"vertical"!=i&&(o.slideHandler(e),o.touchObject={},o.$slider.trigger("swipe",[o,i]))}else o.touchObject.startX!==o.touchObject.curX&&(o.slideHandler(o.currentSlide),o.touchObject={})},e.prototype.swipeHandler=function(t){var e=this;if(!(!1===e.options.swipe||"ontouchend"in document&&!1===e.options.swipe||!1===e.options.draggable&&-1!==t.type.indexOf("mouse")))switch(e.touchObject.fingerCount=t.originalEvent&&void 0!==t.originalEvent.touches?t.originalEvent.touches.length:1,e.touchObject.minSwipe=e.listWidth/e.options.touchThreshold,!0===e.options.verticalSwiping&&(e.touchObject.minSwipe=e.listHeight/e.options.touchThreshold),t.data.action){case"start":e.swipeStart(t);break;case"move":e.swipeMove(t);break;case"end":e.swipeEnd(t)}},e.prototype.swipeMove=function(t){var e,i,o,n,s,r,a=this;return s=void 0!==t.originalEvent?t.originalEvent.touches:null,!(!a.dragging||a.scrolling||s&&1!==s.length)&&(e=a.getLeft(a.currentSlide),a.touchObject.curX=void 0!==s?s[0].pageX:t.clientX,a.touchObject.curY=void 0!==s?s[0].pageY:t.clientY,a.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(a.touchObject.curX-a.touchObject.startX,2))),r=Math.round(Math.sqrt(Math.pow(a.touchObject.curY-a.touchObject.startY,2))),!a.options.verticalSwiping&&!a.swiping&&r>4?(a.scrolling=!0,!1):(!0===a.options.verticalSwiping&&(a.touchObject.swipeLength=r),i=a.swipeDirection(),void 0!==t.originalEvent&&a.touchObject.swipeLength>4&&(a.swiping=!0,t.preventDefault()),n=(!1===a.options.rtl?1:-1)*(a.touchObject.curX>a.touchObject.startX?1:-1),!0===a.options.verticalSwiping&&(n=a.touchObject.curY>a.touchObject.startY?1:-1),o=a.touchObject.swipeLength,a.touchObject.edgeHit=!1,!1===a.options.infinite&&(0===a.currentSlide&&"right"===i||a.currentSlide>=a.getDotCount()&&"left"===i)&&(o=a.touchObject.swipeLength*a.options.edgeFriction,a.touchObject.edgeHit=!0),!1===a.options.vertical?a.swipeLeft=e+o*n:a.swipeLeft=e+o*(a.$list.height()/a.listWidth)*n,!0===a.options.verticalSwiping&&(a.swipeLeft=e+o*n),!0!==a.options.fade&&!1!==a.options.touchMove&&(!0===a.animating?(a.swipeLeft=null,!1):void a.setCSS(a.swipeLeft))))},e.prototype.swipeStart=function(t){var e,i=this;if(i.interrupted=!0,1!==i.touchObject.fingerCount||i.slideCount<=i.options.slidesToShow)return i.touchObject={},!1;void 0!==t.originalEvent&&void 0!==t.originalEvent.touches&&(e=t.originalEvent.touches[0]),i.touchObject.startX=i.touchObject.curX=void 0!==e?e.pageX:t.clientX,i.touchObject.startY=i.touchObject.curY=void 0!==e?e.pageY:t.clientY,i.dragging=!0},e.prototype.unfilterSlides=e.prototype.slickUnfilter=function(){var t=this;null!==t.$slidesCache&&(t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.appendTo(t.$slideTrack),t.reinit())},e.prototype.unload=function(){var e=this;t(".slick-cloned",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.remove(),e.$nextArrow&&e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.remove(),e.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},e.prototype.unslick=function(t){var e=this;e.$slider.trigger("unslick",[e,t]),e.destroy()},e.prototype.updateArrows=function(){var t=this;Math.floor(t.options.slidesToShow/2),!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&!t.options.infinite&&(t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===t.currentSlide?(t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):t.currentSlide>=t.slideCount-t.options.slidesToShow&&!1===t.options.centerMode?(t.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):t.currentSlide>=t.slideCount-1&&!0===t.options.centerMode&&(t.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},e.prototype.updateDots=function(){var t=this;null!==t.$dots&&(t.$dots.find("li").removeClass("slick-active").end(),t.$dots.find("li").eq(Math.floor(t.currentSlide/t.options.slidesToScroll)).addClass("slick-active"))},e.prototype.visibility=function(){var t=this;t.options.autoplay&&(document[t.hidden]?t.interrupted=!0:t.interrupted=!1)},t.fn.slick=function(){var t,i,o=this,n=arguments[0],s=Array.prototype.slice.call(arguments,1),r=o.length;for(t=0;t<r;t++)if("object"==typeof n||void 0===n?o[t].slick=new e(o[t],n):i=o[t].slick[n].apply(o[t].slick,s),void 0!==i)return i;return o}})},621:function(t,e,i){"use strict";function o(){window.open("","_self",""),window.close()}function n(){r.replaceState({closeWindow:!0},null,location),r.pushState({fakePop:!0},null,location),l("popstate",function(t){t.state.closeWindow&&o()})}function s(){try{return r&&a&&a.location.host===location.host&&1===r.length}catch(t){return!1}}var r=window.history,a=window.opener,l=window.addEventListener;t.exports=function(){s()&&n()}},622:function(t,e,i){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function n(){(0,l.default)('div[data-role="topOpenLightboxGallery"]').on("click",function(){s((0,y.default)(k)),b.default.trackGalleryEvent()}),(0,l.default)('div[data-role="bottomOpenLightboxGallery"]').on("click",function(){s((0,y.default)((0,v.default)({activeIndex:(0,l.default)(this).data("index")},k))),b.default.trackGalleryEvent()})}function s(t){if((0,T.isMobileDevice)()){var e=t.remove,i=(0,w.default)(function(){e()});t.remove=function(){i(),e()}}}function r(t,e){return'<svg fill="#ffffff" width="'+e+'" height="'+e+'" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="'+t+'"/><path d="M0 0h24v24H0z" fill="none"/></svg>'}Object.defineProperty(e,"__esModule",{value:!0}),e.initialize=void 0;var a=i(0),l=o(a),p=i(18),c=o(p),u=i(13),d=o(u),h=i(12),m=o(h),f=i(623),y=o(f),g=i(71),v=o(g),_=i(162),w=o(_),x=i(68),b=o(x),T=i(2),k={images:c.default.propertyImages,closeIcon:r("M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z",(0,T.isMobileViewport)()?24:48),prevIcon:r("M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z",62),nextIcon:r("M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z",62),lowerInfo:function(t,e,i){var o=m.default.trans("gallery-numOfnum");o=o.replace("{CURRENT}",t+1).replace("{TOTAL}",e),o="<strong>"+o+"</strong>",i&&((0,d.default)("ROLE_OPERATOR")||(0,d.default)("ROLE_ADMIN")?o+=', <a rel="nofollow" href="'+i+'" target="_blank">Mostra Originale</a>':o+=","+i);var n=(0,l.default)('[data-role="box-image-counters"]').clone();return n.children(".amount_like").addClass("pull-right"),n.html()+o}};e.initialize=n},623:function(t,e,i){"use strict";function o(t,e){if("undefined"==typeof document)return e;t=t||"";var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");return o.type="text/css",i.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t)),e}function n(){return!!window.ActiveXObject&&+/msie\s(\d+)/i.exec(navigator.userAgent)[1]||NaN}function s(t,e){var i=r(Array.prototype.slice.call(arguments,2));if("function"==typeof t)return l(t,e,i);var o=document.createElement(t);return e&&p(o,e,i),u(o,i),o}function r(t){return t.reduce(a,[])}function a(t,e){return Array.isArray(e)?t.concat(r(e)):(t.push(e),t)}function l(t,e,i){var o=t,n=void 0;return e=e||{},e.children=i,t.prototype.render?(o=new t(e),o.props=e,o.root=n=o.render(e),e.ref&&e.ref(o,i)):(n=o(e),e.ref&&e.ref(n,i)),o.componentWillMount&&o.componentWillMount(),o.componentDidMount&&E.push(o),n}function p(t,e,i){for(var o=Object.keys(e),n=o.length;--n>-1;){var s=o[n],r=e[s];if("ref"===s)r(t,i);else if("onInput"===s)t.addEventListener(D,r);else if("style"===s){if("string"==typeof r)t.style.cssText=r;else if("object"==typeof r)for(var a in r)t.style.setProperty(a,r[a])}else"o"===s[0]&&"n"===s[1]?t.addEventListener(s.toLowerCase().substring(2),r):s in t?c(t,s,r):t.setAttribute(s,r)}}function c(t,e,i){try{t[e]=i}catch(o){t.setAttribute(e,i)}}function u(t,e){for(var i=-1,o=e.length;++i<o;)"string"==typeof e[i]||"number"==typeof e[i]?t.appendChild(document.createTextNode(e[i])):null!==e[i]&&"object"==typeof e[i]&&t.appendChild(e[i])}function d(t,e){A(t,e)||(""!==t.className&&(t.className+=" "),t.className+=e.trim())}function h(t,e){for(;A(t,e);)t.className=(" "+t.className+" ").replace(" "+e+" "," ").trim()}function m(t){var e=document.documentElement;if(e&&!(t in e.style)){if("-webkit-"+t in e.style)return"-webkit-"+t;if("-ms-"+t in e.style)return"-ms-"+t;if("-moz-"+t in e.style)return"-moz-"+t}return t}function f(t,e,i){t.style[m(e)]=i}function y(t,e){t.style[m(e)]=""}function g(t){return setTimeout(function(){t(+new Date)},20)}function v(t){for(var e=[],i=0;i<t.length;i++)e.push({clientX:t[i].clientX,clientY:t[i].clientY});return e}function _(){if(!tt){var t=document.createElement("div");document.body.appendChild(t),t.style.width="100px",t.style.height="100px",t.style.overflow="scroll",t.style.position="absolute",t.style.top="-9999px",tt=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return tt}function w(t,e){return"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='"+t+"' height='"+e+"'%3E%3C/svg%3E"}function x(t,e){t.naturalWidth?e():t.addEventListener("load",e)}function b(t){function e(){!0===s?f(n,"transform","translate3d("+m.x*o()+"px, "+m.y*o()+"px, 0) scale3d("+a+", "+a+", 1)"):(y(n,"transform"),y(n,"willChange"),u=void 0),a>1.3?d(t,"lightbox--zooming"):h(t,"lightbox--zooming")}function i(t){f(n,"transition","transform .15s ease-out"),a=t,e(),setTimeout(y.bind(null,n,"transition"),150)}function o(){return a-1}var n=t.querySelector(".showcase"),s=!1,r=1,a=1,l=1,p=void 0,c=void 0,u=void 0,m=void 0,g=void 0;K(t,function(t,i,d){"start"!==i||s||(g=n.getBoundingClientRect(),p=k(t),m={x:(g.left+g.right)/2-p.clientX,y:(g.top+g.bottom)/2-p.clientY},f(n,"willChange","transform")),2===t.length&&("start"===i&&(r=T(t)/l),"first-move"===i&&(s=!0,u=2)),!0===s&&(1===t.length&&2!==u&&("start"===i&&(c=t[0],u=1),"first-move"!==i&&"move"!==i||(m.x+=(t[0].clientX-c.clientX)/o(),m.y+=(t[0].clientY-c.clientY)/o(),m.x=P(m.x,g.width/2),m.y=P(m.y,g.height/2),c=t[0])),"move"===i&&2===t.length&&1!==u&&(a=T(t)/r,a=Math.min(at,Math.max(1,a))),"end"===i&&(l=a,s=a>lt,u=void 0),d.preventDefault(),d.stopPropagation()),e()});var v=void 0;t.addEventListener("touchstart",function(t){if(1===t.touches.length){var e=+new Date;e-v<200&&(!0===s?(i(l=1),s=!1):(s=!0,i(l=2.5))),v=e}},!0)}function T(t){var e=t[0].clientX-t[1].clientX,i=t[0].clientY-t[1].clientY;return Math.sqrt(e*e+i*i)}function k(t){return 2!==t.length?t[0]:{clientX:(t[0].clientX+t[1].clientX)/2,clientY:(t[0].clientY+t[1].clientY)/2}}function P(t,e){return Math.abs(t)>e?t<0?-e:e:t}function C(t){t.preventDefault()}var L=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t},S=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},E=[],D=!function(){return 9===n()}()&&"oninput"in document.createElement("input")?"input":"keyup",M=function(){return window.innerWidth-document.body.clientWidth},O=function(){return document.documentElement.scrollTop||document.body.scrollTop},z=function(t){document.documentElement.scrollTop=document.body.scrollTop=t};o(".lightbox-backdrop{overflow:hidden;position:fixed;top:0;right:0;bottom:0;left:0;background-color:#000;z-index:1001;-moz-backface-visibility:hidden;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.lightbox-backdrop~*{display:none}",void 0);var I=function(){function t(){S(this,t),this.scrollbarSize=M(),this.windowScrollY=O()}return t.prototype.componentWillMount=function(){document.body&&document.body.style.setProperty("padding-right",this.scrollbarSize+"px"),document.body&&document.body.insertBefore(this.root,document.body.firstChild)},t.prototype.remove=function(){document.body&&document.body.style.removeProperty("padding-right"),this.root.parentNode&&this.root.parentNode.removeChild(this.root),z(this.windowScrollY)},t.prototype.render=function(){return s("div",{className:"lightbox-backdrop",onKeyUp:this.props.onKeyUp},this.props.children)},t}(),A=function(t,e){return-1!==(" "+t.className+" ").indexOf(" "+e+" ")},B=window.requestAnimationFrame||g,U=function(t,e){var i=void 0;return t.some(function(t,o){if(e(t,o))return i=t,!0}),i},R=function(t,e){t.parentNode&&t.parentNode.insertBefore(e,t)},N=function(t,e,i){return Math.abs((e-i)/4)<Math.abs((e-t)/8)?(e-i)/4:(e-t)/8},j=function(t){return U(t,function(t){return window.matchMedia(t).matches})||t[t.length-1]},Z=function(t){return t[j(Object.keys(t))]},$=function(t){return"string"==typeof t?t:t.srcset?Z(t.srcset):t.src},F=function(t){return"string"!=typeof t?t.alt:""},H=function(t,e){var i=-1;return t.some(function(t,o){if("object"==typeof t){if(t.src===e)return i=o,!0;if(t.srcset)for(var n in t.srcset)if(t.srcset[n]===e)return i=o,!0}else if(t===e)return i=o,!0}),i},W=function(t){var e=document.createElement("div"),i=void 0;if(!0===t.iframe?i=document.createElement("iframe"):(i=document.createElement("img"),i.setAttribute("alt",F(t))),e.className="showcase__item showcase__item--loading",i.onload=function(){h(e,"showcase__item--loading")},i.src=$(t),e.appendChild(i),t.iframe&&!0!==t.interactive){var o=document.createElement("div");o.className="showcase__evt-net",e.appendChild(o)}return e},G=function(t,e,i){return function(o,n){function s(p){if(r*a>=n*a)return void(i&&i(l));if(p){var c=t(o,n,r);c*a<1&&(c=a),r+=c,e(r)}requestAnimationFrame(s)}var r="function"!=typeof requestAnimationFrame?n:o,a=o>n?-1:1,l=o===n;return s(),function(){l=!0,r=n}}},q=function(t){return function(e){var i=!0,o=function(){i=!0};return function(){i&&(i=!1,e.apply(this,arguments),t(o))}}}(B),V=[],Y=function(t){return v(t.touches)},X={passive:!1,useCapture:!0},K=function(t,e){function i(){document.removeEventListener("touchmove",s,X),document.removeEventListener("touchend",r)}var o=void 0,n=function(t){document.addEventListener("touchmove",s,X),document.addEventListener("touchend",r),e(Y(t),o="start",t)},s=q(function(t){o="start"==o?"first-move":"move",e(Y(t),o,t)}),r=function(t){i(),e(V,o="end",t)};return t.addEventListener("touchstart",n,!0),t.removeEventListener.bind(t,"touchstart",n,!0)},J=function(){function t(e,i,o){var n=this;S(this,t);var s=this.list=e.querySelector(".showcase__list"),r=e.querySelector(".showcase__prev"),a=e.querySelector(".showcase__next");if(o=o||{},this.onSlide=o.onSlide,this.onSlideLoad=o.onSlideLoad,this.activeIndex=o.activeIndex||0,!s)throw new Error("Element should contains .showcase__list");this.swipeEndEasing=this.swipeEndEasing.bind(this),this.swipeUpdate=this.swipeUpdate.bind(this),this.el=e,this.images=i,this.setInitialState(),this.rtl=document&&document.documentElement&&"rtl"===document.documentElement.dir,B(function(){n.loadSlides(),n.showItem(n.activeIndex),r&&r.addEventListener("mousedown",function(t){t.preventDefault(),t.stopPropagation(),n.movePrev()}),a&&a.addEventListener("mousedown",function(t){t.preventDefault(),t.stopPropagation(),n.moveNext()}),n.swipeTween=G(N,n.swipeUpdate,n.swipeEndEasing),n.handleSwipe()})}return t.prototype.setInitialState=function(){var t=this.el.querySelectorAll(".showcase__item"),e=void 0,i=void 0,o=void 0,n=void 0;for(this.loadedList=new Array(this.images.length),o=0,n=t.length;o<n;o++)null!==(e=t[o].querySelector("img,iframe"))&&(i=H(this.images,e.src),-1!==i?(this.loadedList[i]=t[o],A(t[o],"showcase__item--active")&&(this.activeIndex=i)):t[o].parentNode&&t[o].parentNode.removeChild(t[o]))},t.prototype.loadSlides=function(){this.loadSlide(this.activeIndex),this.loadSlide(this.getPrevIndex()),this.loadSlide(this.getNextIndex())},t.prototype.loadSlide=function(t){if(void 0===this.loadedList[t]){var e=this.loadedList[t]=W(this.images[t]);for(t++;!this.loadedList[t]&&t<this.loadedList.length;)t++;this.loadedList[t]?R(this.loadedList[t],e):this.list.appendChild(e)}},t.prototype.movePrev=function(){this.showItem(this.rtl?this.getNextIndex():this.getPrevIndex())},t.prototype.moveNext=function(){this.showItem(this.rtl?this.getPrevIndex():this.getNextIndex())},t.prototype.triggerSlideChange=function(t){t!==this.lastTrigger&&(this.onSlide&&this.onSlide(t),this.lastTrigger=t)},t.prototype.showItem=function(t){this.getActiveSlide()&&h(this.getActiveSlide(),"showcase__item--active"),this.getPrevSlide()&&h(this.getPrevSlide(),"showcase__item--prev"),this.getNextSlide()&&h(this.getNextSlide(),"showcase__item--next"),this.activeIndex=t,this.loadSlides(),d(this.getActiveSlide(),"showcase__item--active"),this.getPrevIndex()!==this.activeIndex&&d(this.getPrevSlide(),"showcase__item--prev"),this.getNextIndex()!==this.activeIndex&&d(this.getNextSlide(),"showcase__item--next"),this.triggerSlideChange(t)},t.prototype.getActiveSlide=function(){return this.loadedList[this.activeIndex]},t.prototype.getPrevSlide=function(){return this.loadedList[this.getPrevIndex()]},t.prototype.getNextSlide=function(){return this.loadedList[this.getNextIndex()]},t.prototype.getPrevIndex=function(){return this.activeIndex>0?this.activeIndex-1:this.images.length-1},t.prototype.getNextIndex=function(){return this.activeIndex<this.images.length-1?this.activeIndex+1:0},t.prototype.handleSwipe=function(){var t=this,e=void 0,i=void 0,o=0,n=!1,s=0,r=!0;K(this.list,function(a,l,p){var c=a[0];if("start"===l&&(o=t.getActiveSlide().offsetWidth,r=!0,n=!1,s=0,i&&i(),f(t.list,"willChange","transform"),t.swipeUpdate(0),e=c),"first-move"===l&&1===a.length&&Math.abs(c.clientY-e.clientY)<=Math.abs(c.clientX-e.clientX)&&(n=!0,l="move"),"move"===l&&!0===n){var u=e.clientX-c.clientX;p.preventDefault(),u=u>0?Math.min(u,o):Math.max(u,-o),t.swipeUpdate(u),r=r&&Math.abs(u)>Math.abs(s),s=u}if("end"===l){y(t.list,"will-change");var d=r?10:o/2,h=s<0;if(t.swipeToLeft=h,Math.abs(s)<d)return t.swipeToLeft=void 0,void(i=t.swipeTween(s,0));i=t.swipeTween(s,h?-o:o),h=t.rtl?!h:h,t.triggerSlideChange(h?t.getPrevIndex():t.getNextIndex())}})},t.prototype.swipeUpdate=function(t){f(this.list,"transform","translate3d("+-t+"px, 0, 0)")},t.prototype.swipeEndEasing=function(){this.swipeUpdate(0),!0===this.swipeToLeft?this.movePrev():!1===this.swipeToLeft&&this.moveNext()},t}(),Q=function(t,e,i){return new J(t,e,i)},tt=void 0,et=function(t,e){if("object-fit"in t.style)return getComputedStyle(t).objectFit!==e&&t.style.setProperty("object-fit",e);var i=document.createElement("img");i.src=t.currentSrc||t.src,t.srcset=t.src="",t.style.backgroundImage='url("'+encodeURI(i.src)+'")',t.style.backgroundPosition="center",t.style.backgroundRepeat="no-repeat",t.style.backgroundOrigin="content-box",t.style.backgroundSize=e,x(i,function(){t.src=w(i.naturalWidth,i.naturalHeight)})},it=function(t){return(t.right+t.left)/2},ot=function(t){return t.getBoundingClientRect()},nt=function(t){return it(ot(t))},st=function(t,e){return t.scrollLeft+(nt(e)-nt(t))},rt=function(){function t(e){var i=this;S(this,t),this.thumbs=[],this.setContainerRef=function(t){i.container=t},this.setSliderRef=function(t){i.slider=t},this.setThumbRef=function(t){i.thumbs.push(t)},this.updateScrollPosition=function(t){i.container.scrollLeft=t},this.state={activeThumb:e.activeIndex||0},this.animateScroll=G(N,this.updateScrollPosition)}return t.prototype.componentDidMount=function(){this.scrollToThumb()},t.prototype.getActiveThumb=function(){return this.thumbs[this.state.activeThumb]},t.prototype.setActive=function(t){this.getActiveThumb().className="",this.state.activeThumb=t,this.scrollToThumb(!0)},t.prototype.scrollToThumb=function(t){var e=this.getActiveThumb(),i=st(this.container,e);e.className="active",this.cancelTween&&this.cancelTween(),!0===t?this.cancelTween=this.animateScroll(this.container.scrollLeft,i):this.updateScrollPosition(i)},t.prototype.onThumbClick=function(t){var e=this;return function(){e.props.onThumbClick(t)}},t.prototype.render=function(t){var e=this,i=t.images;return s("div",{className:"lightbox-slider"},s("div",{className:"lightbox-slider__container"+(_()?"":" lightbox-slider__container--no-scrollbar"),style:{"margin-bottom":"-"+_()+"px"},ref:this.setContainerRef},s("div",{className:"lightbox-slider__list-wrap"},s("ul",{className:"lightbox-slider__list",ref:this.setSliderRef},i.map(function(t,i){return s("li",{className:i===e.state.activeThumb?"active":"",ref:e.setThumbRef,onClick:e.onThumbClick(i)},s("img",{src:t.src,alt:t.alt,ref:function(t){et(t,"cover")}}))})))))},t}(),at=3.2,lt=1.1;o(".showcase{position:relative;user-select:none}.showcase,.showcase__list{height:100%}.showcase__evt-net,.showcase__item{position:absolute;top:0;left:0;right:0;bottom:0;display:none}.showcase__item img{pointer-events:none}.showcase__evt-net,.showcase__item--active,.showcase__item--next,.showcase__item--prev{display:block}.showcase__item--active{transform:translateX(0)}.showcase__item--prev{-webkit-transform:translateX(-100%);-ms-transform:translateX(-100%);transform:translateX(-100%)}.showcase__item--next,[dir=rtl] .showcase__item--prev{-webkit-transform:translateX(100%);-ms-transform:translateX(100%);transform:translateX(100%)}[dir=rtl] .showcase__item--next{-webkit-transform:translateX(-100%);-ms-transform:translateX(-100%);transform:translateX(-100%)}.showcase__item--loading{background:#333;color:#fff}.showcase__item--loading>img{opacity:0}.lt-ie9 .showcase__item{visibility:hidden}.lt-ie9 .showcase__item--active{visibility:visible}.showcase__next,.showcase__prev{width:35px;height:100%;position:absolute;top:0}.showcase__next i,.showcase__prev i{position:absolute;top:50%;margin-top:-20px}.showcase__next{right:0}.showcase__prev i{left:10px}.showcase__next i{right:10px}",void 0),o(".lightbox-backdrop .showcase{overflow:hidden;width:100%}.lightbox-backdrop .showcase__list{transform:translateZ(0)}.lightbox--zooming .lightbox-info,.lightbox--zooming .lightbox-slider{opacity:0}.lightbox-info,.lightbox-slider{transition:opacity .3s linear}.lightbox__spacing{height:12px}.lightbox-content{display:table;overflow:hidden;margin:0 auto;max-width:105vh;width:100%;color:#fff}.lightbox-backdrop .showcase,.lightbox-content,.lightbox-next,.lightbox-prev{height:100%}.lightbox-backdrop .showcase,.lightbox-info,.lightbox-slider{display:table-row}.lightbox-backdrop img{width:100%;height:100%;object-fit:contain}.lightbox-backdrop .showcase__item--loading{background:#000}.lightbox-backdrop .showcase__item--loading:before{content:none}.lightbox-slider{overflow:hidden}.lightbox-slider__container{position:relative;overflow-x:scroll;overflow-y:hidden;margin:0 auto}.lightbox-slider__container.lightbox-slider__container--no-scrollbar::-webkit-scrollbar{display:none;-webkit-appearance:none}.lightbox-slider__list-wrap{position:relative;bottom:0;left:0;height:87px}.lightbox-slider__list{display:block;padding:0;list-style:none;position:absolute;white-space:nowrap;user-select:none;margin:0 -6px}.lightbox-slider__list>li{display:inline-block;margin:0 6px;box-shadow:0 0 2px #000;background:#000;cursor:pointer;width:100px;height:75px;overflow:hidden;vertical-align:top}.lightbox-slider__list>li>img{object-fit:cover}.lightbox-slider__list img{opacity:.5;transition:opacity .15s ease-in-out}.lightbox-slider__list .active img{opacity:1}.lightbox-next,.lightbox-prev{color:#fff;opacity:.8;position:absolute;top:0;bottom:0;display:table;width:45px;cursor:pointer}.lightbox-next>*,.lightbox-prev>*{display:table-cell;vertical-align:middle}.lightbox-prev{left:0;text-align:right}.lightbox-next{right:0}.lightbox-close{position:absolute;top:0;right:0;padding:12px;cursor:pointer;z-index:200;opacity:.8}[dir=rtl] .lightbox-close{right:auto;left:0}@media only screen and (max-device-width:768px){.lightbox-next,.lightbox-prev{display:none}}@media only screen and (max-device-width:768px) and (orientation:landscape){.lightbox-slider{display:none}.lightbox-content{max-width:100%}}",void 0);var pt=function(t){return"string"==typeof t?{src:t}:t.srcset&&t.srcset.thumb?{src:t.srcset.thumb,alt:t.alt}:t},ct=function(){function t(){var e=this;S(this,t),this.setLightbox=function(t){e.lightbox=t,b(t.root),document.body.addEventListener("keydown",e.handleKeys),document.addEventListener("gesturestart",C)},this.setShowcase=function(t){e.showcase=t},this.setUpperInfo=function(t){e.upperInfo=t},this.setLowerInfo=function(t){e.lowerInfo=t},this.setSlider=function(t){e.slider=t},this.onThumbClick=function(t){e.showcase.setSlide(t)},this.onSlide=function(t){e.slider.setActive(t),e.upperInfo&&(e.upperInfo.innerHTML=e.renderInfoTemplate(e.props.upperInfo,t)),e.lowerInfo&&(e.lowerInfo.innerHTML=e.renderInfoTemplate(e.props.lowerInfo,t))},this.remove=function(){e.lightbox.remove(),document.body.removeEventListener("keydown",e.handleKeys),document.removeEventListener("gesturestart",C)},this.movePrev=function(){e.showcase.movePrev()},this.moveNext=function(){e.showcase.moveNext()},this.handleKeys=function(t){"ArrowRight"===t.key||39===t.keyCode?e.moveNext():"ArrowLeft"===t.key||37===t.keyCode?e.movePrev():"Escape"!==t.key&&27!==t.keyCode||e.remove()}}return t.prototype.renderInfoTemplate=function(t,e){return"function"==typeof t?t(e,this.props.images.length,this.props.images[e].alt):t},t.prototype.render=function(t){var e=t.images,i=t.closeIcon,o=t.nextIcon,n=t.prevIcon,r=t.upperInfo,a=t.lowerInfo,l=t.activeIndex;return s(I,{ref:this.setLightbox},s("div",{className:"lightbox-content"},s("div",{class:"lightbox-close",onClick:this.remove},s("div",{innerHTML:i})),s("div",{class:"lightbox__spacing"}),r?[s("div",{class:"lightbox-info",ref:this.setUpperInfo,innerHTML:this.renderInfoTemplate(r,0)}),s("div",{class:"lightbox__spacing"})]:null,s(ut,{images:e,ref:this.setShowcase,onSlide:this.onSlide,activeIndex:l}),s("div",{class:"lightbox__spacing"}),a?[s("div",{class:"lightbox-info",ref:this.setLowerInfo,innerHTML:this.renderInfoTemplate(a,0)}),s("div",{class:"lightbox__spacing"})]:null,s(rt,{images:e.map(pt),ref:this.setSlider,onThumbClick:this.onThumbClick,activeIndex:l}),s("div",{className:"lightbox-next",onClick:this.moveNext},s("div",{innerHTML:o})),s("div",{className:"lightbox-prev",onClick:this.movePrev},s("div",{innerHTML:n}))))},t}(),ut=function(){function t(){S(this,t)}return t.prototype.onSlideLoad=function(t){et(t.querySelector("img"),"contain")},t.prototype.movePrev=function(){this.showcase.movePrev()},t.prototype.moveNext=function(){this.showcase.moveNext()},t.prototype.componentWillMount=function(){this.showcase=Q(this.root,this.props.images,{activeIndex:this.props.activeIndex,onSlide:this.props.onSlide,onSlideLoad:this.onSlideLoad})},t.prototype.setSlide=function(t){this.showcase.showItem(t)},t.prototype.render=function(){return s("div",{className:"showcase"},s("div",{className:"showcase__list"}))},t}(),dt=function(t){var e=void 0;return s(ct,L({},t,{ref:function(t){e=t}})),e};t.exports=dt},624:function(t,e,i){"use strict";var o,n=i(0),s=i(47),r=i(625),a=i(179),l=i(23),p=i(7);t.exports=function(){function t(){n('[data-action="openModal"][data-id="sendFriend"]').on("click",function(){e(n(this))})}function e(t){d=new s,d.setModalVar({body:r({propertyId:t.data("property-id")}),cssClass:"fade",id:t.data("id")}).setPreHide(function(){m[0].reset(),f.reset()}),h=i(d.render())}function i(t){return m=t.find("form"),f=m.parsley(),m.on("submit",function(t){t.preventDefault(),c()}),t}function c(){f.isValid()&&(l.trackEvent("Annuncio","Condividi","Email"),n.ajax(p.generate("send-friend"),{cache:!1,type:"POST",data:m.serialize(),success:function(){h=u(a),setTimeout(function(){h.find(".modal-body .response").length&&h.modal("hide")},2e3)}}))}function u(t){return d.setModalVar("body",t),h=d.render()}var d,h,m,f=null;return o={initialize:t}}()},625:function(t,e,i){var o=i(4).twig,n=o({id:"/tmp/current/site-v3/src/LuxuryEstate/AppBundle/Resources/views/common/modals/send-friend.html.twig",data:[{type:"raw",value:'<div class="modal-header text-center visible-xs-block">\n    <span>'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"sendFriend-SEND FRIEND"},{type:"Twig.expression.type.filter",value:"trans",match:["| trans","trans"]}]},{type:"raw",value:'</span>\n</div>\n\n<form data-ajax data-parsley-validate="" id="sendFriendForm">\n    <div class="modal-mobile--wrap">\n        <p class="description sans-serif-medium">\n            '},{type:"output",stack:[{type:"Twig.expression.type.string",value:"sendFriend-dialogs"},{type:"Twig.expression.type.filter",value:"trans",match:["| trans","trans"]}]},{type:"raw",value:'\n        </p>\n        <input type="hidden" name="propertyId" value="'},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"propertyId",match:["propertyId"]},{type:"Twig.expression.type.test",filter:"defined"}],output:[{type:"output",stack:[{type:"Twig.expression.type.variable",value:"propertyId",match:["propertyId"]}]}]}},{type:"logic",token:{type:"Twig.logic.type.else",match:["else"],output:[{type:"raw",value:"null"}]}},{type:"raw",value:'">\n        <div class="form-group">\n            <label for="name_sendFriend" class="sr-only">'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"sendFriend-Your Name"},{type:"Twig.expression.type.filter",value:"trans",match:["| trans","trans"]}]},{type:"raw",value:'</label>\n            <input type="text" id="name_sendFriend" name="name" class="form-control" placeholder="'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"sendFriend-Your Name"},{type:"Twig.expression.type.filter",value:"trans",match:["| trans","trans"]}]},{type:"raw",value:'" data-parsley-required-message="'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"loginForm.Required field"},{type:"Twig.expression.type.filter",value:"trans",match:["| trans","trans"]}]},{type:"raw",value:'" required/>\n        </div>\n        <div class="form-group">\n            <label for="friendName_sendFriend" class="sr-only">'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"sendFriendForm-friendName"},{type:"Twig.expression.type.filter",value:"trans",match:["| trans","trans"]}]},{type:"raw",value:'</label>\n            <input type="text" id="friendName_sendFriend" name="friendName" class="form-control" placeholder="'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"sendFriendForm-friendName"},{type:"Twig.expression.type.filter",value:"trans",match:["| trans","trans"]}]},{type:"raw",value:'"/>\n        </div>\n        <div class="form-group">\n            <label for="friendEmail_sendFriend" class="sr-only">'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"sendFriend-Friend Email"},{type:"Twig.expression.type.filter",value:"trans",match:["| trans","trans"]}]},{type:"raw",value:'</label>\n            <input type="email" name="friendEmail" class="form-control" id="friendEmail_sendFriend" placeholder="'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"sendFriend-Friend Email"},{type:"Twig.expression.type.filter",value:"trans",match:["| trans","trans"]}]},{type:"raw",value:'" data-parsley-type-message="'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"formError.emailAddressInvalidFormat"},{type:"Twig.expression.type.filter",value:"trans",match:["| trans","trans"]}]},{type:"raw",value:'" data-parsley-required-message="'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"loginForm.Required field"},{type:"Twig.expression.type.filter",value:"trans",match:["| trans","trans"]}]},{type:"raw",value:'" required/>\n        </div>\n        <div class="form-group">\n            <label for="message_sendFriend" class="sr-only">'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"feedbackForm-message"},{type:"Twig.expression.type.filter",value:"trans",match:["| trans","trans"]}]},{type:"raw",value:'</label>\n            <textarea class="form-control" name="message" id="message_sendFriend" rows="4" placeholder="'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"feedbackForm-message"},{type:"Twig.expression.type.filter",value:"trans",match:["| trans","trans"]}]},{type:"raw",value:'" data-parsley-required-message="'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"loginForm.Required field"},{type:"Twig.expression.type.filter",value:"trans",match:["| trans","trans"]}]},{type:"raw",value:'" required></textarea>\n        </div>\n        <div class="privacy privacy--space">\n            <p>'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"signupForm-PRIVACY_LINK"},{type:"Twig.expression.type.filter",value:"trans",match:["| trans","trans"]},{type:"Twig.expression.type.filter",value:"raw",match:["| raw","raw"]}]},{type:"raw",value:'</p>\n        </div>\n    </div>\n    <button type="submit" class="btn btn-primary btn-block modal-mobile--btn">'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"sendFriend-SEND FRIEND"},{type:"Twig.expression.type.filter",value:"trans",match:["| trans","trans"]}]},{type:"raw",value:"</button>\n</form>\n\n"}],allowInlineIncludes:!0,rethrow:!0});t.exports=function(t){return n.render(t)}},626:function(t,e,i){"use strict";var o,n=i(0),s=i(1),r=i(68),a=i(23);o=function(){function t(){e()}function e(){n(".likeButtonTwitter").on("click",function(){return a.trackEvent("Annuncio","Condividi","Twitter"),s.open("https://twitter.com/intent/tweet?url="+encodeURI(s.location.href),"twitter",i),r.trackShareEvent(),!1}),n(".likeButtonFacebook").on("click",function(){return a.trackEvent("Annuncio","Condividi","Facebook"),s.open("https://www.facebook.com/sharer.php?u="+encodeURI(s.location.href),"facebook",i),r.trackShareEvent(),!1}),n(".likeButtonPinterest").on("click",function(){return a.trackEvent("Annuncio","Condividi","Pinterest"),s.open("https://pinterest.com/pin/create/link/?url="+encodeURI(s.location.href)+"&media="+encodeURI(n(this).data("media"))+"&description="+encodeURI(n(this).data("title")),"pinterest",i),r.trackShareEvent(),!1})}var i="toolbar=0,status=0,width=660,height=445";return{initialize:t}},t.exports=new o},627:function(t,e,i){"use strict";var o=i(0);t.exports=function(t){if(t.length){var e=window.scrollY,i=.5*Math.max(e,0);e<=t[0].outerHeight()&&t.forEach(function(t){o(t).css({transform:"translate3d(0px, "+i+"px, 0px)"})})}}},69:function(t,e,i){"use strict";var o,n,s,r,a,l,p,c,u,d,h,m,f,y=i(2),g=i(0);t.exports=function(){function t(){m='<i class="icon-frecciagiu icon-lg visible-xs-inline-block"></i>',o=g(".breadcrumbs"),n=o.find("li"),s=o.find("li.breadcrumb-last-link"),r=o.find("li:nth-child(2)").hasClass("breadcrumb-last-link"),l=o.find(".chosen-location"),a=l.find("ul li.selected"),p=g('<div class="close-breadcrumb-mask visible-xs"><span class="close-mobile"></span></div>'),c="breadcrumb_mobile",u="not-chosen-location",d="no-mobile-overflow"}function e(){t(),l.length||o.find("."+u).addClass("fake-breadcrumb-list").prev().addClass("fake-breadcrumb").append(m),s.length&&!r&&s.append(m),n.click(function(){(0,y.isMobileViewport)()&&(o.hasClass(c)||r||(o.addClass(c).prepend(p),o.css("cssText","display: flex !important;"),g("body").addClass(d),g(".block_title-bar--container").css("cssText","display: block !important;"),p.on("click",function(){v(g(this))}),n.hasClass(u)&&(a.clone().prependTo("."+u+" ul"),a.addClass("hidden"))))})}function i(e){t(),h=e.clone().removeClass("breadcrumb-last-link").addClass("breadcrumb-last-detail"),e.on("click",function(){(0,y.isMobileViewport)()&&(event.preventDefault(),o.hasClass(c)||(o.addClass(c).append(h).append(p),h.find(".icon-frecciagiu").remove(),g("body").addClass(d)),p.on("click",function(){v(p)}))})}function v(t){t.remove(),g("."+u+" ul li.selected").remove(),a.removeClass("hidden"),h&&h.remove(),o.removeClass(c),g("body").removeClass(d)}return f={initBreadcrumbs:e,initBreadcrumbsBase:i}}()},71:function(t,e,i){"use strict";var o=Object.prototype.hasOwnProperty,n=function(t,e){for(var i=Object(t),n=1;n<arguments.length;n++){var s=Object(arguments[n]);for(var r in s)o.call(s,r)&&(i[r]=s[r])}return i};t.exports=n},73:function(t,e,i){var o=i(4).twig,n=o({id:"/tmp/current/site-v3/src/LuxuryEstate/AppBundle/Resources/views/common/modals/modal-base-template.html.twig",data:[{type:"raw",value:'<div class="modal '},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"modal",match:["modal"]},{type:"Twig.expression.type.key.period",key:"cssClass"}]},{type:"raw",value:'" id="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"modal",match:["modal"]},{type:"Twig.expression.type.key.period",key:"id"}]},{type:"raw",value:'" tabindex="-1" role="dialog" aria-labelledby="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"modal",match:["modal"]},{type:"Twig.expression.type.key.period",key:"id"}]},{type:"raw",value:'Label" aria-hidden="true">\n    <div class="table-wrap">\n        <div class="modal-dialog cell-wrap cell-wrap--middle '},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"modal",match:["modal"]},{type:"Twig.expression.type.key.period",key:"cssClassSize"}]},{type:"raw",value:'">\n            <div class="modal-content">\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n                '},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"modal",match:["modal"]},{type:"Twig.expression.type.key.period",key:"header"}],output:[{type:"raw",value:'                    <div class="modal-header">\n                        '},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"modal",match:["modal"]},{type:"Twig.expression.type.key.period",key:"header"},{type:"Twig.expression.type.filter",value:"raw",match:["| raw","raw"]}]},{type:"raw",value:"\n                    </div>\n                "}]}},{type:"raw",value:'                <div class="modal-body">\n                    '},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"modal",match:["modal"]},{type:"Twig.expression.type.key.period",key:"body"},{type:"Twig.expression.type.filter",value:"raw",match:["| raw","raw"]}]},{type:"raw",value:"\n                </div>\n                "},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"modal",match:["modal"]},{type:"Twig.expression.type.key.period",key:"footer"}],output:[{type:"raw",value:'                    <div class="modal-footer">\n                        '},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"modal",match:["modal"]},{type:"Twig.expression.type.key.period",key:"footer"},{type:"Twig.expression.type.filter",value:"raw",match:["| raw","raw"]}]},{type:"raw",value:"\n                    </div>\n                "}]}},{type:"raw",value:"            </div>\n        </div>\n    </div>\n</div>\n"}],allowInlineIncludes:!0,rethrow:!0});t.exports=function(t){return n.render(t)}},93:function(t,e,i){"use strict";function o(t){var e=t.noLimitButton||!1,i=t.el,o=t.noFooter||!1,s=t.footerElement||null,r=$(n.window).height(),a=$(n.window).scrollTop(),l=null!==s?s.offset().top:null;if(e)o&&a>l-r?i.addClass("hidden"):i.removeClass("hidden");else{var p=t.limitButtonElement,c=t.classFixed,u=t.headerElement||$('[data-role="header"]'),d=t.noInitSticky||!1,h=p.offset().top+p.outerHeight(!0)+i.outerHeight(!0),m=i.hasClass(c);if(d)h=h-p.outerHeight(!0)-u.outerHeight(),!m&&h<a&&(!o||a<l-r)?(i.addClass(c),p.css("height",i.outerHeight(!0)),i.removeClass("hidden")):a<h?(p.removeAttr("style"),i.removeClass(c)):o&&a>l-r&&(i.removeClass(c),i.addClass("hidden"));else{var f=n.window.pageYOffset+n.window.innerHeight,y=f<h;m!==y&&(y?y&&i.addClass(c):i.removeClass(c))}}}Object.defineProperty(e,"__esModule",{value:!0}),e.leAffixButton=o;var n=i(1)},94:function(t,e,i){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}var n,s=i(2),r=i(17),a=o(r),l=i(13),p=o(l),c=i(29),u="ListaAnnunci",d="DettaglioAnnuncio",h="DettaglioAgenzia",m=15,f=i(0),y=i(7),g=i(95),v=i(12),_=i(126),w=i(46),x=i(127),b=i(128),T=i(78),k=i(18),P=i(24),C=i(68),L=i(23);t.exports=function(){function t(t){return rt=g({context:u,likeSel:".actions .like_element",blacklistSel:".actions .blacklist",labelSel:".bookmarkText",container:'[data-role="search-list-container"]',boxBlacklistsContainer:'[data-role="box-blacklists"]',boxImageCountersContainer:'[data-role="box-image-counters"]',listingResultsNumberLabel:".title-box span",boxPagination:".pagination"},t),X=f(rt.container),nt="icon-icona-cuorevuoto",st="icon-icona-cuorepieno",(0,s.isMobileDevice)()||e(),lt?(i(),N()&&(Q=f(rt.labelSel),et=f(rt.boxImageCountersContainer),pt.unfavourite=et.find('[data-role="blacklisted"]').text(),pt.favourite=et.find('[data-role="liked"]').text()),R()&&(tt=f(rt.boxBlacklistsContainer),it=f(rt.listingResultsNumberLabel),ot=f(rt.boxPagination),F()),l()):r(),n}function e(){X.on("mouseenter",rt.likeSel+", "+rt.blacklistSel,function(){f(this).addClass("hover")}).on("mouseleave",rt.likeSel+", "+rt.blacklistSel,function(){f(this).removeClass("hover")}),X.on("mouseenter",rt.likeSel,function(){f(this).hasClass("active")||f(this).closest(".like-on-top-bar").length?f(this).hasClass("active")&&f(this).closest(".like-on-top-bar").length&&Y(f(this).find("i"),st,nt):Y(f(this).find("i"),nt,st)}).on("mouseleave",rt.likeSel,function(){f(this).hasClass("active")||f(this).closest(".like-on-top-bar").length?f(this).hasClass("active")&&f(this).closest(".like-on-top-bar").length&&Y(f(this).find("i"),nt,st):Y(f(this).find("i"),st,nt)})}function i(){X.on("click",rt.likeSel,function(){var t=f(this).data("id"),e=f(this).hasClass("active")?at.unLike:at.like;f(this).hasClass("waiting")||(K=f(rt.likeSel+'[data-id="'+t+'"]'),J=f(rt.blacklistSel+'[data-id="'+t+'"]'),j(e,t,function(){e===at.like?S(K,J):D(K,J)},function(t){e===at.like?E(K,J,t):M(K,J,t)}))}),X.on("click",rt.blacklistSel,function(){var t,e=f(this).data("id");f(this).hasClass("waiting")||(K=f(rt.likeSel+'[data-id="'+e+'"]'),J=f(rt.blacklistSel+'[data-id="'+e+'"]'),R()?$(K,J):N()&&(t=f(this).hasClass("active")?at.unBlacklist:at.blacklist,j(t,e,function(){t===at.blacklist?O(K,J):z(K,J)},function(e){t===at.blacklist?I(K,J,e):A(K,J,e)})))})}function o(){f("#signInModal").modal("show")}function r(){X.on("click",rt.likeSel,function(){(0,c.storeBackup)(c.HOT_OR_NOT_STORAGE_KEY,{propertyId:f(this).data("id"),action:at.like}),o()}),X.on("click",rt.blacklistSel,function(){(0,c.storeBackup)(c.HOT_OR_NOT_STORAGE_KEY,{propertyId:f(this).data("id"),action:at.blacklist}),o()})}function l(){var t=(0,c.getBackup)(c.HOT_OR_NOT_STORAGE_KEY);if(t){if(t.action===at.like){var e=X.find(rt.likeSel+'[data-id="'+t.propertyId+'"]');e.hasClass("active")||e.click()}if(t.action===at.blacklist){var i=X.find(rt.blacklistSel+'[data-id="'+t.propertyId+'"]');i.hasClass("active")||i.click()}(0,c.deleteBackup)(c.HOT_OR_NOT_STORAGE_KEY)}}function S(t,e){L.trackEvent("Annuncio","Salva",rt.context),e.addClass("waiting"),t.addClass("waiting"),N()&&(e.hasClass("active")&&q(),U(v.trans("adDetail-SAVED")),e.removeClass("active"),H()),Y(t.find("i"),nt,st),t.addClass("active"),t.removeClass("hover")}function E(t,e,i){t.removeClass("waiting"),e.removeClass("waiting"),!0!==i?(t.removeClass("active"),N()&&U(v.trans("adDetail-doYouLike"))):N()&&C.trackFavoriteEvent()}function D(t,e){t.addClass("waiting"),e.addClass("waiting"),t.removeClass("active"),t.removeClass("hover"),Y(t.find("i"),st,nt),N()&&(U(v.trans("adDetail-doYouLike")),W())}function M(t,e,i){t.removeClass("waiting"),e.removeClass("waiting"),!0!==i&&(t.addClass("active"),N()&&U(v.trans("adDetail-SAVED")))}function O(t,e){e.addClass("waiting"),t.addClass("waiting"),N()&&(U(v.trans("adDetail-blacklisted")),G(),t.hasClass("active")&&(Y(t.find("i"),st,nt),W())),e.addClass("active"),e.removeClass("hover"),Y(t.find("i"),st,nt),t.removeClass("active")}function z(t,e){e.addClass("waiting"),e.removeClass("active"),e.removeClass("hover"),t.addClass("waiting"),U(v.trans("adDetail-doYouLike")),q()}function I(t,e,i){t.removeClass("waiting"),e.removeClass("waiting"),!0!==i&&(e.removeClass("active"),N()&&U(v.trans("adDetail-doYouLike")))}function A(t,e,i){t.removeClass("waiting"),e.removeClass("waiting"),!0!==i&&(e.addClass("active"),U(v.trans("adDetail-blacklisted")))}function B(){tt.html(_({totBlacklisted:ct})),tt.hasClass("hidden")&&tt.removeClass("hidden")}function U(t){Q.text(t.toUpperCase())}function R(){return rt.context===u}function N(){return rt.context===d||rt.context===h}function j(t,e,i,o){f.ajax(y.generate("hot-or-not"),{type:"POST",data:{id:e,action:t},beforeSend:i()}).always(o)}function Z(t,e,i){var o,n,s,r;o=e.closest("li"),I(t,e,i.result),!0===i.result?(o.remove(),r=T.numberUnformat(it.text()),r-=1,it.text(T.numberFormat(r)),0===r&&X.before(b()),i.item?(n=w({item:i.item}),s=f(n),s.addClass("search-list--in-item"),X.append(s),P.setDescriptionItem(s),setTimeout(function(){s.removeClass("search-list--in-item")},400)):1!==k.searchParams.pag||ot.hasClass("hidden")||ot.addClass("hidden")):(o.removeClass("hidden"),o.addClass("search-list--in-item"),setTimeout(function(){o.removeClass("search-list--in-item")},400),(ct-=1)&&B())}function $(t,e){var i,o;O(t,e),i=e.closest("li"),i.addClass("search-list--out-item"),setTimeout(function(){i.addClass("hidden")},400),ct+=1,B(),o=k.searchParams,o.start+=(o.limit||m)-1,o.limit=1,f.ajax(y.generate("hot-or-not"),{type:"POST",data:{id:e.data("id"),searchParams:o,action:at.blacklistAndSearch}}).success(function(i){Z(t,e,i)})}function F(){f.ajax(y.generate("count-blacklisted-by-search"),{type:"GET",data:{searchParams:k.searchParams}}).success(function(t){(ct=t.count)>0&&B()})}function H(){pt.favourite=T.numberUnformat(pt.favourite),pt.favourite+=1,V()}function W(){pt.favourite=T.numberUnformat(pt.favourite),pt.favourite-=1,V()}function G(){pt.unfavourite=T.numberUnformat(pt.unfavourite),pt.unfavourite+=1,V()}function q(){pt.unfavourite=T.numberUnformat(pt.unfavourite),pt.unfavourite-=1,V()}function V(){et.html(x({propertyCounters:pt}))}function Y(t,e,i){t.removeClass(e).addClass(i)}var X,K,J,Q,tt,et,it,ot,nt,st,rt={},at={like:"like",unLike:"unLike",blacklist:"blacklist",unBlacklist:"unBlacklist",blacklistAndSearch:"blacklistAndSearch"},lt=(0,a.default)((0,p.default)("IS_LOGGED")),pt={},ct=0;return n={initialize:t}}()},95:function(t,e,i){var o=i(53),n=i(102),s=i(103),r=i(35),a=i(61),l=i(112),p=Object.prototype,c=p.hasOwnProperty,u=s(function(t,e){if(a(e)||r(e))return void n(e,l(e),t);for(var i in e)c.call(e,i)&&o(t,i,e[i])});t.exports=u},96:function(t,e,i){function o(t,e){var i=s(t,e);return n(i)?i:void 0}var n=i(97),s=i(101);t.exports=o},97:function(t,e,i){function o(t){return!(!r(t)||s(t))&&(n(t)?m:p).test(a(t))}var n=i(56),s=i(98),r=i(34),a=i(100),l=/[\\^$.*+?()[\]{}|]/g,p=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,d=c.toString,h=u.hasOwnProperty,m=RegExp("^"+d.call(h).replace(l,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=o},98:function(t,e,i){function o(t){return!!s&&s in t}var n=i(99),s=function(){var t=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=o},99:function(t,e,i){var o=i(66),n=o["__core-js_shared__"];t.exports=n}},[610]);
//# sourceMappingURL=properties.map.js